"use strict";(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([[179],{985:(Qb,pR,Xb)=>{var od={};function qe(n){return"function"==typeof n}function Zb(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Xb.r(od),Xb.d(od,{FirebaseError:()=>ci,SDK_VERSION:()=>Do,_DEFAULT_ENTRY_NAME:()=>Eo,_addComponent:()=>N_,_addOrOverwriteComponent:()=>KB,_apps:()=>xo,_clearComponents:()=>coe,_components:()=>Ph,_getProvider:()=>xx,_registerComponent:()=>Ps,_removeServiceInstance:()=>loe,deleteApp:()=>QB,getApp:()=>YB,getApps:()=>hoe,initializeApp:()=>O_,onLog:()=>XB,registerVersion:()=>Ui,setLogLevel:()=>ZB});const Jb=Zb(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function sm(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class mn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(qe(i))try{i()}catch(s){e=s instanceof Jb?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{_R(s)}catch(o){e=e??[],o instanceof Jb?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Jb(e)}}add(e){var t;if(e&&e!==this)if(this.closed)_R(e);else{if(e instanceof mn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&sm(t,e)}remove(e){const{_finalizers:t}=this;t&&sm(t,e),e instanceof mn&&e._removeParent(this)}}mn.EMPTY=(()=>{const n=new mn;return n.closed=!0,n})();const mR=mn.EMPTY;function gR(n){return n instanceof mn||n&&"closed"in n&&qe(n.remove)&&qe(n.add)&&qe(n.unsubscribe)}function _R(n){qe(n)?n():n.unsubscribe()}const fa={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},om={setTimeout(n,e,...t){const{delegate:i}=om;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=om;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function yR(n){om.setTimeout(()=>{const{onUnhandledError:e}=fa;if(!e)throw n;e(n)})}function ew(){}const $G=tw("C",void 0,void 0);function tw(n,e,t){return{kind:n,value:e,error:t}}let pa=null;function am(n){if(fa.useDeprecatedSynchronousErrorHandling){const e=!pa;if(e&&(pa={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=pa;if(pa=null,t)throw i}}else n()}class nw extends mn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gR(e)&&e.add(this)):this.destination=XG}static create(e,t,i){return new ad(e,t,i)}next(e){this.isStopped?rw(function WG(n){return tw("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?rw(function qG(n){return tw("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?rw($G,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const KG=Function.prototype.bind;function iw(n,e){return KG.call(n,e)}class YG{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){lm(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){lm(i)}else lm(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){lm(t)}}}class ad extends nw{constructor(e,t,i){let r;if(super(),qe(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&fa.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&iw(e.next,s),error:e.error&&iw(e.error,s),complete:e.complete&&iw(e.complete,s)}):r=e}this.destination=new YG(r)}}function lm(n){fa.useDeprecatedSynchronousErrorHandling?function GG(n){fa.useDeprecatedSynchronousErrorHandling&&pa&&(pa.errorThrown=!0,pa.error=n)}(n):yR(n)}function rw(n,e){const{onStoppedNotification:t}=fa;t&&om.setTimeout(()=>t(n,e))}const XG={closed:!0,next:ew,error:function QG(n){throw n},complete:ew},sw="function"==typeof Symbol&&Symbol.observable||"@@observable";function so(n){return n}function vR(n){return 0===n.length?so:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let nt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function e8(n){return n&&n instanceof nw||function JG(n){return n&&qe(n.next)&&qe(n.error)&&qe(n.complete)}(n)&&gR(n)}(t)?t:new ad(t,i,r);return am(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=bR(i))((r,s)=>{const o=new ad({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[sw](){return this}pipe(...t){return vR(t)(this)}toPromise(t){return new(t=bR(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function bR(n){var e;return null!==(e=n??fa.Promise)&&void 0!==e?e:Promise}const t8=Zb(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ue=(()=>{class n extends nt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new wR(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new t8}next(t){am(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){am(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){am(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?mR:(this.currentObservers=null,s.push(t),new mn(()=>{this.currentObservers=null,sm(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new nt;return t.source=this,t}}return n.create=(e,t)=>new wR(e,t),n})();class wR extends ue{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:mR}}function CR(n){return qe(n?.lift)}function Nt(n){return e=>{if(CR(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ct(n,e,t,i,r){return new n8(n,e,t,i,r)}class n8 extends nw{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function oe(n,e){return Nt((t,i)=>{let r=0;t.subscribe(Ct(i,s=>{i.next(n.call(e,s,r++))}))})}function aw(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}function ma(n){return this instanceof ma?(this.v=n,this):new ma(n)}function o8(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function DR(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const lw=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function SR(n){return qe(n?.then)}function IR(n){return qe(n[sw])}function TR(n){return Symbol.asyncIterator&&qe(n?.[Symbol.asyncIterator])}function MR(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const AR=function l8(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function kR(n){return qe(n?.[AR])}function RR(n){return function s8(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof ma?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(i[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield ma(t.read());if(r)return yield ma(void 0);yield yield ma(i)}}finally{t.releaseLock()}})}function NR(n){return qe(n?.getReader)}function ti(n){if(n instanceof nt)return n;if(null!=n){if(IR(n))return function c8(n){return new nt(e=>{const t=n[sw]();if(qe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(lw(n))return function u8(n){return new nt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(SR(n))return function d8(n){return new nt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,yR)})}(n);if(TR(n))return OR(n);if(kR(n))return function h8(n){return new nt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(NR(n))return function f8(n){return OR(RR(n))}(n)}throw MR(n)}function OR(n){return new nt(e=>{(function p8(n,e){var t,i,r,s;return function i8(n,e,t,i){return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=o8(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function hs(n,e,t,i=0,r=!1){const s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function gn(n,e,t=1/0){return qe(e)?gn((i,r)=>oe((s,o)=>e(i,s,r,o))(ti(n(i,r))),t):("number"==typeof e&&(t=e),Nt((i,r)=>function m8(n,e,t,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<i?p(g):l.push(g),p=g=>{s&&e.next(g),c++;let _=!1;ti(t(g,u++)).subscribe(Ct(e,v=>{r?.(v),s?f(v):e.next(v)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<i;){const v=l.shift();o?hs(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(Ct(e,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,t)))}function ql(n=1/0){return gn(so,n)}const mr=new nt(n=>n.complete());function PR(n){return n&&qe(n.schedule)}function cw(n){return n[n.length-1]}function FR(n){return qe(cw(n))?n.pop():void 0}function ld(n){return PR(cw(n))?n.pop():void 0}function LR(n,e=0){return Nt((t,i)=>{t.subscribe(Ct(i,r=>hs(i,n,()=>i.next(r),e),()=>hs(i,n,()=>i.complete(),e),r=>hs(i,n,()=>i.error(r),e)))})}function VR(n,e=0){return Nt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function BR(n,e){if(!n)throw new Error("Iterable cannot be null");return new nt(t=>{hs(t,e,()=>{const i=n[Symbol.asyncIterator]();hs(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function zt(n,e){return e?function E8(n,e){if(null!=n){if(IR(n))return function y8(n,e){return ti(n).pipe(VR(e),LR(e))}(n,e);if(lw(n))return function b8(n,e){return new nt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(SR(n))return function v8(n,e){return ti(n).pipe(VR(e),LR(e))}(n,e);if(TR(n))return BR(n,e);if(kR(n))return function w8(n,e){return new nt(t=>{let i;return hs(t,e,()=>{i=n[AR](),hs(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>qe(i?.return)&&i.return()})}(n,e);if(NR(n))return function C8(n,e){return BR(RR(n),e)}(n,e)}throw MR(n)}(n,e):ti(n)}function cm(...n){const e=ld(n),t=function _8(n,e){return"number"==typeof cw(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?ti(i[0]):ql(t)(zt(i,e)):mr}function UR(n={}){const{connector:e=(()=>new ue),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return Nt((g,_)=>{c++,!d&&!u&&h();const v=l=l??e();_.add(()=>{c--,0===c&&!d&&!u&&(a=uw(p,r))}),v.subscribe(_),!o&&c>0&&(o=new ad({next:x=>v.next(x),error:x=>{d=!0,h(),a=uw(f,t,x),v.error(x)},complete:()=>{u=!0,h(),a=uw(f,i),v.complete()}}),ti(g).subscribe(o))})(s)}}function uw(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new ad({next:()=>{i.unsubscribe(),n()}});return ti(e(...t)).subscribe(i)}function ot(n){for(let e in n)if(n[e]===ot)return e;throw Error("Could not find renamed property on target object.")}function dw(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ct(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ct).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function hw(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const x8=ot({__forward_ref__:ot});function at(n){return n.__forward_ref__=at,n.toString=function(){return ct(this())},n}function re(n){return fw(n)?n():n}function fw(n){return"function"==typeof n&&n.hasOwnProperty(x8)&&n.__forward_ref__===at}function pw(n){return n&&!!n.\u0275providers}const um="https://g.co/ng/security#xss";class D extends Error{constructor(e,t){super(dm(e,t)),this.code=e}}function dm(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function fe(n){return"string"==typeof n?n:null==n?"":String(n)}function hm(n,e){throw new D(-201,!1)}function Zi(n,e){null==n&&function Ze(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function P(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function je(n){return{providers:n.providers||[],imports:n.imports||[]}}function fm(n){return HR(n,pm)||HR(n,zR)}function HR(n,e){return n.hasOwnProperty(e)?n[e]:null}function jR(n){return n&&(n.hasOwnProperty(mw)||n.hasOwnProperty(N8))?n[mw]:null}const pm=ot({\u0275prov:ot}),mw=ot({\u0275inj:ot}),zR=ot({ngInjectableDef:ot}),N8=ot({ngInjectorDef:ot});var se=(()=>((se=se||{})[se.Default=0]="Default",se[se.Host=1]="Host",se[se.Self=2]="Self",se[se.SkipSelf=4]="SkipSelf",se[se.Optional=8]="Optional",se))();let gw;function Ji(n){const e=gw;return gw=n,e}function $R(n,e,t){const i=fm(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&se.Optional?null:void 0!==e?e:void hm(ct(n))}const ft=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),cd={},_w="__NG_DI_FLAG__",mm="ngTempTokenPath",P8="ngTokenPath",F8=/\n/gm,L8="\u0275",qR="__source";let ud;function Wl(n){const e=ud;return ud=n,e}function V8(n,e=se.Default){if(void 0===ud)throw new D(-203,!1);return null===ud?$R(n,void 0,e):ud.get(n,e&se.Optional?null:void 0,e)}function C(n,e=se.Default){return(function O8(){return gw}()||V8)(re(n),e)}function ye(n,e=se.Default){return C(n,gm(e))}function gm(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function yw(n){const e=[];for(let t=0;t<n.length;t++){const i=re(n[t]);if(Array.isArray(i)){if(0===i.length)throw new D(900,!1);let r,s=se.Default;for(let o=0;o<i.length;o++){const a=i[o],l=B8(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push(C(r,s))}else e.push(C(i))}return e}function dd(n,e){return n[_w]=e,n.prototype[_w]=e,n}function B8(n){return n[_w]}function ao(n){return{toString:n}.toString()}var Or=(()=>((Or=Or||{})[Or.OnPush=0]="OnPush",Or[Or.Default=1]="Default",Or))(),gr=(()=>{return(n=gr||(gr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",gr;var n})();const fs={},Ye=[],_m=ot({\u0275cmp:ot}),vw=ot({\u0275dir:ot}),bw=ot({\u0275pipe:ot}),GR=ot({\u0275mod:ot}),ps=ot({\u0275fac:ot}),hd=ot({__NG_ELEMENT_ID__:ot});let j8=0;function Fe(n){return ao(()=>{const t=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Or.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Ye,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||gr.Emulated,id:"c"+j8++,styles:n.styles||Ye,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=n.dependencies,o=n.features;return r.inputs=QR(n.inputs,i),r.outputs=QR(n.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(KR).filter(YR):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(ni).filter(YR):null,r})}function KR(n){return Je(n)||$n(n)}function YR(n){return null!==n}function We(n){return ao(()=>({type:n.type,bootstrap:n.bootstrap||Ye,declarations:n.declarations||Ye,imports:n.imports||Ye,exports:n.exports||Ye,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function QR(n,e){if(null==n)return fs;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}const I=Fe;function _i(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Je(n){return n[_m]||null}function $n(n){return n[vw]||null}function ni(n){return n[bw]||null}function Ai(n,e){const t=n[GR]||null;if(!t&&!0===e)throw new Error(`Type ${ct(n)} does not have '\u0275mod' property.`);return t}const ms=0,j=1,Ee=2,Ot=3,_r=4,ga=5,qn=6,Kl=7,$t=8,ym=9,vm=10,De=11,ww=12,fd=13,XR=14,Yl=15,Wn=16,pd=17,Ql=18,Pr=19,md=20,ZR=21,pt=22,Cw=1,JR=2,bm=7,wm=8,Xl=9,ii=10;function ki(n){return Array.isArray(n)&&"object"==typeof n[Cw]}function yr(n){return Array.isArray(n)&&!0===n[Cw]}function Ew(n){return 0!=(4&n.flags)}function gd(n){return n.componentOffset>-1}function Cm(n){return 1==(1&n.flags)}function vr(n){return null!==n.template}function q8(n){return 0!=(256&n[Ee])}function _a(n,e){return n.hasOwnProperty(ps)?n[ps]:null}class K8{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function An(){return n1}function n1(n){return n.type.prototype.ngOnChanges&&(n.setInput=Q8),Y8}function Y8(){const n=s1(this),e=n?.current;if(e){const t=n.previous;if(t===fs)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function Q8(n,e,t,i){const r=this.declaredInputs[t],s=s1(n)||function X8(n,e){return n[r1]=e}(n,{previous:fs,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new K8(l&&l.currentValue,e,a===fs),n[i]=e}An.ngInherit=!0;const r1="__ngSimpleChanges__";function s1(n){return n[r1]||null}const er=function(n,e,t){},o1="svg";function kn(n){for(;Array.isArray(n);)n=n[ms];return n}function Em(n,e){return kn(e[n])}function Ri(n,e){return kn(e[n.index])}function l1(n,e){return n.data[e]}function Zl(n,e){return n[e]}function Ni(n,e){const t=e[n];return ki(t)?t:t[ms]}function xm(n){return 64==(64&n[Ee])}function lo(n,e){return null==e?null:n[e]}function c1(n){n[Ql]=0}function Dw(n,e){n[ga]+=e;let t=n,i=n[Ot];for(;null!==i&&(1===e&&1===t[ga]||-1===e&&0===t[ga]);)i[ga]+=e,t=i,i=i[Ot]}const pe={lFrame:v1(null),bindingsEnabled:!0};function d1(){return pe.bindingsEnabled}function T(){return pe.lFrame.lView}function Ve(){return pe.lFrame.tView}function _d(n){return pe.lFrame.contextLView=n,n[$t]}function yd(n){return pe.lFrame.contextLView=null,n}function Rn(){let n=h1();for(;null!==n&&64===n.type;)n=n.parent;return n}function h1(){return pe.lFrame.currentTNode}function Fr(n,e){const t=pe.lFrame;t.currentTNode=n,t.isParent=e}function Sw(){return pe.lFrame.isParent}function Iw(){pe.lFrame.isParent=!1}function ri(){const n=pe.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Jl(){return pe.lFrame.bindingIndex++}function u6(n,e){const t=pe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Tw(e)}function Tw(n){pe.lFrame.currentDirectiveIndex=n}function Mw(n){const e=pe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function g1(){return pe.lFrame.currentQueryIndex}function Aw(n){pe.lFrame.currentQueryIndex=n}function h6(n){const e=n[j];return 2===e.type?e.declTNode:1===e.type?n[qn]:null}function _1(n,e,t){if(t&se.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&se.Host||(r=h6(s),null===r||(s=s[Yl],10&r.type))););if(null===r)return!1;e=r,n=s}const i=pe.lFrame=y1();return i.currentTNode=e,i.lView=n,!0}function kw(n){const e=y1(),t=n[j];pe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function y1(){const n=pe.lFrame,e=null===n?null:n.child;return null===e?v1(n):e}function v1(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function b1(){const n=pe.lFrame;return pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const w1=b1;function Rw(){const n=b1();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function si(){return pe.lFrame.selectedIndex}function ya(n){pe.lFrame.selectedIndex=n}function Tt(){const n=pe.lFrame;return l1(n.tView,n.selectedIndex)}function Nw(){pe.lFrame.currentNamespace=o1}function Dm(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function Sm(n,e,t){E1(n,e,3,t)}function Im(n,e,t,i){(3&n[Ee])===t&&E1(n,e,t,i)}function Ow(n,e){let t=n[Ee];(3&t)===e&&(t&=2047,t+=1,n[Ee]=t)}function E1(n,e,t,i){const s=i??-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&n[Ql]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[Ql]+=65536),(a<s||-1==s)&&(v6(n,t,e,l),n[Ql]=(4294901760&n[Ql])+l+2),l++}function v6(n,e,t,i){const r=t[i]<0,s=t[i+1],a=n[r?-t[i]:t[i]];if(r){if(n[Ee]>>11<n[Ql]>>16&&(3&n[Ee])===e){n[Ee]+=2048,er(4,a,s);try{s.call(a)}finally{er(5,a,s)}}}else{er(4,a,s);try{s.call(a)}finally{er(5,a,s)}}}const ec=-1;class bd{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Fw(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{const s=r,o=t[++i];D1(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function x1(n){return 3===n||4===n||6===n}function D1(n){return 64===n.charCodeAt(0)}function wd(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||S1(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function S1(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function I1(n){return n!==ec}function Tm(n){return 32767&n}function Mm(n,e){let t=function E6(n){return n>>16}(n),i=e;for(;t>0;)i=i[Yl],t--;return i}let Lw=!0;function Am(n){const e=Lw;return Lw=n,e}const T1=255,M1=5;let x6=0;const Lr={};function km(n,e){const t=A1(n,e);if(-1!==t)return t;const i=e[j];i.firstCreatePass&&(n.injectorIndex=e.length,Vw(i.data,n),Vw(e,null),Vw(i.blueprint,null));const r=Bw(n,e),s=n.injectorIndex;if(I1(r)){const o=Tm(r),a=Mm(r,e),l=a[j].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function Vw(n,e){n.push(0,0,0,0,0,0,0,0,e)}function A1(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Bw(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=L1(r),null===i)return ec;if(t++,r=r[Yl],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return ec}function Uw(n,e,t){!function D6(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(hd)&&(i=t[hd]),null==i&&(i=t[hd]=x6++);const r=i&T1;e.data[n+(r>>M1)]|=1<<r}(n,e,t)}function k1(n,e,t){if(t&se.Optional||void 0!==n)return n;hm()}function R1(n,e,t,i){if(t&se.Optional&&void 0===i&&(i=null),!(t&(se.Self|se.Host))){const r=n[ym],s=Ji(void 0);try{return r?r.get(e,i,t&se.Optional):$R(e,i,t&se.Optional)}finally{Ji(s)}}return k1(i,0,t)}function N1(n,e,t,i=se.Default,r){if(null!==n){if(1024&e[Ee]){const o=function A6(n,e,t,i,r){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[Ee]&&!(256&o[Ee]);){const a=O1(s,o,t,i|se.Self,Lr);if(a!==Lr)return a;let l=s.parent;if(!l){const c=o[ZR];if(c){const u=c.get(t,Lr,i);if(u!==Lr)return u}l=L1(o),o=o[Yl]}s=l}return r}(n,e,t,i,Lr);if(o!==Lr)return o}const s=O1(n,e,t,i,Lr);if(s!==Lr)return s}return R1(e,t,i,r)}function O1(n,e,t,i,r){const s=function T6(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(hd)?n[hd]:void 0;return"number"==typeof e?e>=0?e&T1:M6:e}(t);if("function"==typeof s){if(!_1(e,n,i))return i&se.Host?k1(r,0,i):R1(e,t,i,r);try{const o=s(i);if(null!=o||i&se.Optional)return o;hm()}finally{w1()}}else if("number"==typeof s){let o=null,a=A1(n,e),l=ec,c=i&se.Host?e[Wn][qn]:null;for((-1===a||i&se.SkipSelf)&&(l=-1===a?Bw(n,e):e[a+8],l!==ec&&F1(i,!1)?(o=e[j],a=Tm(l),e=Mm(l,e)):a=-1);-1!==a;){const u=e[j];if(P1(s,a,u.data)){const d=I6(a,e,t,o,i,c);if(d!==Lr)return d}l=e[a+8],l!==ec&&F1(i,e[j].data[a+8]===c)&&P1(s,a,e)?(o=u,a=Tm(l),e=Mm(l,e)):a=-1}}return r}function I6(n,e,t,i,r,s){const o=e[j],a=o.data[n+8],u=Rm(a,o,t,null==i?gd(a)&&Lw:i!=o&&0!=(3&a.type),r&se.Host&&s===a);return null!==u?va(e,o,u,a):Lr}function Rm(n,e,t,i,r){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(r){const f=o[l];if(f&&vr(f)&&f.type===t)return l}return null}function va(n,e,t,i){let r=n[t];const s=e.data;if(function b6(n){return n instanceof bd}(r)){const o=r;o.resolving&&function D8(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new D(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Xe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():fe(n)}(s[t]));const a=Am(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Ji(o.injectImpl):null;_1(n,i,se.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function y6(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=n1(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&Ji(l),Am(a),o.resolving=!1,w1()}}return r}function P1(n,e,t){return!!(t[e+(n>>M1)]&1<<n)}function F1(n,e){return!(n&se.Self||n&se.Host&&e)}class tc{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return N1(this._tNode,this._lView,e,gm(i),t)}}function M6(){return new tc(Rn(),T())}function Be(n){return ao(()=>{const e=n.prototype.constructor,t=e[ps]||Hw(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[ps]||Hw(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Hw(n){return fw(n)?()=>{const e=Hw(re(n));return e&&e()}:_a(n)}function L1(n){const e=n[j],t=e.type;return 2===t?e.declTNode:1===t?n[qn]:null}function ba(n){return function S6(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(x1(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(Rn(),n)}const ic="__parameters__";function sc(n,e,t){return ao(()=>{const i=function jw(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(ic)?l[ic]:Object.defineProperty(l,ic,{value:[]})[ic];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class k{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=P({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function wa(n,e){n.forEach(t=>Array.isArray(t)?wa(t,e):e(t))}function B1(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Nm(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function xd(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Oi(n,e,t){let i=oc(n,e);return i>=0?n[1|i]=t:(i=~i,function O6(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function $w(n,e){const t=oc(n,e);if(t>=0)return n[1|t]}function oc(n,e){return function U1(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const Pm=dd(sc("Inject",n=>({token:n})),-1),Vr=dd(sc("Optional"),8),Ca=dd(sc("SkipSelf"),4);var yi=(()=>((yi=yi||{})[yi.Important=1]="Important",yi[yi.DashCase=2]="DashCase",yi))();const Yw=new Map;let nK=0;const Xw="__ngContext__";function Gn(n,e){ki(e)?(n[Xw]=e[md],function rK(n){Yw.set(n[md],n)}(e)):n[Xw]=e}let Zw;function Jw(n,e){return Zw(n,e)}function Td(n){const e=n[Ot];return yr(e)?e[Ot]:e}function e0(n){return oN(n[fd])}function t0(n){return oN(n[_r])}function oN(n){for(;null!==n&&!yr(n);)n=n[_r];return n}function lc(n,e,t,i,r){if(null!=i){let s,o=!1;yr(i)?s=i:ki(i)&&(o=!0,i=i[ms]);const a=kn(i);0===n&&null!==t?null==r?hN(e,t,a):Ea(e,t,a,r||null,!0):1===n&&null!==t?Ea(e,t,a,r||null,!0):2===n?function c0(n,e,t){const i=Vm(n,e);i&&function xK(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function IK(n,e,t,i,r){const s=t[bm];s!==kn(t)&&lc(e,n,i,s,r);for(let a=ii;a<t.length;a++){const l=t[a];Md(l[j],l,n,e,i,s)}}(e,n,s,t,r)}}function r0(n,e,t){return n.createElement(e,t)}function lN(n,e){const t=n[Xl],i=t.indexOf(e),r=e[Ot];512&e[Ee]&&(e[Ee]&=-513,Dw(r,-1)),t.splice(i,1)}function s0(n,e){if(n.length<=ii)return;const t=ii+e,i=n[t];if(i){const r=i[pd];null!==r&&r!==n&&lN(r,i),e>0&&(n[t-1][_r]=i[_r]);const s=Nm(n,ii+e);!function gK(n,e){Md(n,e,e[De],2,null,null),e[ms]=null,e[qn]=null}(i[j],i);const o=s[Pr];null!==o&&o.detachView(s[j]),i[Ot]=null,i[_r]=null,i[Ee]&=-65}return i}function cN(n,e){if(!(128&e[Ee])){const t=e[De];t.destroyNode&&Md(n,e,t,3,null,null),function vK(n){let e=n[fd];if(!e)return o0(n[j],n);for(;e;){let t=null;if(ki(e))t=e[fd];else{const i=e[ii];i&&(t=i)}if(!t){for(;e&&!e[_r]&&e!==n;)ki(e)&&o0(e[j],e),e=e[Ot];null===e&&(e=n),ki(e)&&o0(e[j],e),t=e&&e[_r]}e=t}}(e)}}function o0(n,e){if(!(128&e[Ee])){e[Ee]&=-65,e[Ee]|=128,function EK(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof bd)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];er(4,a,l);try{l.call(a)}finally{er(5,a,l)}}else{er(4,r,s);try{s.call(r)}finally{er(5,r,s)}}}}}(n,e),function CK(n,e){const t=n.cleanup,i=e[Kl];let r=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?i[r=o]():i[r=-o].unsubscribe(),s+=2}else{const o=i[r=t[s+1]];t[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();e[Kl]=null}}(n,e),1===e[j].type&&e[De].destroy();const t=e[pd];if(null!==t&&yr(e[Ot])){t!==e[Ot]&&lN(t,e);const i=e[Pr];null!==i&&i.detachView(n)}!function sK(n){Yw.delete(n[md])}(e)}}function uN(n,e,t){return function dN(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[ms];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===gr.None||s===gr.Emulated)return null}return Ri(i,t)}}(n,e.parent,t)}function Ea(n,e,t,i,r){n.insertBefore(e,t,i,r)}function hN(n,e,t){n.appendChild(e,t)}function fN(n,e,t,i,r){null!==i?Ea(n,e,t,i,r):hN(n,e,t)}function Vm(n,e){return n.parentNode(e)}function pN(n,e,t){return gN(n,e,t)}let a0,Hm,h0,jm,gN=function mN(n,e,t){return 40&n.type?Ri(n,t):null};function Bm(n,e,t,i){const r=uN(n,i,e),s=e[De],a=pN(i.parent||e[qn],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)fN(s,r,t[l],a,!1);else fN(s,r,t,a,!1);void 0!==a0&&a0(s,i,e,t,r)}function Um(n,e){if(null!==e){const t=e.type;if(3&t)return Ri(e,n);if(4&t)return l0(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Um(n,i);{const r=n[e.index];return yr(r)?l0(-1,r):kn(r)}}if(32&t)return Jw(e,n)()||kn(n[e.index]);{const i=yN(n,e);return null!==i?Array.isArray(i)?i[0]:Um(Td(n[Wn]),i):Um(n,e.next)}}return null}function yN(n,e){return null!==e?n[Wn][qn].projection[e.projection]:null}function l0(n,e){const t=ii+n+1;if(t<e.length){const i=e[t],r=i[j].firstChild;if(null!==r)return Um(i,r)}return e[bm]}function u0(n,e,t,i,r,s,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===e&&(a&&Gn(kn(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)u0(n,e,t.child,i,r,s,!1),lc(e,n,r,a,s);else if(32&l){const c=Jw(t,i);let u;for(;u=c();)lc(e,n,r,u,s);lc(e,n,r,a,s)}else 16&l?vN(n,e,i,t,r,s):lc(e,n,r,a,s);t=o?t.projectionNext:t.next}}function Md(n,e,t,i,r,s){u0(t,i,n.firstChild,e,r,s,!1)}function vN(n,e,t,i,r,s){const o=t[Wn],l=o[qn].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)lc(e,n,r,l[c],s);else u0(n,e,l,o[Ot],r,s,!0)}function bN(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function wN(n,e,t){const{mergedAttrs:i,classes:r,styles:s}=t;null!==i&&Fw(n,e,i),null!==r&&bN(n,e,r),null!==s&&function MK(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function cc(n){return function d0(){if(void 0===Hm&&(Hm=null,ft.trustedTypes))try{Hm=ft.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Hm}()?.createHTML(n)||n}function DN(n){return function f0(){if(void 0===jm&&(jm=null,ft.trustedTypes))try{jm=ft.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return jm}()?.createScriptURL(n)||n}class xa{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${um})`}}class OK extends xa{getTypeName(){return"HTML"}}class PK extends xa{getTypeName(){return"Style"}}class FK extends xa{getTypeName(){return"Script"}}class LK extends xa{getTypeName(){return"URL"}}class VK extends xa{getTypeName(){return"ResourceURL"}}function Pi(n){return n instanceof xa?n.changingThisBreaksApplicationSecurity:n}function Br(n,e){const t=function BK(n){return n instanceof xa&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${um})`)}return t===e}class qK{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(cc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class WK{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=cc(e),t}}const KK=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function zm(n){return(n=String(n)).match(KK)?n:"unsafe:"+n}function ys(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Ad(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const IN=ys("area,br,col,hr,img,wbr"),TN=ys("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),MN=ys("rp,rt"),p0=Ad(IN,Ad(TN,ys("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ad(MN,ys("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ad(MN,TN)),m0=ys("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),AN=Ad(m0,ys("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ys("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),YK=ys("script,style,template");class QK{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!p0.hasOwnProperty(t))return this.sanitizedSomething=!0,!YK.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!AN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;m0[a]&&(l=zm(l)),this.buf.push(" ",o,'="',kN(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();p0.hasOwnProperty(t)&&!IN.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(kN(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const XK=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ZK=/([^\#-~ |!])/g;function kN(n){return n.replace(/&/g,"&amp;").replace(XK,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(ZK,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $m;function RN(n,e){let t=null;try{$m=$m||function SN(n){const e=new WK(n);return function GK(){try{return!!(new window.DOMParser).parseFromString(cc(""),"text/html")}catch{return!1}}()?new qK(e):e}(n);let i=e?String(e):"";t=$m.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=$m.getInertBodyElement(i)}while(i!==s);return cc((new QK).sanitizeChildren(g0(t)||t))}finally{if(t){const i=g0(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function g0(n){return"content"in n&&function JK(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Qe=(()=>((Qe=Qe||{})[Qe.NONE=0]="NONE",Qe[Qe.HTML=1]="HTML",Qe[Qe.STYLE=2]="STYLE",Qe[Qe.SCRIPT=3]="SCRIPT",Qe[Qe.URL=4]="URL",Qe[Qe.RESOURCE_URL=5]="RESOURCE_URL",Qe))();function NN(n){const e=kd();return e?e.sanitize(Qe.URL,n)||"":Br(n,"URL")?Pi(n):zm(fe(n))}function ON(n){const e=kd();if(e)return DN(e.sanitize(Qe.RESOURCE_URL,n)||"");if(Br(n,"ResourceURL"))return DN(Pi(n));throw new D(904,!1)}function kd(){const n=T();return n&&n[ww]}const qm=new k("ENVIRONMENT_INITIALIZER"),FN=new k("INJECTOR",-1),LN=new k("INJECTOR_DEF_TYPES");class VN{get(e,t=cd){if(t===cd){const i=new Error(`NullInjectorError: No provider for ${ct(e)}!`);throw i.name="NullInjectorError",i}return t}}function o7(...n){return{\u0275providers:BN(0,n),\u0275fromNgModule:!0}}function BN(n,...e){const t=[],i=new Set;let r;return wa(e,s=>{const o=s;_0(o,t,[],i)&&(r||(r=[]),r.push(o))}),void 0!==r&&UN(r,t),t}function UN(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];y0(r,s=>{e.push(s)})}}function _0(n,e,t,i){if(!(n=re(n)))return!1;let r=null,s=jR(n);const o=!s&&Je(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=jR(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)_0(c,e,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{wa(s.imports,u=>{_0(u,e,t,i)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&UN(c,e)}if(!a){const c=_a(r)||(()=>new r);e.push({provide:r,useFactory:c,deps:Ye},{provide:LN,useValue:r,multi:!0},{provide:qm,useValue:()=>C(r),multi:!0})}const l=s.providers;null==l||a||y0(l,u=>{e.push(u)})}}return r!==n&&void 0!==n.providers}function y0(n,e){for(let t of n)pw(t)&&(t=t.\u0275providers),Array.isArray(t)?y0(t,e):e(t)}const a7=ot({provide:String,useValue:ot});function v0(n){return null!==n&&"object"==typeof n&&a7 in n}function Da(n){return"function"==typeof n}const b0=new k("Set Injector scope."),Wm={},c7={};let w0;function Gm(){return void 0===w0&&(w0=new VN),w0}class vs{}class zN extends vs{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,E0(e,o=>this.processProvider(o)),this.records.set(FN,uc(void 0,this)),r.has("environment")&&this.records.set(vs,uc(void 0,this));const s=this.records.get(b0);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(LN.multi,Ye,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Wl(this),i=Ji(void 0);try{return e()}finally{Wl(t),Ji(i)}}get(e,t=cd,i=se.Default){this.assertNotDestroyed(),i=gm(i);const r=Wl(this),s=Ji(void 0);try{if(!(i&se.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function p7(n){return"function"==typeof n||"object"==typeof n&&n instanceof k}(e)&&fm(e);a=l&&this.injectableDefInScope(l)?uc(C0(e),Wm):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&se.Self?Gm():this.parent).get(e,t=i&se.Optional&&t===cd?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[mm]=o[mm]||[]).unshift(ct(e)),r)throw o;return function U8(n,e,t,i){const r=n[mm];throw e[qR]&&r.unshift(e[qR]),n.message=function H8(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==L8?n.slice(2):n;let r=ct(e);if(Array.isArray(e))r=e.map(ct).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ct(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(F8,"\n  ")}`}("\n"+n.message,r,t,i),n[P8]=r,n[mm]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Ji(s),Wl(r)}}resolveInjectorInitializers(){const e=Wl(this),t=Ji(void 0);try{const i=this.get(qm.multi,Ye,se.Self);for(const r of i)r()}finally{Wl(e),Ji(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(ct(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(e){let t=Da(e=re(e))?e:re(e&&e.provide);const i=function d7(n){return v0(n)?uc(void 0,n.useValue):uc($N(n),Wm)}(e);if(Da(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=uc(void 0,Wm,!0),r.factory=()=>yw(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Wm&&(t.value=c7,t.value=t.factory()),"object"==typeof t.value&&t.value&&function f7(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=re(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function C0(n){const e=fm(n),t=null!==e?e.factory:_a(n);if(null!==t)return t;if(n instanceof k)throw new D(204,!1);if(n instanceof Function)return function u7(n){const e=n.length;if(e>0)throw xd(e,"?"),new D(204,!1);const t=function k8(n){const e=n&&(n[pm]||n[zR]);return e?(function R8(n){if(n.hasOwnProperty("name"))return n.name;(""+n).match(/^function\s*([^\s(]+)/)}(n),e):null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new D(204,!1)}function $N(n,e,t){let i;if(Da(n)){const r=re(n);return _a(r)||C0(r)}if(v0(n))i=()=>re(n.useValue);else if(function jN(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...yw(n.deps||[]));else if(function HN(n){return!(!n||!n.useExisting)}(n))i=()=>C(re(n.useExisting));else{const r=re(n&&(n.useClass||n.provide));if(!function h7(n){return!!n.deps}(n))return _a(r)||C0(r);i=()=>new r(...yw(n.deps))}return i}function uc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function E0(n,e){for(const t of n)Array.isArray(t)?E0(t,e):t&&pw(t)?E0(t.\u0275providers,e):e(t)}class m7{}class qN{}class _7{resolveComponentFactory(e){throw function g7(n){const e=Error(`No component factory found for ${ct(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Sa=(()=>{class n{}return n.NULL=new _7,n})();function y7(){return dc(Rn(),T())}function dc(n,e){return new ve(Ri(n,e))}let ve=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=y7,n})();function v7(n){return n instanceof ve?n.nativeElement:n}class Rd{}let bs=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function b7(){const n=T(),t=Ni(Rn().index,n);return(ki(t)?t:n)[De]}(),n})(),w7=(()=>{class n{}return n.\u0275prov=P({token:n,providedIn:"root",factory:()=>null}),n})();class Ia{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const C7=new Ia("15.2.2"),x0={},D0="ngOriginalError";function S0(n){return n[D0]}class ws{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&S0(e);for(;t&&S0(t);)t=S0(t);return t||null}}function Cs(n){return n instanceof Function?n():n}function KN(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}const YN="ng-template";function N7(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==KN(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function QN(n){return 4===n.type&&n.value!==YN}function O7(n,e,t){return e===(4!==n.type||t?n.value:YN)}function P7(n,e,t){let i=4;const r=n.attrs||[],s=function V7(n){for(let e=0;e<n.length;e++)if(x1(n[e]))return e;return n.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!O7(n,l,t)||""===l&&1===e.length){if(br(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!N7(n.attrs,c,t)){if(br(i))return!1;o=!0}continue}const d=F7(8&i?"class":l,r,QN(n),t);if(-1===d){if(br(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==KN(f,c,0)||2&i&&c!==h){if(br(i))return!1;o=!0}}}}else{if(!o&&!br(i)&&!br(l))return!1;if(o&&br(l))continue;o=!1,i=l|1&i}}return br(i)||o}function br(n){return 0==(1&n)}function F7(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function B7(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function XN(n,e,t=!1){for(let i=0;i<e.length;i++)if(P7(n,e[i],t))return!0;return!1}function U7(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function ZN(n,e){return n?":not("+e.trim()+")":e}function H7(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!br(o)&&(e+=ZN(s,r),r=""),i=o,s=s||!br(i);t++}return""!==r&&(e+=ZN(s,r)),e}const me={};function H(n){JN(Ve(),T(),si()+n,!1)}function JN(n,e,t,i){if(!i)if(3==(3&e[Ee])){const s=n.preOrderCheckHooks;null!==s&&Sm(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Im(e,s,0,t)}ya(t)}function iO(n,e=null,t=null,i){const r=rO(n,e,t,i);return r.resolveInjectorInitializers(),r}function rO(n,e=null,t=null,i,r=new Set){const s=[t||Ye,o7(n)];return i=i||("object"==typeof n?void 0:ct(n)),new zN(s,e||Gm(),i||null,r)}let _n=(()=>{class n{static create(t,i){if(Array.isArray(t))return iO({name:""},i,t,"");{const r=t.name??"";return iO({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=cd,n.NULL=new VN,n.\u0275prov=P({token:n,providedIn:"any",factory:()=>C(FN)}),n.__NG_ELEMENT_ID__=-1,n})();function y(n,e=se.Default){const t=T();return null===t?C(n,e):N1(Rn(),t,re(n),e)}function k0(){throw new Error("invalid")}function dO(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const o=n.data[s];Aw(t[i]),o.contentQueries(2,e[s],s)}}}function Ym(n,e,t,i,r,s,o,a,l,c,u){const d=e.blueprint.slice();return d[ms]=r,d[Ee]=76|i,(null!==u||n&&1024&n[Ee])&&(d[Ee]|=1024),c1(d),d[Ot]=d[Yl]=n,d[$t]=t,d[vm]=o||n&&n[vm],d[De]=a||n&&n[De],d[ww]=l||n&&n[ww]||null,d[ym]=c||n&&n[ym]||null,d[qn]=s,d[md]=function iK(){return nK++}(),d[ZR]=u,d[Wn]=2==e.type?n[Wn]:d,d}function pc(n,e,t,i,r){let s=n.data[e];if(null===s)s=function R0(n,e,t,i,r){const s=h1(),o=Sw(),l=n.data[e]=function fY(n,e,t,i,r,s){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,i,r),function c6(){return pe.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function vd(){const n=pe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Fr(s,!0),s}function Nd(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function N0(n,e,t){kw(e);try{const i=n.viewQuery;null!==i&&z0(1,i,t);const r=n.template;null!==r&&hO(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&dO(n,e),n.staticViewQueries&&z0(2,n.viewQuery,t);const s=n.components;null!==s&&function uY(n,e){for(let t=0;t<e.length;t++)RY(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Ee]&=-5,Rw()}}function Qm(n,e,t,i){const r=e[Ee];if(128!=(128&r)){kw(e);try{c1(e),function p1(n){return pe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&hO(n,e,t,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&Sm(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Im(e,c,0,null),Ow(e,0)}if(function AY(n){for(let e=e0(n);null!==e;e=t0(e)){if(!e[JR])continue;const t=e[Xl];for(let i=0;i<t.length;i++){const r=t[i];512&r[Ee]||Dw(r[Ot],1),r[Ee]|=512}}}(e),function MY(n){for(let e=e0(n);null!==e;e=t0(e))for(let t=ii;t<e.length;t++){const i=e[t],r=i[j];xm(i)&&Qm(r,i,r.template,i[$t])}}(e),null!==n.contentQueries&&dO(n,e),o){const c=n.contentCheckHooks;null!==c&&Sm(e,c)}else{const c=n.contentHooks;null!==c&&Im(e,c,1),Ow(e,1)}!function lY(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)ya(~r);else{const s=r,o=t[++i],a=t[++i];u6(o,s),a(2,e[s])}}}finally{ya(-1)}}(n,e);const a=n.components;null!==a&&function cY(n,e){for(let t=0;t<e.length;t++)kY(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&z0(2,l,i),o){const c=n.viewCheckHooks;null!==c&&Sm(e,c)}else{const c=n.viewHooks;null!==c&&Im(e,c,2),Ow(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Ee]&=-41,512&e[Ee]&&(e[Ee]&=-513,Dw(e[Ot],-1))}finally{Rw()}}}function hO(n,e,t,i,r){const s=si(),o=2&i;try{ya(-1),o&&e.length>pt&&JN(n,e,pt,!1),er(o?2:0,r),t(i,r)}finally{ya(s),er(o?3:1,r)}}function O0(n,e,t){if(Ew(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function P0(n,e,t){d1()&&(function vY(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;gd(t)&&function SY(n,e,t){const i=Ri(e,n),r=fO(t),s=n[vm],o=Xm(n,Ym(n,r,null,t.onPush?32:16,i,e,s,s.createRenderer(i,t),null,null,null));n[e.index]=o}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||km(t,e),Gn(i,e);const o=t.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=va(e,n,a,t);Gn(c,e),null!==o&&IY(0,a-r,c,l,0,o),vr(l)&&(Ni(t.index,e)[$t]=va(e,n,a,t))}}(n,e,t,Ri(t,e)),64==(64&t.flags)&&vO(n,e,t))}function F0(n,e,t=Ri){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(e,n):n[o];n[r++]=a}}}function fO(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=L0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function L0(n,e,t,i,r,s,o,a,l,c){const u=pt+i,d=u+r,h=function dY(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:me);return t}(u,d),f="function"==typeof c?c():c;return h[j]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function pO(n,e,t,i){const r=wO(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&CO(n).push(i,r.length-1))}function mO(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const s=n[r];null===i?gO(t,e,r,s):i.hasOwnProperty(r)&&gO(t,e,i[r],s)}return t}function gO(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function Fi(n,e,t,i,r,s,o,a){const l=Ri(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?($0(n,t,u,i,r),gd(e)&&_O(t,e.index)):3&e.type&&(i=function mY(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,s.setProperty(l,i,r))}function _O(n,e){const t=Ni(e,n);16&t[Ee]||(t[Ee]|=32)}function V0(n,e,t,i){if(d1()){const r=null===i?null:{"":-1},s=function wY(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(XN(e,o.selectors,!1))if(i||(i=[]),vr(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),B0(n,e,a.length)}else i.unshift(o),B0(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&yO(n,e,t,o,r,a),r&&function CY(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new D(-301,!1);i.push(e[r],s)}}}(t,i,r)}t.mergedAttrs=wd(t.mergedAttrs,t.attrs)}function yO(n,e,t,i,r,s){for(let c=0;c<i.length;c++)Uw(km(t,e),n,i[c].type);!function xY(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Nd(n,e,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];t.mergedAttrs=wd(t.mergedAttrs,u.hostAttrs),DY(n,t,e,l,u),EY(l,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),l++}!function pY(n,e,t){const r=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<r;u++){const d=s[u],h=t?t.get(d):null,p=h?h.outputs:null;l=mO(d.inputs,u,l,h?h.inputs:null),c=mO(d.outputs,u,c,p);const g=null===l||null===o||QN(e)?null:TY(l,u,o);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function vO(n,e,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,o=function d6(){return pe.lFrame.currentDirectiveIndex}();try{ya(s);for(let a=i;a<r;a++){const l=n.data[a],c=e[a];Tw(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&bY(l,c)}}finally{ya(-1),Tw(o)}}function bY(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function B0(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function EY(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;vr(e)&&(t[""]=n)}}function DY(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=_a(r.type)),o=new bd(s,vr(r),y);n.blueprint[i]=o,t[i]=o,function _Y(n,e,t,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function yY(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,i,s)}}(n,e,i,Nd(n,t,r.hostVars,me),r)}function Ur(n,e,t,i,r,s){const o=Ri(n,e);!function U0(n,e,t,i,r,s,o){if(null==s)n.removeAttribute(e,r,t);else{const a=null==o?fe(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}(e[De],o,s,n.value,t,i,r)}function IY(n,e,t,i,r,s){const o=s[e];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?i.setInput(t,d,c,u):t[u]=d}}}function TY(n,e,t){let i=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){i.push(s,o[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function bO(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null]}function kY(n,e){const t=Ni(e,n);if(xm(t)){const i=t[j];48&t[Ee]?Qm(i,t,i.template,t[$t]):t[ga]>0&&H0(t)}}function H0(n){for(let i=e0(n);null!==i;i=t0(i))for(let r=ii;r<i.length;r++){const s=i[r];if(xm(s))if(512&s[Ee]){const o=s[j];Qm(o,s,o.template,s[$t])}else s[ga]>0&&H0(s)}const t=n[j].components;if(null!==t)for(let i=0;i<t.length;i++){const r=Ni(t[i],n);xm(r)&&r[ga]>0&&H0(r)}}function RY(n,e){const t=Ni(e,n),i=t[j];(function NY(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),N0(i,t,t[$t])}function Xm(n,e){return n[fd]?n[XR][_r]=e:n[fd]=e,n[XR]=e,e}function j0(n){for(;n;){n[Ee]|=32;const e=Td(n);if(q8(n)&&!e)return n;n=e}return null}function Zm(n,e,t,i=!0){const r=e[vm];r.begin&&r.begin();try{Qm(n,e,n.template,t)}catch(o){throw i&&xO(e,o),o}finally{r.end&&r.end()}}function z0(n,e,t){Aw(0),e(n,t)}function wO(n){return n[Kl]||(n[Kl]=[])}function CO(n){return n.cleanup||(n.cleanup=[])}function EO(n,e,t){return(null===n||vr(n))&&(t=function J8(n){for(;Array.isArray(n);){if("object"==typeof n[Cw])return n;n=n[ms]}return null}(t[e.index])),t[De]}function xO(n,e){const t=n[ym],i=t?t.get(ws,null):null;i&&i.handleError(e)}function $0(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Jm(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=hw(r,a):2==s&&(i=hw(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function eg(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(kn(s)),yr(s))for(let a=ii;a<s.length;a++){const l=s[a],c=l[j].firstChild;null!==c&&eg(l[j],l,c,i)}const o=t.type;if(8&o)eg(n,e,t.child,i);else if(32&o){const a=Jw(t,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=yN(e,t);if(Array.isArray(a))i.push(...a);else{const l=Td(e[Wn]);eg(l[j],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}class Od{get rootNodes(){const e=this._lView,t=e[j];return eg(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$t]}set context(e){this._lView[$t]=e}get destroyed(){return 128==(128&this._lView[Ee])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ot];if(yr(e)){const t=e[wm],i=t?t.indexOf(this):-1;i>-1&&(s0(e,i),Nm(t,i))}this._attachedToViewContainer=!1}cN(this._lView[j],this._lView)}onDestroy(e){pO(this._lView[j],this._lView,null,e)}markForCheck(){j0(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ee]&=-65}reattach(){this._lView[Ee]|=64}detectChanges(){Zm(this._lView[j],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yK(n,e){Md(n,e,e[De],2,null,null)}(this._lView[j],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e}}class OY extends Od{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Zm(e[j],e,e[$t],!1)}checkNoChanges(){}get context(){return null}}class DO extends Sa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Je(e);return new Pd(t,this.ngModule)}}function SO(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class FY{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=gm(i);const r=this.injector.get(e,x0,i);return r!==x0||t===x0?r:this.parentInjector.get(e,t,i)}}class Pd extends qN{get inputs(){return SO(this.componentDef.inputs)}get outputs(){return SO(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function j7(n){return n.map(H7).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=(r=r||this.ngModule)instanceof vs?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new FY(e,s):e,a=o.get(Rd,null);if(null===a)throw new D(407,!1);const l=o.get(w7,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=i?function hY(n,e,t){return n.selectRootElement(e,t===gr.ShadowDom)}(c,i,this.componentDef.encapsulation):r0(c,u,function PY(n){const e=n.toLowerCase();return"svg"===e?o1:"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f=L0(0,null,null,1,0,null,null,null,null,null),p=Ym(null,f,null,h,null,null,a,c,l,o,null);let g,_;kw(p);try{const v=this.componentDef;let x,b=null;v.findHostDirectiveDefs?(x=[],b=new Map,v.findHostDirectiveDefs(v,x,b),x.push(v)):x=[v];const O=function VY(n,e){const t=n[j],i=pt;return n[i]=e,pc(t,i,2,"#host",null)}(p,d),Q=function BY(n,e,t,i,r,s,o,a){const l=r[j];!function UY(n,e,t,i){for(const r of n)e.mergedAttrs=wd(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Jm(e,e.mergedAttrs,!0),null!==t&&wN(i,t,e))}(i,n,e,o);const c=s.createRenderer(e,t),u=Ym(r,fO(t),null,t.onPush?32:16,r[n.index],n,s,c,a||null,null,null);return l.firstCreatePass&&B0(l,n,i.length-1),Xm(r,u),r[n.index]=u}(O,d,v,x,p,a,c);_=l1(f,pt),d&&function jY(n,e,t,i){if(i)Fw(n,t,["ng-version",C7.full]);else{const{attrs:r,classes:s}=function z7(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!br(r))break;r=s}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Fw(n,t,r),s&&s.length>0&&bN(n,t,s.join(" "))}}(c,v,d,i),void 0!==t&&function zY(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const s=t[r];i.push(null!=s?Array.from(s):null)}}(_,this.ngContentSelectors,t),g=function HY(n,e,t,i,r,s){const o=Rn(),a=r[j],l=Ri(o,r);yO(a,r,o,t,null,i);for(let u=0;u<t.length;u++)Gn(va(r,a,o.directiveStart+u,o),r);vO(a,r,o),l&&Gn(l,r);const c=va(r,a,o.directiveStart+o.componentOffset,o);if(n[$t]=r[$t]=c,null!==s)for(const u of s)u(c,e);return O0(a,o,n),c}(Q,v,x,b,p,[$Y]),N0(f,p,null)}finally{Rw()}return new LY(this.componentType,g,dc(_,p),p,_)}}class LY extends m7{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new OY(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){const s=this._rootLView;$0(s[j],s,r,e,t),_O(s,this._tNode.index)}}get injector(){return new tc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function $Y(){const n=Rn();Dm(T()[j],n)}function $(n){let e=function IO(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(vr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const o=n;o.inputs=q0(n.inputs),o.declaredInputs=q0(n.declaredInputs),o.outputs=q0(n.outputs);const a=r.hostBindings;a&&KY(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&WY(n,l),c&&GY(n,c),dw(n.inputs,r.inputs),dw(n.declaredInputs,r.declaredInputs),dw(n.outputs,r.outputs),vr(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===$&&(t=!1)}}e=Object.getPrototypeOf(e)}!function qY(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=wd(r.hostAttrs,t=wd(t,r.hostAttrs))}}(i)}function q0(n){return n===fs?{}:n===Ye?[]:n}function WY(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function GY(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,s)=>{e(i,r,s),t(i,r,s)}:e}function KY(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function tg(n){return!!W0(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function W0(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Hr(n,e,t){return n[e]=t}function Kn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Pt(n,e,t,i){const r=T();return Kn(r,Jl(),e)&&(Ve(),Ur(Tt(),r,n,e,t,i)),Pt}function be(n,e,t,i,r,s,o,a){const l=T(),c=Ve(),u=n+pt,d=c.firstCreatePass?function r9(n,e,t,i,r,s,o,a,l){const c=e.consts,u=pc(e,n,4,o||null,lo(c,a));V0(e,t,u,lo(c,l)),Dm(e,u);const d=u.tView=L0(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,s,o):c.data[u];Fr(d,!1);const h=l[De].createComment("");Bm(c,l,h,d),Gn(h,l),Xm(l,l[u]=bO(h,l,h,d)),Cm(d)&&P0(c,l,d),null!=o&&F0(l,d,a)}function Ld(n){return Zl(function l6(){return pe.lFrame.contextLView}(),pt+n)}function X(n,e,t){const i=T();return Kn(i,Jl(),e)&&Fi(Ve(),Tt(),i,n,e,i[De],t,!1),X}function G0(n,e,t,i,r){const o=r?"class":"style";$0(n,t,e.inputs[o],o,i)}function N(n,e,t,i){const r=T(),s=Ve(),o=pt+n,a=r[De],l=s.firstCreatePass?function o9(n,e,t,i,r,s){const o=e.consts,l=pc(e,n,2,i,lo(o,r));return V0(e,t,l,lo(o,s)),null!==l.attrs&&Jm(l,l.attrs,!1),null!==l.mergedAttrs&&Jm(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,r,e,t,i):s.data[o],c=r[o]=r0(a,e,function _6(){return pe.lFrame.currentNamespace}()),u=Cm(l);return Fr(l,!0),wN(a,c,l),32!=(32&l.flags)&&Bm(s,r,c,l),0===function i6(){return pe.lFrame.elementDepthCount}()&&Gn(c,r),function r6(){pe.lFrame.elementDepthCount++}(),u&&(P0(s,r,l),O0(s,l,r)),null!==i&&F0(r,l),N}function F(){let n=Rn();Sw()?Iw():(n=n.parent,Fr(n,!1));const e=n;!function s6(){pe.lFrame.elementDepthCount--}();const t=Ve();return t.firstCreatePass&&(Dm(t,n),Ew(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function w6(n){return 0!=(8&n.flags)}(e)&&G0(t,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function C6(n){return 0!=(16&n.flags)}(e)&&G0(t,e,T(),e.stylesWithoutHost,!1),F}function mt(n,e,t,i){return N(n,e,t,i),F(),mt}function xc(n,e,t){const i=T(),r=Ve(),s=n+pt,o=r.firstCreatePass?function a9(n,e,t,i,r){const s=e.consts,o=lo(s,i),a=pc(e,n,8,"ng-container",o);return null!==o&&Jm(a,o,!0),V0(e,t,a,lo(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,i,e,t):r.data[s];Fr(o,!0);const a=i[s]=i[De].createComment("");return Bm(r,i,a,o),Gn(a,i),Cm(o)&&(P0(r,i,o),O0(r,o,i)),null!=t&&F0(i,o),xc}function Dc(){let n=Rn();const e=Ve();return Sw()?Iw():(n=n.parent,Fr(n,!1)),e.firstCreatePass&&(Dm(e,n),Ew(n)&&e.queries.elementEnd(n)),Dc}function Li(n,e,t){return xc(n,e,t),Dc(),Li}function Vd(){return T()}function Bd(n){return!!n&&"function"==typeof n.then}const K0=function UO(n){return!!n&&"function"==typeof n.subscribe};function gt(n,e,t,i){const r=T(),s=Ve(),o=Rn();return HO(s,r,r[De],o,n,e,i),gt}function ig(n,e){const t=Rn(),i=T(),r=Ve();return HO(r,i,EO(Mw(r.data),t,i),t,n,e),ig}function HO(n,e,t,i,r,s,o){const a=Cm(i),c=n.firstCreatePass&&CO(n),u=e[$t],d=wO(e);let h=!0;if(3&i.type||o){const g=Ri(i,e),_=o?o(g):g,v=d.length,x=o?O=>o(kn(O[i.index])):i.index;let b=null;if(!o&&a&&(b=function l9(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=e[Kl],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,h=!1;else{s=zO(i,e,u,s,!1);const O=t.listen(_,r,s);d.push(s,O),c&&c.push(r,x,v,v+1)}}else s=zO(i,e,u,s,!1);const f=i.outputs;let p;if(h&&null!==f&&(p=f[r])){const g=p.length;if(g)for(let _=0;_<g;_+=2){const Q=e[p[_]][p[_+1]].subscribe(s),G=d.length;d.push(s,Q),c&&c.push(r,i.index,G,-(G+1))}}}function jO(n,e,t,i){try{return er(6,e,t),!1!==t(i)}catch(r){return xO(n,r),!1}finally{er(7,e,t)}}function zO(n,e,t,i,r){return function s(o){if(o===Function)return i;j0(n.componentOffset>-1?Ni(n.index,e):e);let l=jO(e,t,i,o),c=s.__ngNextListenerFn__;for(;c;)l=jO(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function _t(n=1){return function f6(n){return(pe.lFrame.contextLView=function p6(n,e){for(;n>0;)e=e[Yl],n--;return e}(n,pe.lFrame.contextLView))[$t]}(n)}function c9(n,e){let t=null;const i=function L7(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?XN(n,s,!0):U7(i,s))return r}else t=r}return t}function bi(n){const e=T()[Wn][qn];if(!e.projection){const i=e.projection=xd(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const o=n?c9(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function Ge(n,e=0,t){const i=T(),r=Ve(),s=pc(r,pt+n,16,null,t||null);null===s.projection&&(s.projection=e),Iw(),32!=(32&s.flags)&&function SK(n,e,t){vN(e[De],0,e,t,uN(n,t,e),pN(t.parent||e[qn],t,e))}(r,i,s)}function rg(n,e){return n<<17|e<<2}function co(n){return n>>17&32767}function Q0(n){return 2|n}function Ma(n){return(131068&n)>>2}function X0(n,e){return-131069&n|e<<2}function Z0(n){return 1|n}function JO(n,e,t,i,r){const s=n[t+1],o=null===e;let a=i?co(s):Ma(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];m9(n[a],e)&&(l=!0,n[a+1]=i?Z0(u):Q0(u)),a=i?co(u):Ma(u)}l&&(n[t+1]=i?Q0(s):Z0(s))}function m9(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&oc(n,e)>=0}function ir(n,e,t){return wr(n,e,t,!1),ir}function Et(n,e){return wr(n,e,null,!0),Et}function wr(n,e,t,i){const r=T(),s=Ve(),o=function _s(n){const e=pe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function aP(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[si()],o=function oP(n,e){return e>=n.expandoStartIndex}(n,t);(function dP(n,e){return 0!=(n.flags&(e?8:16))})(s,i)&&null===e&&!o&&(e=!1),e=function x9(n,e,t,i){const r=Mw(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Ud(t=J0(null,n,e,t,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=J0(r,n,e,t,i),null===s){let l=function D9(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Ma(i))return n[co(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=J0(null,n,e,l[1],i),l=Ud(l,e.attrs,i),function S9(n,e,t,i){n[co(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else s=function I9(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=Ud(i,n[s].hostAttrs,t);return Ud(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function f9(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=co(o),l=Ma(o);n[i]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||oc(t,u)>0)&&(c=!0)):u=t,r)if(0!==l){const h=co(n[a+1]);n[i+1]=rg(h,a),0!==h&&(n[h+1]=X0(n[h+1],i)),n[a+1]=function d9(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=rg(a,0),0!==a&&(n[a+1]=X0(n[a+1],i)),a=i;else n[i+1]=rg(l,0),0===a?a=i:n[l+1]=X0(n[l+1],i),l=i;c&&(n[i+1]=Q0(n[i+1])),JO(n,u,i,!0),JO(n,u,i,!1),function p9(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&oc(s,e)>=0&&(t[i+1]=Z0(t[i+1]))}(e,u,n,i,s),o=rg(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,i)}}(s,n,o,i),e!==me&&Kn(r,o,e)&&function cP(n,e,t,i,r,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function h9(n){return 1==(1&n)}(c)?uP(l,e,t,r,Ma(c),o):void 0;sg(u)||(sg(s)||function u9(n){return 2==(2&n)}(c)&&(s=uP(l,null,t,r,a,o)),function TK(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=-1===i.indexOf("-")?void 0:yi.DashCase;null==r?n.removeStyle(t,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=yi.Important),n.setStyle(t,i,r,s))}}(i,o,Em(si(),t),r,s))}(s,s.data[si()],r,r[De],n,r[o+1]=function A9(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ct(Pi(n)))),n}(e,t),i,o)}function J0(n,e,t,i,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],i=Ud(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Ud(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Oi(n,o,!!t||e[++s]))}return void 0===n?null:n}function uP(n,e,t,i,r,s){const o=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===me&&(h=d?Ye:void 0);let f=d?$w(h,i):u===i?h:void 0;if(c&&!sg(f)&&(f=$w(l,i)),sg(f)&&(a=f,o))return a;const p=n[r+1];r=o?co(p):Ma(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=$w(l,i))}return a}function sg(n){return void 0!==n}function Ae(n,e=""){const t=T(),i=Ve(),r=n+pt,s=i.firstCreatePass?pc(i,r,1,e,null):i.data[r],o=t[r]=function n0(n,e){return n.createText(e)}(t[De],e);Bm(i,t,o,s),Fr(s,!1)}function xs(n){return rr("",n,""),xs}function rr(n,e,t){const i=T(),r=function gc(n,e,t,i){return Kn(n,Jl(),t)?e+fe(t)+i:me}(i,n,e,t);return r!==me&&function Es(n,e,t){const i=Em(e,n);!function aN(n,e,t){n.setValue(e,t)}(n[De],i,t)}(i,si(),r),rr}function Hd(n,e,t){const i=T();return Kn(i,Jl(),e)&&Fi(Ve(),Tt(),i,n,e,i[De],t,!0),Hd}function og(n,e,t){const i=T();if(Kn(i,Jl(),e)){const s=Ve(),o=Tt();Fi(s,o,i,n,e,EO(Mw(s.data),o,i),t,!0)}return og}const Aa=void 0;var Q9=["en",[["a","p"],["AM","PM"],Aa],[["AM","PM"],Aa,Aa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Aa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Aa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Aa,"{1} 'at' {0}",Aa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Y9(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let Ic={};function oi(n){const e=function X9(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=AP(e);if(t)return t;const i=e.split("-")[0];if(t=AP(i),t)return t;if("en"===i)return Q9;throw new D(701,!1)}function AP(n){return n in Ic||(Ic[n]=ft.ng&&ft.ng.common&&ft.ng.common.locales&&ft.ng.common.locales[n]),Ic[n]}var U=(()=>((U=U||{})[U.LocaleId=0]="LocaleId",U[U.DayPeriodsFormat=1]="DayPeriodsFormat",U[U.DayPeriodsStandalone=2]="DayPeriodsStandalone",U[U.DaysFormat=3]="DaysFormat",U[U.DaysStandalone=4]="DaysStandalone",U[U.MonthsFormat=5]="MonthsFormat",U[U.MonthsStandalone=6]="MonthsStandalone",U[U.Eras=7]="Eras",U[U.FirstDayOfWeek=8]="FirstDayOfWeek",U[U.WeekendRange=9]="WeekendRange",U[U.DateFormat=10]="DateFormat",U[U.TimeFormat=11]="TimeFormat",U[U.DateTimeFormat=12]="DateTimeFormat",U[U.NumberSymbols=13]="NumberSymbols",U[U.NumberFormats=14]="NumberFormats",U[U.CurrencyCode=15]="CurrencyCode",U[U.CurrencySymbol=16]="CurrencySymbol",U[U.CurrencyName=17]="CurrencyName",U[U.Currencies=18]="Currencies",U[U.Directionality=19]="Directionality",U[U.PluralCase=20]="PluralCase",U[U.ExtraData=21]="ExtraData",U))();const Tc="en-US";let kP=Tc;function nC(n,e,t,i,r){if(n=re(n),Array.isArray(n))for(let s=0;s<n.length;s++)nC(n[s],e,t,i,r);else{const s=Ve(),o=T();let a=Da(n)?n:re(n.provide),l=$N(n);const c=Rn(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Da(n)||!n.multi){const f=new bd(l,r,y),p=rC(a,e,r?u:u+h,d);-1===p?(Uw(km(c,o),s,a),iC(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=rC(a,e,u+h,d),p=rC(a,e,u,u+h),_=p>=0&&t[p];if(r&&!_||!r&&!(f>=0&&t[f])){Uw(km(c,o),s,a);const v=function KQ(n,e,t,i,r){const s=new bd(n,t,y);return s.multi=[],s.index=e,s.componentProviders=0,nF(s,r,i&&!t),s}(r?GQ:WQ,t.length,r,i,l);!r&&_&&(t[p].providerFactory=v),iC(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(v),o.push(v)}else iC(s,n,f>-1?f:p,nF(t[r?p:f],l,!r&&i));!r&&i&&_&&t[p].componentProviders++}}}function iC(n,e,t,i){const r=Da(e),s=function l7(n){return!!n.useClass}(e);if(r||s){const l=(s?re(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function nF(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function rC(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function WQ(n,e,t,i){return sC(this.multi,[])}function GQ(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=va(t,t[j],this.providerFactory.index,i);s=a.slice(0,o),sC(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],sC(r,s);return s}function sC(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ce(n,e=[]){return t=>{t.providersResolver=(i,r)=>function qQ(n,e,t){const i=Ve();if(i.firstCreatePass){const r=vr(n);nC(t,i.data,i.blueprint,r,!0),nC(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class Mc{}class iF{}class rF extends Mc{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new DO(this);const i=Ai(e);this._bootstrapComponents=Cs(i.bootstrap),this._r3Injector=rO(e,t,[{provide:Mc,useValue:this},{provide:Sa,useValue:this.componentFactoryResolver}],ct(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class oC extends iF{constructor(e){super(),this.moduleType=e}create(e){return new rF(this.moduleType,e)}}class QQ extends Mc{constructor(e,t,i){super(),this.componentFactoryResolver=new DO(this),this.instance=null;const r=new zN([...e,{provide:Mc,useValue:this},{provide:Sa,useValue:this.componentFactoryResolver}],t||Gm(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function dg(n,e,t=null){return new QQ(n,e,t).injector}let XQ=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const i=BN(0,t.type),r=i.length>0?dg([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,r)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=P({token:n,providedIn:"environment",factory:()=>new n(C(vs))}),n})();function aC(n){n.getStandaloneInjector=e=>e.get(XQ).getOrCreateStandaloneInjector(n)}function pF(n,e,t,i,r,s,o){const a=e+t;return function Ta(n,e,t,i){const r=Kn(n,e,t);return Kn(n,e+1,i)||r}(n,a,r,s)?Hr(n,a+2,o?i.call(o,r,s):i(r,s)):function Gd(n,e){const t=n[e];return t===me?void 0:t}(n,a+2)}function cC(n,e){const t=Ve();let i;const r=n+pt;t.firstCreatePass?(i=function pX(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(r,i.onDestroy)):i=t.data[r];const s=i.factory||(i.factory=_a(i.type)),o=Ji(y);try{const a=Am(!1),l=s();return Am(a),function s9(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,T(),r,l),l}finally{Ji(o)}}function uC(n,e,t,i){const r=n+pt,s=T(),o=Zl(s,r);return function Kd(n,e){return n[j].data[e].pure}(s,r)?pF(s,ri(),e,o.transform,t,i,o):o.transform(t,i)}function dC(n){return e=>{setTimeout(n,void 0,e)}}const et=class vX extends ue{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=dC(s),r&&(r=dC(r)),o&&(o=dC(o)));const a=super.subscribe({next:r,error:s,complete:o});return e instanceof mn&&e.add(a),a}};function bX(){return this._results[Symbol.iterator]()}class hg{get changes(){return this._changes||(this._changes=new et)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=hg.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=bX)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function tr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function R6(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yn=(()=>{class n{}return n.__NG_ELEMENT_ID__=EX,n})();const wX=yn,CX=class extends wX{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e,t){const i=this._declarationTContainer.tView,r=Ym(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null,t||null);r[pd]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Pr];return null!==o&&(r[Pr]=o.createEmbeddedView(i)),N0(i,r,e),new Od(r)}};function EX(){return fg(Rn(),T())}function fg(n,e){return 4&n.type?new CX(e,n,dc(n,e)):null}let Nn=(()=>{class n{}return n.__NG_ELEMENT_ID__=xX,n})();function xX(){return bF(Rn(),T())}const DX=Nn,yF=class extends DX{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return dc(this._hostTNode,this._hostLView)}get injector(){return new tc(this._hostTNode,this._hostLView)}get parentInjector(){const e=Bw(this._hostTNode,this._hostLView);if(I1(e)){const t=Mm(e,this._hostLView),i=Tm(e);return new tc(t[j].data[i+8],t)}return new tc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=vF(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-ii}createEmbeddedView(e,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,r),o}createComponent(e,t,i,r,s){const o=e&&!function Ed(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,i=d.injector,r=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new Pd(Je(e)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(vs,null);h&&(s=h)}const u=l.create(c,r,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const i=e._lView,r=i[j];if(function n6(n){return yr(n[Ot])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[Ot],h=new yF(d,d[qn],d[Ot]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function bK(n,e,t,i){const r=ii+i,s=t.length;i>0&&(t[r-1][_r]=e),i<s-ii?(e[_r]=t[r],B1(t,ii+i,e)):(t.push(e),e[_r]=null),e[Ot]=t;const o=e[pd];null!==o&&t!==o&&function wK(n,e){const t=n[Xl];e[Wn]!==e[Ot][Ot][Wn]&&(n[JR]=!0),null===t?n[Xl]=[e]:t.push(e)}(o,e);const a=e[Pr];null!==a&&a.insertView(n),e[Ee]|=64}(r,i,o,s);const a=l0(s,o),l=i[De],c=Vm(l,o[bm]);return null!==c&&function _K(n,e,t,i,r,s){i[ms]=r,i[qn]=e,Md(n,i,t,1,r,s)}(r,o[qn],l,i,c,a),e.attachToViewContainerRef(),B1(hC(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=vF(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=s0(this._lContainer,t);i&&(Nm(hC(this._lContainer),t),cN(i[j],i))}detach(e){const t=this._adjustIndex(e,-1),i=s0(this._lContainer,t);return i&&null!=Nm(hC(this._lContainer),t)?new Od(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function vF(n){return n[wm]}function hC(n){return n[wm]||(n[wm]=[])}function bF(n,e){let t;const i=e[n.index];if(yr(i))t=i;else{let r;if(8&n.type)r=kn(i);else{const s=e[De];r=s.createComment("");const o=Ri(n,e);Ea(s,Vm(s,o),r,function DK(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=bO(i,e,r,n),Xm(e,t)}return new yF(t,n,e)}class fC{constructor(e){this.queryList=e,this.matches=null}clone(){return new fC(this.queryList)}setDirty(){this.queryList.setDirty()}}class pC{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new pC(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==DF(e,t).matches&&this.queries[t].setDirty()}}class wF{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class mC{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new mC(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class gC{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new gC(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,SX(t,s)),this.matchTNodeWithReadOption(e,t,Rm(t,e,s,!1,!1))}else i===yn?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Rm(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ve||r===Nn||r===yn&&4&t.type)this.addMatch(t.index,-2);else{const s=Rm(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function SX(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function TX(n,e,t,i){return-1===t?function IX(n,e){return 11&n.type?dc(n,e):4&n.type?fg(n,e):null}(e,n):-2===t?function MX(n,e,t){return t===ve?dc(e,n):t===yn?fg(e,n):t===Nn?bF(e,n):void 0}(n,e,i):va(n,n[j],t,e)}function CF(n,e,t,i){const r=e[Pr].queries[i];if(null===r.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:TX(e,s[c],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function _C(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=CF(n,e,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=ii;d<u.length;d++){const h=u[d];h[pd]===h[Ot]&&_C(h[j],h,c,i)}if(null!==u[Xl]){const d=u[Xl];for(let h=0;h<d.length;h++){const f=d[h];_C(f[j],f,c,i)}}}}}return i}function Se(n){const e=T(),t=Ve(),i=g1();Aw(i+1);const r=DF(t,i);if(n.dirty&&function t6(n){return 4==(4&n[Ee])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?_C(t,e,i,[]):CF(t,e,r,i);n.reset(s,v7),n.notifyOnChanges()}return!0}return!1}function Lt(n,e,t){const i=Ve();i.firstCreatePass&&(xF(i,new wF(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),EF(i,T(),e)}function an(n,e,t,i){const r=Ve();if(r.firstCreatePass){const s=Rn();xF(r,new wF(e,t,i),s.index),function kX(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}EF(r,T(),t)}function Ie(){return function AX(n,e){return n[Pr].queries[e].queryList}(T(),g1())}function EF(n,e,t){const i=new hg(4==(4&t));pO(n,e,i,i.destroy),null===e[Pr]&&(e[Pr]=new pC),e[Pr].queries.push(new fC(i))}function xF(n,e,t){null===n.queries&&(n.queries=new mC),n.queries.track(new gC(e,t))}function DF(n,e){return n.queries.getByIndex(e)}function pg(n,e){return fg(n,e)}function gg(...n){}const _g=new k("Application Initializer");let yg=(()=>{class n{constructor(t){this.appInits=t,this.resolve=gg,this.reject=gg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Bd(s))t.push(s);else if(K0(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(C(_g,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qd=new k("AppId",{providedIn:"root",factory:function zF(){return`${EC()}${EC()}${EC()}`}});function EC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $F=new k("Platform Initializer"),xC=new k("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),uo=new k("AnimationModuleType");let XX=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const $r=new k("LocaleId",{providedIn:"root",factory:()=>ye($r,se.Optional|se.SkipSelf)||function ZX(){return typeof $localize<"u"&&$localize.locale||Tc}()});class eZ{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let qF=(()=>{class n{compileModuleSync(t){return new oC(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=Cs(Ai(t).declarations).reduce((o,a)=>{const l=Je(a);return l&&o.push(new Pd(l)),o},[]);return new eZ(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iZ=(()=>Promise.resolve(0))();function DC(n){typeof Zone>"u"?iZ.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ne{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new et(!1),this.onMicrotaskEmpty=new et(!1),this.onStable=new et(!1),this.onError=new et(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function rZ(){let n=ft.requestAnimationFrame,e=ft.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function aZ(n){const e=()=>{!function oZ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ft,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,IC(n),n.isCheckStableRunning=!0,SC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),IC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{try{return KF(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),YF(n)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return KF(n),t.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),YF(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,IC(n),SC(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ne.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(ne.isInAngularZone())throw new D(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,sZ,gg,gg);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const sZ={};function SC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function IC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function KF(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function YF(n){n._nesting--,SC(n)}class lZ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new et,this.onMicrotaskEmpty=new et,this.onStable=new et,this.onError=new et}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const QF=new k(""),vg=new k("");let AC,TC=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,AC||(function cZ(n){AC=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ne.assertNotInAngularZone(),DC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())DC(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(C(ne),C(MC),C(vg))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),MC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return AC?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ds=!1;let ho=null;const XF=new k("AllowMultipleToken"),kC=new k("PlatformDestroyListeners"),ZF=new k("appBootstrapListener");class JF{constructor(e,t){this.name=e,this.token=t}}function tL(n,e,t=[]){const i=`Platform: ${e}`,r=new k(i);return(s=[])=>{let o=RC();if(!o||o.injector.get(XF,!1)){const a=[...t,...s,{provide:r,useValue:!0}];n?n(a):function hZ(n){if(ho&&!ho.get(XF,!1))throw new D(400,!1);ho=n;const e=n.get(iL);(function eL(n){const e=n.get($F,null);e&&e.forEach(t=>t())})(n)}(function nL(n=[],e){return _n.create({name:e,providers:[{provide:b0,useValue:"platform"},{provide:kC,useValue:new Set([()=>ho=null])},...n]})}(a,i))}return function pZ(n){const e=RC();if(!e)throw new D(401,!1);return e}()}}function RC(){return ho?.get(iL)??null}let iL=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function sL(n,e){let t;return t="noop"===n?new lZ:("zone.js"===n?void 0:n)||new ne(e),t}(i?.ngZone,function rL(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:ne,useValue:r}];return r.run(()=>{const o=_n.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(ws,null);if(!l)throw new D(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{bg(this._modules,a),c.unsubscribe()})}),function oL(n,e,t){try{const i=t();return Bd(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(l,r,()=>{const c=a.injector.get(yg);return c.runInitializers(),c.donePromise.then(()=>(function RP(n){Zi(n,"Expected localeId to be defined"),"string"==typeof n&&(kP=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get($r,Tc)||Tc),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,i=[]){const r=aL({},i);return function uZ(n,e,t){const i=new oC(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(Rc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new D(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(kC,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(C(_n))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function aL(n,e){return Array.isArray(e)?e.reduce(aL,n):{...n,...e}}let Rc=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,i,r){this._zone=t,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new nt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new nt(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{ne.assertNotInAngularZone(),DC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{ne.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=cm(s,o.pipe(UR()))}bootstrap(t,i){const r=t instanceof qN;if(!this._injector.get(yg).done){!r&&function Gl(n){const e=Je(n)||$n(n)||ni(n);return null!==e&&e.standalone}(t);throw new D(405,Ds)}let o;o=r?t:this._injector.get(Sa).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function dZ(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Mc),c=o.create(_n.NULL,[],i||o.selector,a),u=c.location.nativeElement,d=c.injector.get(QF,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),bg(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new D(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;bg(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(ZF,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>bg(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new D(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(C(ne),C(vs),C(ws))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let qr=(()=>{class n{}return n.__NG_ELEMENT_ID__=gZ,n})();function gZ(n){return function _Z(n,e,t){if(gd(n)&&!t){const i=Ni(n.index,e);return new Od(i,i)}return 47&n.type?new Od(e[Wn],e):null}(Rn(),T(),16==(16&n))}class hL{constructor(){}supports(e){return tg(e)}create(e){return new EZ(e)}}const CZ=(n,e)=>e;class EZ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||CZ}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<pL(i,r,s)?t:i,a=pL(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!tg(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),i=!0),t=t._next}else r=0,function t9(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new xZ(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new fL),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fL),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class xZ{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DZ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class fL{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new DZ,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pL(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class mL{constructor(){}supports(e){return e instanceof Map||W0(e)}create(){return new SZ}}class SZ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||W0(e)))throw new D(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new IZ(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class IZ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gL(){return new Ss([new hL])}let Ss=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||gL()),deps:[[n,new Ca,new Vr]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new D(901,!1)}}return n.\u0275prov=P({token:n,providedIn:"root",factory:gL}),n})();function _L(){return new Xd([new mL])}let Xd=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||_L()),deps:[[n,new Ca,new Vr]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new D(901,!1)}}return n.\u0275prov=P({token:n,providedIn:"root",factory:_L}),n})();const AZ=tL(null,"core",[]);let kZ=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(C(Rc))},n.\u0275mod=We({type:n}),n.\u0275inj=je({}),n})();function Nc(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let LC=null;function Is(){return LC}class OZ{}const we=new k("DocumentToken");let VC=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return function PZ(){return C(yL)}()},providedIn:"platform"}),n})();const FZ=new k("Location Initialized");let yL=(()=>{class n extends VC{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Is().getBaseHref(this._doc)}onPopState(t){const i=Is().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Is().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){vL()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){vL()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(C(we))},n.\u0275prov=P({token:n,factory:function(){return function LZ(){return new yL(C(we))}()},providedIn:"platform"}),n})();function vL(){return!!window.history.pushState}function BC(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function bL(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ts(n){return n&&"?"!==n[0]?"?"+n:n}let Ra=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return ye(CL)},providedIn:"root"}),n})();const wL=new k("appBaseHref");let CL=(()=>{class n extends Ra{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ye(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return BC(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ts(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+Ts(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+Ts(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(C(VC),C(wL,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VZ=(()=>{class n extends Ra{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=BC(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+Ts(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+Ts(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(C(VC),C(wL,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),Eg=(()=>{class n{constructor(t){this._subject=new et,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function HZ(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(bL(EL(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ts(i))}normalize(t){return n.stripTrailingSlash(function UZ(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,EL(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ts(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ts(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Ts,n.joinWithSlash=BC,n.stripTrailingSlash=bL,n.\u0275fac=function(t){return new(t||n)(C(Ra))},n.\u0275prov=P({token:n,factory:function(){return function BZ(){return new Eg(C(Ra))}()},providedIn:"root"}),n})();function EL(n){return n.replace(/\/index.html$/,"")}var qt=(()=>((qt=qt||{})[qt.Format=0]="Format",qt[qt.Standalone=1]="Standalone",qt))(),Ne=(()=>((Ne=Ne||{})[Ne.Narrow=0]="Narrow",Ne[Ne.Abbreviated=1]="Abbreviated",Ne[Ne.Wide=2]="Wide",Ne[Ne.Short=3]="Short",Ne))(),Mt=(()=>((Mt=Mt||{})[Mt.Short=0]="Short",Mt[Mt.Medium=1]="Medium",Mt[Mt.Long=2]="Long",Mt[Mt.Full=3]="Full",Mt))(),ie=(()=>((ie=ie||{})[ie.Decimal=0]="Decimal",ie[ie.Group=1]="Group",ie[ie.List=2]="List",ie[ie.PercentSign=3]="PercentSign",ie[ie.PlusSign=4]="PlusSign",ie[ie.MinusSign=5]="MinusSign",ie[ie.Exponential=6]="Exponential",ie[ie.SuperscriptingExponent=7]="SuperscriptingExponent",ie[ie.PerMille=8]="PerMille",ie[ie.Infinity=9]="Infinity",ie[ie.NaN=10]="NaN",ie[ie.TimeSeparator=11]="TimeSeparator",ie[ie.CurrencyDecimal=12]="CurrencyDecimal",ie[ie.CurrencyGroup=13]="CurrencyGroup",ie))();function xg(n,e){return or(oi(n)[U.DateFormat],e)}function Dg(n,e){return or(oi(n)[U.TimeFormat],e)}function Sg(n,e){return or(oi(n)[U.DateTimeFormat],e)}function sr(n,e){const t=oi(n),i=t[U.NumberSymbols][e];if(typeof i>"u"){if(e===ie.CurrencyDecimal)return t[U.NumberSymbols][ie.Decimal];if(e===ie.CurrencyGroup)return t[U.NumberSymbols][ie.Group]}return i}function DL(n){if(!n[U.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[U.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function or(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function HC(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const eJ=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Zd={},tJ=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ln=(()=>((ln=ln||{})[ln.Short=0]="Short",ln[ln.ShortGMT=1]="ShortGMT",ln[ln.Long=2]="Long",ln[ln.Extended=3]="Extended",ln))(),ae=(()=>((ae=ae||{})[ae.FullYear=0]="FullYear",ae[ae.Month=1]="Month",ae[ae.Date=2]="Date",ae[ae.Hours=3]="Hours",ae[ae.Minutes=4]="Minutes",ae[ae.Seconds=5]="Seconds",ae[ae.FractionalSeconds=6]="FractionalSeconds",ae[ae.Day=7]="Day",ae))(),xe=(()=>((xe=xe||{})[xe.DayPeriods=0]="DayPeriods",xe[xe.Days=1]="Days",xe[xe.Months=2]="Months",xe[xe.Eras=3]="Eras",xe))();function nJ(n,e,t,i){let r=function dJ(n){if(TL(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,o=1]=n.split("-").map(a=>+a);return Ig(r,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(eJ))return function hJ(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,l,c),e}(i)}const e=new Date(n);if(!TL(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Ms(t,e)||e;let a,o=[];for(;e;){if(a=tJ.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const u=o.pop();if(!u)break;e=u}}let l=r.getTimezoneOffset();i&&(l=IL(i,l),r=function uJ(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function cJ(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(IL(e,r)-r))}(r,i,!0));let c="";return o.forEach(u=>{const d=function lJ(n){if(zC[n])return zC[n];let e;switch(n){case"G":case"GG":case"GGG":e=ut(xe.Eras,Ne.Abbreviated);break;case"GGGG":e=ut(xe.Eras,Ne.Wide);break;case"GGGGG":e=ut(xe.Eras,Ne.Narrow);break;case"y":e=Jt(ae.FullYear,1,0,!1,!0);break;case"yy":e=Jt(ae.FullYear,2,0,!0,!0);break;case"yyy":e=Jt(ae.FullYear,3,0,!1,!0);break;case"yyyy":e=Jt(ae.FullYear,4,0,!1,!0);break;case"Y":e=kg(1);break;case"YY":e=kg(2,!0);break;case"YYY":e=kg(3);break;case"YYYY":e=kg(4);break;case"M":case"L":e=Jt(ae.Month,1,1);break;case"MM":case"LL":e=Jt(ae.Month,2,1);break;case"MMM":e=ut(xe.Months,Ne.Abbreviated);break;case"MMMM":e=ut(xe.Months,Ne.Wide);break;case"MMMMM":e=ut(xe.Months,Ne.Narrow);break;case"LLL":e=ut(xe.Months,Ne.Abbreviated,qt.Standalone);break;case"LLLL":e=ut(xe.Months,Ne.Wide,qt.Standalone);break;case"LLLLL":e=ut(xe.Months,Ne.Narrow,qt.Standalone);break;case"w":e=jC(1);break;case"ww":e=jC(2);break;case"W":e=jC(1,!0);break;case"d":e=Jt(ae.Date,1);break;case"dd":e=Jt(ae.Date,2);break;case"c":case"cc":e=Jt(ae.Day,1);break;case"ccc":e=ut(xe.Days,Ne.Abbreviated,qt.Standalone);break;case"cccc":e=ut(xe.Days,Ne.Wide,qt.Standalone);break;case"ccccc":e=ut(xe.Days,Ne.Narrow,qt.Standalone);break;case"cccccc":e=ut(xe.Days,Ne.Short,qt.Standalone);break;case"E":case"EE":case"EEE":e=ut(xe.Days,Ne.Abbreviated);break;case"EEEE":e=ut(xe.Days,Ne.Wide);break;case"EEEEE":e=ut(xe.Days,Ne.Narrow);break;case"EEEEEE":e=ut(xe.Days,Ne.Short);break;case"a":case"aa":case"aaa":e=ut(xe.DayPeriods,Ne.Abbreviated);break;case"aaaa":e=ut(xe.DayPeriods,Ne.Wide);break;case"aaaaa":e=ut(xe.DayPeriods,Ne.Narrow);break;case"b":case"bb":case"bbb":e=ut(xe.DayPeriods,Ne.Abbreviated,qt.Standalone,!0);break;case"bbbb":e=ut(xe.DayPeriods,Ne.Wide,qt.Standalone,!0);break;case"bbbbb":e=ut(xe.DayPeriods,Ne.Narrow,qt.Standalone,!0);break;case"B":case"BB":case"BBB":e=ut(xe.DayPeriods,Ne.Abbreviated,qt.Format,!0);break;case"BBBB":e=ut(xe.DayPeriods,Ne.Wide,qt.Format,!0);break;case"BBBBB":e=ut(xe.DayPeriods,Ne.Narrow,qt.Format,!0);break;case"h":e=Jt(ae.Hours,1,-12);break;case"hh":e=Jt(ae.Hours,2,-12);break;case"H":e=Jt(ae.Hours,1);break;case"HH":e=Jt(ae.Hours,2);break;case"m":e=Jt(ae.Minutes,1);break;case"mm":e=Jt(ae.Minutes,2);break;case"s":e=Jt(ae.Seconds,1);break;case"ss":e=Jt(ae.Seconds,2);break;case"S":e=Jt(ae.FractionalSeconds,1);break;case"SS":e=Jt(ae.FractionalSeconds,2);break;case"SSS":e=Jt(ae.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Mg(ln.Short);break;case"ZZZZZ":e=Mg(ln.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Mg(ln.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Mg(ln.Long);break;default:return null}return zC[n]=e,e}(u);c+=d?d(r,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Ig(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Ms(n,e){const t=function jZ(n){return oi(n)[U.LocaleId]}(n);if(Zd[t]=Zd[t]||{},Zd[t][e])return Zd[t][e];let i="";switch(e){case"shortDate":i=xg(n,Mt.Short);break;case"mediumDate":i=xg(n,Mt.Medium);break;case"longDate":i=xg(n,Mt.Long);break;case"fullDate":i=xg(n,Mt.Full);break;case"shortTime":i=Dg(n,Mt.Short);break;case"mediumTime":i=Dg(n,Mt.Medium);break;case"longTime":i=Dg(n,Mt.Long);break;case"fullTime":i=Dg(n,Mt.Full);break;case"short":const r=Ms(n,"shortTime"),s=Ms(n,"shortDate");i=Tg(Sg(n,Mt.Short),[r,s]);break;case"medium":const o=Ms(n,"mediumTime"),a=Ms(n,"mediumDate");i=Tg(Sg(n,Mt.Medium),[o,a]);break;case"long":const l=Ms(n,"longTime"),c=Ms(n,"longDate");i=Tg(Sg(n,Mt.Long),[l,c]);break;case"full":const u=Ms(n,"fullTime"),d=Ms(n,"fullDate");i=Tg(Sg(n,Mt.Full),[u,d])}return i&&(Zd[t][e]=i),i}function Tg(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function xr(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function Jt(n,e,t=0,i=!1,r=!1){return function(s,o){let a=function rJ(n,e){switch(n){case ae.FullYear:return e.getFullYear();case ae.Month:return e.getMonth();case ae.Date:return e.getDate();case ae.Hours:return e.getHours();case ae.Minutes:return e.getMinutes();case ae.Seconds:return e.getSeconds();case ae.FractionalSeconds:return e.getMilliseconds();case ae.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===ae.Hours)0===a&&-12===t&&(a=12);else if(n===ae.FractionalSeconds)return function iJ(n,e){return xr(n,3).substring(0,e)}(a,e);const l=sr(o,ie.MinusSign);return xr(a,e,l,i,r)}}function ut(n,e,t=qt.Format,i=!1){return function(r,s){return function sJ(n,e,t,i,r,s){switch(t){case xe.Months:return function qZ(n,e,t){const i=oi(n),s=or([i[U.MonthsFormat],i[U.MonthsStandalone]],e);return or(s,t)}(e,r,i)[n.getMonth()];case xe.Days:return function $Z(n,e,t){const i=oi(n),s=or([i[U.DaysFormat],i[U.DaysStandalone]],e);return or(s,t)}(e,r,i)[n.getDay()];case xe.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function YZ(n){const e=oi(n);return DL(e),(e[U.ExtraData][2]||[]).map(i=>"string"==typeof i?HC(i):[HC(i[0]),HC(i[1])])}(e),u=function QZ(n,e,t){const i=oi(n);DL(i);const s=or([i[U.ExtraData][0],i[U.ExtraData][1]],e)||[];return or(s,t)||[]}(e,r,i),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,g=o>=f.hours&&a>=f.minutes,_=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&_)return!0}else if(g||_)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function zZ(n,e,t){const i=oi(n),s=or([i[U.DayPeriodsFormat],i[U.DayPeriodsStandalone]],e);return or(s,t)}(e,r,i)[o<12?0:1];case xe.Eras:return function WZ(n,e){return or(oi(n)[U.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,n,e,t,i)}}function Mg(n){return function(e,t,i){const r=-1*i,s=sr(t,ie.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case ln.Short:return(r>=0?"+":"")+xr(o,2,s)+xr(Math.abs(r%60),2,s);case ln.ShortGMT:return"GMT"+(r>=0?"+":"")+xr(o,1,s);case ln.Long:return"GMT"+(r>=0?"+":"")+xr(o,2,s)+":"+xr(Math.abs(r%60),2,s);case ln.Extended:return 0===i?"Z":(r>=0?"+":"")+xr(o,2,s)+":"+xr(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const oJ=0,Ag=4;function SL(n){return Ig(n.getFullYear(),n.getMonth(),n.getDate()+(Ag-n.getDay()))}function jC(n,e=!1){return function(t,i){let r;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{const s=SL(t),o=function aJ(n){const e=Ig(n,oJ,1).getDay();return Ig(n,0,1+(e<=Ag?Ag:Ag+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return xr(r,n,sr(i,ie.MinusSign))}}function kg(n,e=!1){return function(t,i){return xr(SL(t).getFullYear(),n,sr(i,ie.MinusSign),e)}}const zC={};function IL(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function TL(n){return n instanceof Date&&!isNaN(n.valueOf())}const YC=/\s+/,RL=[];let NL=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=RL,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(YC):RL}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(YC):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(YC).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(y(Ss),y(Xd),y(ve),y(bs))},n.\u0275dir=I({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class SJ{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let FL=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new SJ(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),LL(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{LL(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(y(Nn),y(yn),y(Ss))},n.\u0275dir=I({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function LL(n,e){n.context.$implicit=e.item}let fo=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new TJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){VL("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){VL("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(y(Nn),y(yn))},n.\u0275dir=I({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class TJ{constructor(){this.$implicit=null,this.ngIf=null}}function VL(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ct(e)}'.`)}class QC{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ng=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),BL=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new QC(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(y(Nn),y(yn),y(Ng,9))},n.\u0275dir=I({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),XC=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(y(Nn))},n.\u0275dir=I({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[An]}),n})();const jJ=new k("DATE_PIPE_DEFAULT_TIMEZONE"),zJ=new k("DATE_PIPE_DEFAULT_OPTIONS");let eh=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,s){if(null==t||""===t||t!=t)return null;try{return nJ(t,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw function Dr(n,e){return new D(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(y($r,16),y(jJ,24),y(zJ,24))},n.\u0275pipe=_i({name:"date",type:n,pure:!0,standalone:!0}),n})(),Na=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({}),n})();const jL="browser";let iee=(()=>{class n{}return n.\u0275prov=P({token:n,providedIn:"root",factory:()=>new ree(C(we),window)}),n})();class ree{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function see(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=zL(this.window.history)||zL(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function zL(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Nee extends OZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class nE extends Nee{static makeCurrent(){!function NZ(n){LC||(LC=n)}(new nE)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Oee(){return nh=nh||document.querySelector("base"),nh?nh.getAttribute("href"):null}();return null==t?null:function Pee(n){Fg=Fg||document.createElement("a"),Fg.setAttribute("href",n);const e=Fg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){nh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function xJ(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Fg,nh=null;const KL=new k("TRANSITION_ID"),Lee=[{provide:_g,useFactory:function Fee(n,e,t){return()=>{t.get(yg).donePromise.then(()=>{const i=Is(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[KL,we,_n],multi:!0}];let Bee=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const Lg=new k("EventManagerPlugins");let Vg=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(C(Lg),C(ne))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class YL{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=Is().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let QL=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let s=r.get(t)??0;return s+=i,s>0?r.set(t,s):r.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),ih=(()=>{class n extends QL{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(s=>s.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(C(we))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const iE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rE=/%COMP%/g,JL=new k("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function eV(n,e){return e.flat(100).map(t=>t.replace(rE,n))}function tV(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Bg=(()=>{class n{constructor(t,i,r,s){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new sE(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof rV?r.applyToHost(t):r instanceof oE&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(i.encapsulation){case gr.Emulated:s=new rV(o,a,i,this.appId,l);break;case gr.ShadowDom:return new Wee(o,a,t,i);default:s=new oE(o,a,i,l)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(C(Vg),C(ih),C(Qd),C(JL))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class sE{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(iE[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(iV(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(iV(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=iE[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=iE[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(yi.DashCase|yi.Important)?e.style.setProperty(t,i,r&yi.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&yi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,tV(i)):this.eventManager.addEventListener(e,t,tV(i))}}function iV(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Wee extends sE{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=eV(r.id,r.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class oE extends sE{constructor(e,t,i,r,s=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=eV(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class rV extends oE{constructor(e,t,i,r,s){const o=r+"-"+i.id;super(e,t,i,s,o),this.contentAttr=function zee(n){return"_ngcontent-%COMP%".replace(rE,n)}(o),this.hostAttr=function $ee(n){return"_nghost-%COMP%".replace(rE,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Gee=(()=>{class n extends YL{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(C(we))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const sV=["alt","control","meta","shift"],Kee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yee={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Qee=(()=>{class n extends YL{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Is().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),sV.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(t,i){let r=Kee[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),sV.forEach(o=>{o!==r&&(0,Yee[o])(t)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(C(we))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const aV=[{provide:xC,useValue:jL},{provide:$F,useValue:function Xee(){nE.makeCurrent()},multi:!0},{provide:we,useFactory:function Jee(){return function NK(n){h0=n}(document),document},deps:[]}],ete=tL(AZ,"browser",aV),lV=new k(""),cV=[{provide:vg,useClass:class Vee{addToWindow(e){ft.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},ft.getAllAngularTestabilities=()=>e.getAllTestabilities(),ft.getAllAngularRootElements=()=>e.getAllRootElements(),ft.frameworkStabilizers||(ft.frameworkStabilizers=[]),ft.frameworkStabilizers.push(i=>{const r=ft.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Is().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:QF,useClass:TC,deps:[ne,MC,vg]},{provide:TC,useClass:TC,deps:[ne,MC,vg]}],uV=[{provide:b0,useValue:"root"},{provide:ws,useFactory:function Zee(){return new ws},deps:[]},{provide:Lg,useClass:Gee,multi:!0,deps:[we,ne,xC]},{provide:Lg,useClass:Qee,multi:!0,deps:[we]},{provide:Bg,useClass:Bg,deps:[Vg,ih,Qd,JL]},{provide:Rd,useExisting:Bg},{provide:QL,useExisting:ih},{provide:ih,useClass:ih,deps:[we]},{provide:Vg,useClass:Vg,deps:[Lg,ne]},{provide:class oee{},useClass:Bee,deps:[]},[]];let dV=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Qd,useValue:t.appId},{provide:KL,useExisting:Qd},Lee]}}}return n.\u0275fac=function(t){return new(t||n)(C(lV,12))},n.\u0275mod=We({type:n}),n.\u0275inj=je({providers:[...uV,...cV],imports:[Na,kZ]}),n})(),hV=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(C(we))},n.\u0275prov=P({token:n,factory:function(t){let i=null;return i=t?new t:function nte(){return new hV(C(we))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let cE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(t){let i=null;return i=t?new(t||n):C(mV),i},providedIn:"root"}),n})(),mV=(()=>{class n extends cE{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Qe.NONE:return i;case Qe.HTML:return Br(i,"HTML")?Pi(i):RN(this._doc,String(i)).toString();case Qe.STYLE:return Br(i,"Style")?Pi(i):i;case Qe.SCRIPT:if(Br(i,"Script"))return Pi(i);throw new Error("unsafe value used in a script context");case Qe.URL:return Br(i,"URL")?Pi(i):zm(String(i));case Qe.RESOURCE_URL:if(Br(i,"ResourceURL"))return Pi(i);throw new Error(`unsafe value used in a resource URL context (see ${um})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${um})`)}}bypassSecurityTrustHtml(t){return function UK(n){return new OK(n)}(t)}bypassSecurityTrustStyle(t){return function HK(n){return new PK(n)}(t)}bypassSecurityTrustScript(t){return function jK(n){return new FK(n)}(t)}bypassSecurityTrustUrl(t){return function zK(n){return new LK(n)}(t)}bypassSecurityTrustResourceUrl(t){return function $K(n){return new VK(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(C(we))},n.\u0275prov=P({token:n,factory:function(t){let i=null;return i=t?new t:function ate(n){return new mV(n.get(we))}(C(_n)),i},providedIn:"root"}),n})();function W(...n){return zt(n,ld(n))}class Vi extends ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const Ug=Zb(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:lte}=Array,{getPrototypeOf:cte,prototype:ute,keys:dte}=Object;function gV(n){if(1===n.length){const e=n[0];if(lte(e))return{args:e,keys:null};if(function hte(n){return n&&"object"==typeof n&&cte(n)===ute}(e)){const t=dte(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:fte}=Array;function uE(n){return oe(e=>function pte(n,e){return fte(e)?n(...e):n(e)}(n,e))}function _V(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function dE(...n){const e=ld(n),t=FR(n),{args:i,keys:r}=gV(n);if(0===i.length)return zt([],e);const s=new nt(function mte(n,e,t=so){return i=>{yV(e,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)yV(e,()=>{const c=zt(n[l],e);let u=!1;c.subscribe(Ct(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>_V(r,o):so));return t?s.pipe(uE(t)):s}function yV(n,e,t){n?hs(t,n,e):e()}function Hg(...n){return function gte(){return ql(1)}()(zt(n,ld(n)))}function vV(n){return new nt(e=>{ti(n()).subscribe(e)})}function Oc(n,e){const t=qe(n)?n:()=>n,i=r=>r.error(t());return new nt(e?r=>e.schedule(i,0,r):i)}function hE(){return Nt((n,e)=>{let t=null;n._refCount++;const i=Ct(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class fE extends nt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,CR(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new mn;const t=this.getSubject();e.add(this.source.subscribe(Ct(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=mn.EMPTY)}return e}refCount(){return hE()(this)}}function Wr(n,e){return Nt((t,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();t.subscribe(Ct(i,l=>{r?.unsubscribe();let c=0;const u=s++;ti(n(l,u)).subscribe(r=Ct(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Ci(n){return n<=0?()=>mr:Nt((e,t)=>{let i=0;e.subscribe(Ct(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function rh(...n){const e=ld(n);return Nt((t,i)=>{(e?Hg(n,t,e):Hg(n,t)).subscribe(i)})}function vn(n,e){return Nt((t,i)=>{let r=0;t.subscribe(Ct(i,s=>n.call(e,s,r++)&&i.next(s)))})}function jg(n){return Nt((e,t)=>{let i=!1;e.subscribe(Ct(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function bV(n=_te){return Nt((e,t)=>{let i=!1;e.subscribe(Ct(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function _te(){return new Ug}function mo(n,e){const t=arguments.length>=2;return i=>i.pipe(n?vn((r,s)=>n(r,s,i)):so,Ci(1),t?jg(e):bV(()=>new Ug))}function go(n,e){return qe(e)?gn(n,e,1):gn(n,1)}function cn(n,e,t){const i=qe(n)||e||t?{next:n,error:e,complete:t}:n;return i?Nt((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(Ct(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):so}function As(n){return Nt((e,t)=>{let s,i=null,r=!1;i=e.subscribe(Ct(t,void 0,void 0,o=>{s=ti(n(o,As(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function wV(n,e){return Nt(function yte(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Ct(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}function pE(n){return n<=0?()=>mr:Nt((e,t)=>{let i=[];e.subscribe(Ct(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function CV(n,e){const t=arguments.length>=2;return i=>i.pipe(n?vn((r,s)=>n(r,s,i)):so,pE(1),t?jg(e):bV(()=>new Ug))}function mE(n){return oe(()=>n)}function zg(n){return Nt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ge="primary",sh=Symbol("RouteTitle");class bte{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Pc(n){return new bte(n)}function wte(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Gr(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!EV(n[r],e[r]))return!1;return!0}function EV(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function xV(n){return Array.prototype.concat.apply([],n)}function DV(n){return n.length>0?n[n.length-1]:null}function On(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function _o(n){return K0(n)?n:Bd(n)?zt(Promise.resolve(n)):W(n)}const $g=!1,Ete={exact:function TV(n,e,t){if(!Oa(n.segments,e.segments)||!qg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!TV(n.children[i],e.children[i],t))return!1;return!0},subset:MV},SV={exact:function xte(n,e){return Gr(n,e)},subset:function Dte(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>EV(n[t],e[t]))},ignored:()=>!0};function IV(n,e,t){return Ete[t.paths](n.root,e.root,t.matrixParams)&&SV[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function MV(n,e,t){return AV(n,e,e.segments,t)}function AV(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Oa(r,t)||e.hasChildren()||!qg(r,t,i))}if(n.segments.length===t.length){if(!Oa(n.segments,t)||!qg(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!MV(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Oa(n.segments,r)&&qg(n.segments,r,i)&&n.children[ge])&&AV(n.children[ge],e,s,i)}}function qg(n,e,t){return e.every((i,r)=>SV[t](n[r].parameters,i.parameters))}class yo{constructor(e=new ke([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pc(this.queryParams)),this._queryParamMap}toString(){return Tte.serialize(this)}}class ke{constructor(e,t){this.segments=e,this.children=t,this.parent=null,On(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wg(this)}}class oh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Pc(this.parameters)),this._parameterMap}toString(){return NV(this)}}function Oa(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let ah=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return new gE},providedIn:"root"}),n})();class gE{parse(e){const t=new Lte(e);return new yo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${lh(e.root,!0)}`,i=function kte(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Gg(t)}=${Gg(r)}`).join("&"):`${Gg(t)}=${Gg(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Mte(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Tte=new gE;function Wg(n){return n.segments.map(e=>NV(e)).join("/")}function lh(n,e){if(!n.hasChildren())return Wg(n);if(e){const t=n.children[ge]?lh(n.children[ge],!1):"",i=[];return On(n.children,(r,s)=>{s!==ge&&i.push(`${s}:${lh(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Ite(n,e){let t=[];return On(n.children,(i,r)=>{r===ge&&(t=t.concat(e(i,r)))}),On(n.children,(i,r)=>{r!==ge&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===ge?[lh(n.children[ge],!1)]:[`${r}:${lh(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ge]?`${Wg(n)}/${t[0]}`:`${Wg(n)}/(${t.join("//")})`}}function kV(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gg(n){return kV(n).replace(/%3B/gi,";")}function _E(n){return kV(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kg(n){return decodeURIComponent(n)}function RV(n){return Kg(n.replace(/\+/g,"%20"))}function NV(n){return`${_E(n.path)}${function Ate(n){return Object.keys(n).map(e=>`;${_E(e)}=${_E(n[e])}`).join("")}(n.parameters)}`}const Rte=/^[^\/()?;=#]+/;function Yg(n){const e=n.match(Rte);return e?e[0]:""}const Nte=/^[^=?&#]+/,Pte=/^[^&#]+/;class Lte{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ge]=new ke(e,t)),i}parseSegment(){const e=Yg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new D(4009,$g);return this.capture(e),new oh(Kg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Yg(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Yg(this.remaining);r&&(i=r,this.capture(i))}e[Kg(t)]=Kg(i)}parseQueryParam(e){const t=function Ote(n){const e=n.match(Nte);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function Fte(n){const e=n.match(Pte);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=RV(t),s=RV(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Yg(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new D(4010,$g);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ge);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ge]:new ke([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new D(4011,$g)}}function yE(n){return n.segments.length>0?new ke([],{[ge]:n}):n}function Qg(n){const e={};for(const i of Object.keys(n.children)){const s=Qg(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function Vte(n){if(1===n.numberOfChildren&&n.children[ge]){const e=n.children[ge];return new ke(n.segments.concat(e.segments),e.children)}return n}(new ke(n.segments,e))}function Pa(n){return n instanceof yo}const vE=!1;function Bte(n,e,t,i,r){if(0===t.length)return Fc(e.root,e.root,e.root,i,r);const s=function VV(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new LV(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return On(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new LV(t,e,i)}(t);return s.toRoot()?Fc(e.root,e.root,new ke([],{}),i,r):function o(l){const c=function Hte(n,e,t,i){if(n.isAbsolute)return new Lc(e.root,!0,0);if(-1===i)return new Lc(t,t===e.root,0);return function BV(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new D(4005,vE&&"Invalid number of '../'");r=i.segments.length}return new Lc(i,!1,r-s)}(t,i+(ch(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,l),u=c.processChildren?Vc(c.segmentGroup,c.index,s.commands):bE(c.segmentGroup,c.index,s.commands);return Fc(e.root,c.segmentGroup,u,i,r)}(n.snapshot?._lastPathIndex)}function ch(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function uh(n){return"object"==typeof n&&null!=n&&n.outlets}function Fc(n,e,t,i,r){let o,s={};i&&On(i,(l,c)=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:FV(n,e,t);const a=yE(Qg(o));return new yo(a,s,r)}function FV(n,e,t){const i={};return On(n.children,(r,s)=>{i[s]=r===e?t:FV(r,e,t)}),new ke(n.segments,i)}class LV{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&ch(i[0]))throw new D(4003,vE&&"Root segment cannot have matrix parameters");const r=i.find(uh);if(r&&r!==DV(i))throw new D(4004,vE&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lc{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function bE(n,e,t){if(n||(n=new ke([],{})),0===n.segments.length&&n.hasChildren())return Vc(n,e,t);const i=function zte(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],a=t[i];if(uh(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!HV(l,c,o))return s;i+=2}else{if(!HV(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new ke(n.segments.slice(0,i.pathIndex),{});return s.children[ge]=new ke(n.segments.slice(i.pathIndex),n.children),Vc(s,0,r)}return i.match&&0===r.length?new ke(n.segments,{}):i.match&&!n.hasChildren()?wE(n,e,t):i.match?Vc(n,0,r):wE(n,e,t)}function Vc(n,e,t){if(0===t.length)return new ke(n.segments,{});{const i=function jte(n){return uh(n[0])?n[0].outlets:{[ge]:n}}(t),r={};return!i[ge]&&n.children[ge]&&1===n.numberOfChildren&&0===n.children[ge].segments.length?Vc(n.children[ge],e,t):(On(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=bE(n.children[o],e,s))}),On(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new ke(n.segments,r))}}function wE(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(uh(s)){const l=$te(s.outlets);return new ke(i,l)}if(0===r&&ch(t[0])){i.push(new oh(n.segments[e].path,UV(t[0]))),r++;continue}const o=uh(s)?s.outlets[ge]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&ch(a)?(i.push(new oh(o,UV(a))),r+=2):(i.push(new oh(o,{})),r++)}return new ke(i,{})}function $te(n){const e={};return On(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=wE(new ke([],{}),0,t))}),e}function UV(n){const e={};return On(n,(t,i)=>e[i]=`${t}`),e}function HV(n,e,t){return n==t.path&&Gr(e,t.parameters)}const dh="imperative";class Kr{constructor(e,t){this.id=e,this.url=t}}class CE extends Kr{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fa extends Kr{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xg extends Kr{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zg extends Kr{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class EE extends Kr{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qte extends Kr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wte extends Kr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gte extends Kr{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Kte extends Kr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yte extends Kr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qte{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xte{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zte{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jte{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ene{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tne{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jV{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let rne=(()=>{class n{createUrlTree(t,i,r,s,o,a){return Bte(t||i.root,r,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),one=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(e){return rne.\u0275fac(e)},providedIn:"root"}),n})();class zV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=xE(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=xE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=DE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return DE(e,this._root).map(t=>t.value)}}function xE(n,e){if(n===e.value)return e;for(const t of e.children){const i=xE(n,t);if(i)return i}return null}function DE(n,e){if(n===e.value)return[e];for(const t of e.children){const i=DE(n,t);if(i.length)return i.unshift(e),i}return[]}class ks{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Bc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class $V extends zV{constructor(e,t){super(e),this.snapshot=t,SE(this,e)}toString(){return this.snapshot.toString()}}function qV(n,e){const t=function ane(n,e){const o=new Jg([],{},{},"",{},ge,e,null,n.root,-1,{});return new GV("",new ks(o,[]))}(n,e),i=new Vi([new oh("",{})]),r=new Vi({}),s=new Vi({}),o=new Vi({}),a=new Vi(""),l=new Rs(i,r,o,a,s,ge,e,t.root);return l.snapshot=t.root,new $V(new ks(l,[]),t)}class Rs{constructor(e,t,i,r,s,o,a,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(oe(c=>c[sh]))??W(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(oe(e=>Pc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(oe(e=>Pc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function WV(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function lne(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Jg{get title(){return this.data?.[sh]}constructor(e,t,i,r,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GV extends zV{constructor(e,t){super(t),this.url=e,SE(this,t)}toString(){return KV(this._root)}}function SE(n,e){e.value._routerState=n,e.children.forEach(t=>SE(n,t))}function KV(n){const e=n.children.length>0?` { ${n.children.map(KV).join(", ")} } `:"";return`${n.value}${e}`}function IE(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Gr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Gr(e.params,t.params)||n.params.next(t.params),function Cte(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Gr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Gr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function TE(n,e){const t=Gr(n.params,e.params)&&function Ste(n,e){return Oa(n,e)&&n.every((t,i)=>Gr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||TE(n.parent,e.parent))}function hh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function une(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return hh(n,i,r);return hh(n,i)})}(n,e,t);return new ks(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>hh(n,a)),o}}const i=function dne(n){return new Rs(new Vi(n.url),new Vi(n.params),new Vi(n.queryParams),new Vi(n.fragment),new Vi(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>hh(n,s));return new ks(i,r)}}const ME="ngNavigationCancelingError";function YV(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Pa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=QV(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function QV(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[ME]=!0,i.cancellationCode=e,t&&(i.url=t),i}function XV(n){return ZV(n)&&Pa(n.url)}function ZV(n){return n&&n[ME]}class hne{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new fh,this.attachRef=null}}let fh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new hne,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const e_=!1;let AE=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ge,this.activateEvents=new et,this.deactivateEvents=new et,this.attachEvents=new et,this.detachEvents=new et,this.parentContexts=ye(fh),this.location=ye(Nn),this.changeDetector=ye(qr),this.environmentInjector=ye(vs)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,e_);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,e_);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,e_);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new D(4013,e_);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new fne(t,a,r.injector);if(i&&function pne(n){return!!n.resolveComponentFactory}(i)){const c=i.resolveComponentFactory(o);this.activated=r.createComponent(c,r.length,l)}else this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[An]}),n})();class fne{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Rs?this.route:e===fh?this.childContexts:this.parent.get(e,t)}}let kE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Fe({type:n,selectors:[["ng-component"]],standalone:!0,features:[aC],decls:1,vars:0,template:function(t,i){1&t&&mt(0,"router-outlet")},dependencies:[AE],encapsulation:2}),n})();function JV(n,e){return n.providers&&!n._injector&&(n._injector=dg(n.providers,e,`Route: ${n.path}`)),n._injector??e}function NE(n){const e=n.children&&n.children.map(NE),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ge&&(t.component=kE),t}function ar(n){return n.outlet||ge}function e2(n,e){const t=n.filter(i=>ar(i)===e);return t.push(...n.filter(i=>ar(i)!==e)),t}function ph(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class vne{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),IE(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Bc(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),On(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Bc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Bc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Bc(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new tne(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Jte(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(IE(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),IE(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=ph(r.snapshot),l=a?.get(Sa)??null;o.attachRef=null,o.route=r,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class t2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class t_{constructor(e,t){this.component=e,this.route=t}}function bne(n,e,t){const i=n._root;return mh(i,e?e._root:null,t,[i.value])}function Uc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function A8(n){return null!==fm(n)}(n)?e.get(n):n:i}function mh(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Bc(e);return n.children.forEach(o=>{(function Cne(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function Ene(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Oa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Oa(n.url,e.url)||!Gr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!TE(n,e)||!Gr(n.queryParams,e.queryParams);default:return!TE(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new t2(i)):(s.data=o.data,s._resolvedData=o._resolvedData),mh(n,e,s.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new t_(a.outlet.component,o))}else o&&gh(e,a,r),r.canActivateChecks.push(new t2(i)),mh(n,null,s.component?a?a.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),On(s,(o,a)=>gh(o,t.getContext(a),r)),r}function gh(n,e,t){const i=Bc(n),r=n.value;On(i,(s,o)=>{gh(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new t_(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function _h(n){return"function"==typeof n}function OE(n){return n instanceof Ug||"EmptyError"===n?.name}const n_=Symbol("INITIAL_VALUE");function Hc(){return Wr(n=>dE(n.map(e=>e.pipe(Ci(1),rh(n_)))).pipe(oe(e=>{for(const t of e)if(!0!==t){if(t===n_)return n_;if(!1===t||t instanceof yo)return t}return!0}),vn(e=>e!==n_),Ci(1)))}function n2(n){return function ZG(...n){return vR(n)}(cn(e=>{if(Pa(e))throw YV(0,e)}),oe(e=>!0===e))}const PE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function r2(n,e,t,i,r){const s=FE(n,e,t);return s.matched?function Une(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?W(r.map(o=>{const a=Uc(o,n);return _o(function Mne(n){return n&&_h(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Hc(),n2()):W(!0)}(i=JV(e,i),e,t).pipe(oe(o=>!0===o?s:{...PE})):W(s)}function FE(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...PE}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||wte)(t,n,e);if(!r)return{...PE};const s={};On(r.posParams,(a,l)=>{s[l]=a.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function i_(n,e,t,i){if(t.length>0&&function zne(n,e,t){return t.some(i=>r_(n,e,i)&&ar(i)!==ge)}(n,t,i)){const s=new ke(e,function jne(n,e,t,i){const r={};r[ge]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&ar(s)!==ge){const o=new ke([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,r[ar(s)]=o}return r}(n,e,i,new ke(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function $ne(n,e,t){return t.some(i=>r_(n,e,i))}(n,t,i)){const s=new ke(n.segments,function Hne(n,e,t,i,r){const s={};for(const o of i)if(r_(n,t,o)&&!r[ar(o)]){const a=new ke([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[ar(o)]=a}return{...r,...s}}(n,e,t,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const r=new ke(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function r_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function s2(n,e,t,i){return!!(ar(n)===i||i!==ge&&r_(e,t,n))&&("**"===n.path||FE(e,n,t).matched)}function o2(n,e,t){return 0===e.length&&!n.children[t]}const s_=!1;class o_{constructor(e){this.segmentGroup=e||null}}class a2{constructor(e){this.urlTree=e}}function yh(n){return Oc(new o_(n))}function l2(n){return Oc(new a2(n))}class Kne{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=i_(this.urlTree.root,[],[],this.config).segmentGroup,t=new ke(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ge).pipe(oe(s=>this.createUrlTree(Qg(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(As(s=>{if(s instanceof a2)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof o_?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ge).pipe(oe(r=>this.createUrlTree(Qg(r),e.queryParams,e.fragment))).pipe(As(r=>{throw r instanceof o_?this.noMatchError(r):r}))}noMatchError(e){return new D(4002,s_)}createUrlTree(e,t,i){const r=yE(e);return new yo(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(oe(s=>new ke([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return zt(r).pipe(go(s=>{const o=i.children[s],a=e2(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(oe(l=>({segment:l,outlet:s})))}),wV((s,o)=>(s[o.outlet]=o.segment,s),{}),CV())}expandSegment(e,t,i,r,s,o){return zt(i).pipe(go(a=>this.expandSegmentAgainstRoute(e,t,i,a,r,s,o).pipe(As(c=>{if(c instanceof o_)return W(null);throw c}))),mo(a=>!!a),As((a,l)=>{if(OE(a))return o2(t,r,s)?W(new ke([],{})):yh(t);throw a}))}expandSegmentAgainstRoute(e,t,i,r,s,o,a){return s2(r,t,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o):yh(t):yh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?l2(s):this.lineralizeSegments(i,s).pipe(gn(o=>{const a=new ke(o,{});return this.expandSegment(e,a,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=FE(t,r,s);if(!a)return yh(t);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?l2(d):this.lineralizeSegments(r,d).pipe(gn(h=>this.expandSegment(e,t,i,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=JV(i,e),i.loadChildren?(i._loadedRoutes?W({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe(oe(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new ke(r,{})))):W(new ke(r,{}))):r2(t,i,r,e).pipe(Wr(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=i._injector??e,i,r).pipe(gn(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:p}=i_(t,a,l,h),g=new ke(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(oe(b=>new ke(a,b)));if(0===h.length&&0===p.length)return W(new ke(a,{}));const _=ar(i)===s;return this.expandSegment(d,g,h,p,_?ge:s,!0).pipe(oe(x=>new ke(a.concat(x.segments),x.children)))})):yh(t)))}getChildConfig(e,t,i){return t.children?W({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?W({routes:t._loadedRoutes,injector:t._loadedInjector}):function Bne(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?W(!0):W(r.map(o=>{const a=Uc(o,n);return _o(function Dne(n){return n&&_h(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Hc(),n2())}(e,t,i).pipe(gn(r=>r?this.configLoader.loadChildren(e,t).pipe(cn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Wne(n){return Oc(QV(s_,3))}())):W({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return W(i);if(r.numberOfChildren>1||!r.children[ge])return e.redirectTo,Oc(new D(4e3,s_));r=r.children[ge]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new yo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return On(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=t[a]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return On(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,i,r)}),new ke(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new D(4001,s_);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class Qne{}class Jne{constructor(e,t,i,r,s,o,a){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=i_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ge).pipe(oe(t=>{if(null===t)return null;const i=new Jg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ge,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ks(i,t),s=new GV(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=WV(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return zt(Object.keys(i.children)).pipe(go(r=>{const s=i.children[r],o=e2(t,r);return this.processSegmentGroup(e,o,s,r)}),wV((r,s)=>r&&s?(r.push(...s),r):null),function vte(n,e=!1){return Nt((t,i)=>{let r=0;t.subscribe(Ct(i,s=>{const o=n(s,r++);(o||e)&&i.next(s),!o&&i.complete()}))})}(r=>null!==r),jg(null),CV(),oe(r=>{if(null===r)return null;const s=u2(r);return function eie(n){n.sort((e,t)=>e.value.outlet===ge?-1:t.value.outlet===ge?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return zt(t).pipe(go(o=>this.processSegmentAgainstRoute(o._injector??e,o,i,r,s)),mo(o=>!!o),As(o=>{if(OE(o))return o2(i,r,s)?W([]):W(null);throw o}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!s2(t,i,r,s))return W(null);let o;if("**"===t.path){const a=r.length>0?DV(r).parameters:{},l=h2(i)+r.length;o=W({snapshot:new Jg(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,f2(t),ar(t),t.component??t._loadedComponent??null,t,d2(i),l,p2(t)),consumedSegments:[],remainingSegments:[]})}else o=r2(i,t,r,e).pipe(oe(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=h2(i)+l.length;return{snapshot:new Jg(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,f2(t),ar(t),t.component??t._loadedComponent??null,t,d2(i),d,p2(t)),consumedSegments:l,remainingSegments:c}}));return o.pipe(Wr(a=>{if(null===a)return W(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function tie(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=i_(i,c,u,h.filter(_=>void 0===_.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(oe(_=>null===_?null:[new ks(l,_)]));if(0===h.length&&0===p.length)return W([new ks(l,[])]);const g=ar(t)===s;return this.processSegment(d,h,f,p,g?ge:s).pipe(oe(_=>null===_?null:[new ks(l,_)]))}))}}function nie(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function u2(n){const e=[],t=new Set;for(const i of n){if(!nie(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=u2(i.children);e.push(new ks(i.value,r))}return e.filter(i=>!t.has(i))}function d2(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function h2(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function f2(n){return n.data||{}}function p2(n){return n.resolve||{}}function m2(n){return"string"==typeof n.title||null===n.title}function LE(n){return Wr(e=>{const t=n(e);return t?zt(t).pipe(oe(()=>e)):W(e)})}const jc=new k("ROUTES");let VE=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=_o(t.loadComponent()).pipe(oe(_2),cn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),zg(()=>{this.componentLoaders.delete(t)})),r=new fE(i,()=>new ue).pipe(hE());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return W({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(oe(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=xV(l.get(jc,[],se.Self|se.Optional)));return{routes:c.map(NE),injector:l}}),zg(()=>{this.childrenLoaders.delete(i)})),o=new fE(s,()=>new ue).pipe(hE());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(t){return _o(t()).pipe(oe(_2),gn(r=>r instanceof iF||Array.isArray(r)?W(r):zt(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(C(_n),C(qF))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _2(n){return function die(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let l_=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ue,this.configLoader=ye(VE),this.environmentInjector=ye(vs),this.urlSerializer=ye(ah),this.rootContexts=ye(fh),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Xte(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Qte(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new Vi({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:dh,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vn(i=>0!==i.id),oe(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),Wr(i=>{let r=!1,s=!1;return W(i).pipe(cn(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Wr(o=>{const a=t.browserUrlTree.toString(),l=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new Zg(o.id,t.serializeUrl(i.rawUrl),u,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),mr}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return y2(o.source)&&(t.browserUrlTree=o.extractedUrl),W(o).pipe(Wr(u=>{const d=this.transitions?.getValue();return this.events.next(new CE(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?mr:Promise.resolve(u)}),function Yne(n,e,t,i){return Wr(r=>function Gne(n,e,t,i,r){return new Kne(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(oe(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),cn(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},i.urlAfterRedirects=u.urlAfterRedirects}),function rie(n,e,t,i,r){return gn(s=>function Zne(n,e,t,i,r,s,o="emptyOnly"){return new Jne(n,e,t,i,r,o,s).recognize().pipe(Wr(a=>null===a?function Xne(n){return new nt(e=>e.error(n))}(new Qne):W(a)))}(n,e,t,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe(oe(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),cn(u=>{if(i.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const d=new qte(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new CE(u,this.urlSerializer.serialize(d),h,f);this.events.next(g);const _=qV(d,this.rootComponentType).snapshot;return W(i={...o,targetSnapshot:_,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new Zg(o.id,t.serializeUrl(i.extractedUrl),u,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),mr}}),cn(o=>{const a=new Wte(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),oe(o=>i={...o,guards:bne(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function kne(n,e){return gn(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?W({...t,guardsResult:!0}):function Rne(n,e,t,i){return zt(n).pipe(gn(r=>function Vne(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?W(s.map(a=>{const l=ph(e)??r,c=Uc(a,l);return _o(function Tne(n){return n&&_h(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):l.runInContext(()=>c(n,e,t,i))).pipe(mo())})).pipe(Hc()):W(!0)}(r.component,r.route,t,e,i)),mo(r=>!0!==r,!0))}(o,i,r,n).pipe(gn(a=>a&&function xne(n){return"boolean"==typeof n}(a)?function Nne(n,e,t,i){return zt(e).pipe(go(r=>Hg(function Pne(n,e){return null!==n&&e&&e(new Zte(n)),W(!0)}(r.route.parent,i),function One(n,e){return null!==n&&e&&e(new ene(n)),W(!0)}(r.route,i),function Lne(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function wne(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>vV(()=>W(o.guards.map(l=>{const c=ph(o.node)??t,u=Uc(l,c);return _o(function Ine(n){return n&&_h(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(mo())})).pipe(Hc())));return W(s).pipe(Hc())}(n,r.path,t),function Fne(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return W(!0);const r=i.map(s=>vV(()=>{const o=ph(e)??t,a=Uc(s,o);return _o(function Sne(n){return n&&_h(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(mo())}));return W(r).pipe(Hc())}(n,r.route,t))),mo(r=>!0!==r,!0))}(i,s,n,e):W(a)),oe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),cn(o=>{if(i.guardsResult=o.guardsResult,Pa(o.guardsResult))throw YV(0,o.guardsResult);const a=new Gte(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),vn(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),LE(o=>{if(o.guards.canActivateChecks.length)return W(o).pipe(cn(a=>{const l=new Kte(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Wr(a=>{let l=!1;return W(a).pipe(function sie(n,e){return gn(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return W(t);let s=0;return zt(r).pipe(go(o=>function oie(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!m2(r)&&(s[sh]=r.title),function aie(n,e,t,i){const r=function lie(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return W({});const s={};return zt(r).pipe(gn(o=>function cie(n,e,t,i){const r=ph(e)??i,s=Uc(n,r);return _o(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[o],e,t,i).pipe(mo(),cn(a=>{s[o]=a}))),pE(1),mE(s),As(o=>OE(o)?mr:Oc(o)))}(s,n,e,i).pipe(oe(o=>(n._resolvedData=o,n.data=WV(n,t).resolve,r&&m2(r)&&(n.data[sh]=r.title),null)))}(o.route,i,n,e)),cn(()=>s++),pE(1),gn(o=>s===r.length?W(t):mr))})}(t.paramsInheritanceStrategy,this.environmentInjector),cn({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),cn(a=>{const l=new Yte(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),LE(o=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(cn(u=>{l.component=u}),oe(()=>{})));for(const u of l.children)c.push(...a(u));return c};return dE(a(o.targetSnapshot.root)).pipe(jg(),Ci(1))}),LE(()=>this.afterPreactivation()),oe(o=>{const a=function cne(n,e,t){const i=hh(n,e._root,t?t._root:void 0);return new $V(i,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return i={...o,targetRouterState:a}}),cn(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>oe(i=>(new vne(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),cn({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Fa(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),zg(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),As(o=>{if(s=!0,ZV(o)){XV(o)||(t.navigated=!0,t.restoreHistory(i,!0));const a=new Xg(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),XV(o)){const l=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||y2(i.source)};t.scheduleNavigation(l,dh,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const a=new EE(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);this.events.next(a);try{i.resolve(t.errorHandler(o))}catch(l){i.reject(l)}}return mr}))}))}cancelNavigationTransition(t,i,r){const s=new Xg(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function y2(n){return n!==dh}let v2=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===ge);return i}getResolvedTitleForRoute(t){return t.data[sh]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return ye(hie)},providedIn:"root"}),n})(),hie=(()=>{class n extends v2{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(C(hV))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return ye(mie)},providedIn:"root"}),n})();class pie{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let mie=(()=>{class n extends pie{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Be(n)))(i||n)}}(),n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const c_=new k("",{providedIn:"root",factory:()=>({})});let _ie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:function(){return ye(yie)},providedIn:"root"}),n})(),yie=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vie(n){throw n}function bie(n,e,t){return e.parse("/")}const wie={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cie={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ye(XX),this.isNgZoneEnabled=!1,this.options=ye(c_,{optional:!0})||{},this.errorHandler=this.options.errorHandler||vie,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||bie,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ye(_ie),this.routeReuseStrategy=ye(fie),this.urlCreationStrategy=ye(one),this.titleStrategy=ye(v2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=xV(ye(jc,{optional:!0})??[]),this.navigationTransitions=ye(l_),this.urlSerializer=ye(ah),this.location=ye(Eg),this.isNgZoneEnabled=ye(ne)instanceof ne&&ne.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new yo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qV(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),dh,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(NE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Pa(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,dh,null,i)}navigate(t,i={skipLocationChange:!1}){return function Eie(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new D(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...wie}:!1===i?{...Cie}:i,Pa(t))return IV(this.currentUrlTree,t,r);const s=this.parseUrl(t);return IV(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c,u;return o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h}),u="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u_=(()=>{class n{constructor(t,i,r,s,o,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ue;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Fa&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Nc(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Nc(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Nc(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function PN(n,e,t){return function s7(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?ON:NN}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(y(Pn),y(Rs),ba("tabindex"),y(bs),y(ve),y(Ra))},n.\u0275dir=I({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&gt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Pt("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[An]}),n})();class b2{}let Sie=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(vn(t=>t instanceof Fa),go(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=dg(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return zt(r).pipe(ql())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):W(null);const s=r.pipe(gn(o=>null===o?W(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return i.loadComponent&&!i._loadedComponent?zt([s,this.loader.loadComponent(i)]).pipe(ql()):s})}}return n.\u0275fac=function(t){return new(t||n)(C(Pn),C(qF),C(vs),C(b2),C(VE))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UE=new k("");let w2=(()=>{class n{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof CE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Fa&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof jV&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new jV(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){k0()},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();var Bi=(()=>((Bi=Bi||{})[Bi.COMPLETE=0]="COMPLETE",Bi[Bi.FAILED=1]="FAILED",Bi[Bi.REDIRECTING=2]="REDIRECTING",Bi))();const zc=!1;function vo(n,e){return{\u0275kind:n,\u0275providers:e}}const HE=new k("",{providedIn:"root",factory:()=>!1});function E2(){const n=ye(_n);return e=>{const t=n.get(Rc);if(e!==t.components[0])return;const i=n.get(Pn),r=n.get(x2);1===n.get(jE)&&i.initialNavigation(),n.get(D2,null,se.Optional)?.setUpPreloading(),n.get(UE,null,se.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const x2=new k(zc?"bootstrap done indicator":"",{factory:()=>new ue}),jE=new k(zc?"initial navigation":"",{providedIn:"root",factory:()=>1});function kie(){let n=[];return n=zc?[{provide:qm,multi:!0,useFactory:()=>{const e=ye(Pn);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function nne(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],vo(1,n)}const D2=new k(zc?"router preloader":"");function Rie(n){return vo(0,[{provide:D2,useExisting:Sie},{provide:b2,useExisting:n}])}const vh=!1,S2=new k(vh?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Nie=[Eg,{provide:ah,useClass:gE},Pn,fh,{provide:Rs,useFactory:function C2(n){return n.routerState.root},deps:[Pn]},VE,vh?{provide:HE,useValue:!0}:[]];function Oie(){return new JF("Router",Pn)}let I2=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[Nie,vh&&i?.enableTracing?kie().\u0275providers:[],{provide:jc,multi:!0,useValue:t},{provide:S2,useFactory:Vie,deps:[[Pn,new Vr,new Ca]]},{provide:c_,useValue:i||{}},i?.useHash?{provide:Ra,useClass:VZ}:{provide:Ra,useClass:CL},{provide:UE,useFactory:()=>{const n=ye(iee),e=ye(ne),t=ye(c_),i=ye(l_),r=ye(ah);return t.scrollOffset&&n.setOffset(t.scrollOffset),new w2(r,i,n,e,t)}},i?.preloadingStrategy?Rie(i.preloadingStrategy).\u0275providers:[],{provide:JF,multi:!0,useFactory:Oie},i?.initialNavigation?Bie(i):[],[{provide:T2,useFactory:E2},{provide:ZF,multi:!0,useExisting:T2}]]}}static forChild(t){return{ngModule:n,providers:[{provide:jc,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(C(S2,8))},n.\u0275mod=We({type:n}),n.\u0275inj=je({imports:[kE]}),n})();function Vie(n){if(vh&&n)throw new D(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Bie(n){return["disabled"===n.initialNavigation?vo(3,[{provide:_g,multi:!0,useFactory:()=>{const e=ye(Pn);return()=>{e.setUpLocationChangeListener()}}},{provide:jE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?vo(2,[{provide:jE,useValue:0},{provide:_g,multi:!0,deps:[_n],useFactory:e=>{const t=e.get(FZ,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Pn),s=e.get(x2);(function Iie(n,e){n.events.pipe(vn(t=>t instanceof Fa||t instanceof Xg||t instanceof EE||t instanceof Zg),oe(t=>t instanceof Fa||t instanceof Zg?Bi.COMPLETE:t instanceof Xg&&(0===t.code||1===t.code)?Bi.REDIRECTING:Bi.FAILED),vn(t=>t!==Bi.REDIRECTING),Ci(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(l_).afterPreactivation=()=>(i(!0),s.closed?W(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const T2=new k(vh?"Router Initializer":"");function M2(...n){const e=FR(n),{args:t,keys:i}=gV(n),r=new nt(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;ti(t[u]).subscribe(Ct(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?_V(i,a):a),s.complete())}))}});return e?r.pipe(uE(e)):r}let A2=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(y(bs),y(ve))},n.\u0275dir=I({type:n}),n})(),La=(()=>{class n extends A2{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Be(n)))(i||n)}}(),n.\u0275dir=I({type:n,features:[$]}),n})();const Yr=new k("NgValueAccessor"),jie={provide:Yr,useExisting:at(()=>Va),multi:!0},$ie=new k("CompositionEventMode");let Va=(()=>{class n extends A2{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function zie(){const n=Is()?Is().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(y(bs),y(ve),y($ie,8))},n.\u0275dir=I({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&gt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ce([jie]),$]}),n})();const qie=!1;function bo(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function R2(n){return null!=n&&"number"==typeof n.length}const Yn=new k("NgValidators"),wo=new k("NgAsyncValidators"),Wie=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bh{static min(e){return function N2(n){return e=>{if(bo(e.value)||bo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function O2(n){return e=>{if(bo(e.value)||bo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function P2(n){return bo(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function F2(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function L2(n){return bo(n.value)||Wie.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function V2(n){return e=>bo(e.value)||!R2(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function B2(n){return e=>R2(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function U2(n){if(!n)return d_;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(bo(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return W2(e)}static composeAsync(e){return G2(e)}}function d_(n){return null}function H2(n){return null!=n}function j2(n){const e=Bd(n)?zt(n):n;if(qie&&!K0(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new D(-1101,t)}return e}function z2(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function $2(n,e){return e.map(t=>t(n))}function q2(n){return n.map(e=>function Gie(n){return!n.validate}(e)?e:t=>e.validate(t))}function W2(n){if(!n)return null;const e=n.filter(H2);return 0==e.length?null:function(t){return z2($2(t,e))}}function zE(n){return null!=n?W2(q2(n)):null}function G2(n){if(!n)return null;const e=n.filter(H2);return 0==e.length?null:function(t){return M2($2(t,e).map(j2)).pipe(oe(z2))}}function $E(n){return null!=n?G2(q2(n)):null}function K2(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Y2(n){return n._rawValidators}function Q2(n){return n._rawAsyncValidators}function qE(n){return n?Array.isArray(n)?n:[n]:[]}function h_(n,e){return Array.isArray(n)?n.includes(e):n===e}function X2(n,e){const t=qE(e);return qE(n).forEach(r=>{h_(t,r)||t.push(r)}),t}function Z2(n,e){return qE(e).filter(t=>!h_(n,t))}class J2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$E(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class li extends J2{get formDirective(){return null}get path(){return null}}class Ns extends J2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class eB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let wh=(()=>{class n extends eB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(y(Ns,2))},n.\u0275dir=I({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&Et("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[$]}),n})(),f_=(()=>{class n extends eB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(y(li,10))},n.\u0275dir=I({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&Et("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[$]}),n})();function tB(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const KE=!1,Ch="VALID",m_="INVALID",$c="PENDING",Eh="DISABLED";function YE(n){return(g_(n)?n.validators:n)||null}function QE(n,e){return(g_(e)?e.asyncValidators:n)||null}function g_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function nB(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new D(1e3,KE?function Xie(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new D(1001,KE?function Zie(n,e){return`Cannot find form control ${tB(n,e)}`}(e,t):"")}function iB(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new D(1002,KE?function Jie(n,e){return`Must supply a value for form control ${tB(n,e)}`}(e,r):"")})}class __{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ch}get invalid(){return this.status===m_}get pending(){return this.status==$c}get disabled(){return this.status===Eh}get enabled(){return this.status!==Eh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(X2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(X2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Z2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Z2(e,this._rawAsyncValidators))}hasValidator(e){return h_(this._rawValidators,e)}hasAsyncValidator(e){return h_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=$c,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Eh,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ch,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ch||this.status===$c)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Eh:Ch}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=$c,this._hasOwnPendingAsyncValidator=!0;const t=j2(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new et,this.statusChanges=new et}_calculateStatus(){return this._allControlsDisabled()?Eh:this.errors?m_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($c)?$c:this._anyControlsHaveStatus(m_)?m_:Ch}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){g_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function ere(n){return Array.isArray(n)?zE(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function tre(n){return Array.isArray(n)?$E(n):n||null}(this._rawAsyncValidators)}}class xh extends __{constructor(e,t,i){super(YE(t),QE(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){iB(this,!0,e),Object.keys(e).forEach(i=>{nB(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class rB extends xh{}const Ba=new k("CallSetDisabledState",{providedIn:"root",factory:()=>Dh}),Dh="always";function y_(n,e){return[...e.path,n]}function Sh(n,e,t=Dh){XE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function ire(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&sB(n,e)})}(n,e),function sre(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function rre(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&sB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function nre(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function v_(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),w_(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function b_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function XE(n,e){const t=Y2(n);null!==e.validator?n.setValidators(K2(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=Q2(n);null!==e.asyncValidator?n.setAsyncValidators(K2(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();b_(e._rawValidators,r),b_(e._rawAsyncValidators,r)}function w_(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Y2(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=Q2(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return b_(e._rawValidators,i),b_(e._rawAsyncValidators,i),t}function sB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function oB(n,e){XE(n,e)}function JE(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function aB(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function ex(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Va?t=s:function lre(n){return Object.getPrototypeOf(n.constructor)===La}(s)?i=s:r=s}),r||i||t||null}const ure={provide:li,useExisting:at(()=>C_)},Ih=(()=>Promise.resolve())();let C_=(()=>{class n extends li{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new et,this.form=new xh({},zE(t),$E(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ih.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Sh(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ih.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ih.then(()=>{const i=this._findContainer(t.path),r=new xh({});oB(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ih.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Ih.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,aB(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(y(Yn,10),y(wo,10),y(Ba,8))},n.\u0275dir=I({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&gt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ce([ure]),$]}),n})();function lB(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function cB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Th=class extends __{constructor(e=null,t,i){super(YE(t),QE(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),g_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=cB(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){lB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){lB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){cB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},fre={provide:Ns,useExisting:at(()=>tx)},hB=(()=>Promise.resolve())();let tx=(()=>{class n extends Ns{constructor(t,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Th,this._registered=!1,this.update=new et,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=ex(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),JE(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Sh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){hB.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Nc(i);hB.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?y_(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(y(li,9),y(Yn,10),y(wo,10),y(Yr,10),y(qr,8),y(Ba,8))},n.\u0275dir=I({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ce([fre]),$,An]}),n})(),E_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),pB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({}),n})();const nx=new k("NgModelWithFormControlWarning"),vre={provide:li,useExisting:at(()=>Ua)};let Ua=(()=>{class n extends li{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new et,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(w_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Sh(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){v_(t.control||null,t,!1),function cre(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,aB(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(v_(i||null,t),(n=>n instanceof Th)(r)&&(Sh(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);oB(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function ore(n,e){return w_(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){XE(this.form,this),this._oldForm&&w_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(y(Yn,10),y(wo,10),y(Ba,8))},n.\u0275dir=I({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&gt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ce([vre]),$,An]}),n})();const Cre={provide:Ns,useExisting:at(()=>Mh)};let Mh=(()=>{class n extends Ns{set isDisabled(t){}constructor(t,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new et,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=ex(0,s)}ngOnChanges(t){this._added||this._setUpControl(),JE(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return y_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(y(li,13),y(Yn,10),y(wo,10),y(Yr,10),y(nx,8))},n.\u0275dir=I({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ce([Cre]),$,An]}),n})(),AB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({imports:[pB]}),n})();class kB extends __{constructor(e,t,i){super(YE(t),QE(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){iB(this,!1,e),e.forEach((i,r)=>{nB(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function RB(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let lx=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return RB(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new xh(r,s)}record(t,i=null){const r=this._reduceControls(t);return new rB(r,i)}control(t,i,r){let s={};return this.useNonNullable?(RB(i)?s=i:(s.validators=i,s.asyncValidators=r),new Th(t,{...s,nonNullable:!0})):new Th(t,i,r)}array(t,i,r){const s=t.map(o=>this._createControl(o));return new kB(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof Th||t instanceof __?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lre=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ba,useValue:t.callSetDisabledState??Dh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({imports:[AB]}),n})(),Vre=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:nx,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ba,useValue:t.callSetDisabledState??Dh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({imports:[AB]}),n})();const cx={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},V=function(n,e){if(!n)throw qc(e)},qc=function(n){return new Error("Firebase Database ("+cx.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)},NB=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},ux={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),i.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(NB(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const l=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;const c=r<n.length?t[n.charAt(r)]:64;++r;const d=r<n.length?t[n.charAt(r)]:64;if(++r,null==s||null==a||null==c||null==d)throw new Ure;i.push(s<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==d&&i.push(c<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Ure extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OB=function(n){const e=NB(n);return ux.encodeByteArray(e,!0)},x_=function(n){return OB(n).replace(/\./g,"")},D_=function(n){try{return ux.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ah(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!jre(t)||(n[t]=Ah(n[t],e[t]));return n}function jre(n){return"__proto__"!==n}const S_=()=>{try{return function zre(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&D_(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},Yre=()=>{var n;return null===(n=S_())||void 0===n?void 0:n.config};class I_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function PB(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[x_(JSON.stringify({alg:"none",type:"JWT"})),x_(JSON.stringify(o)),""].join(".")}function yt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function dx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function hx(){var n;const e=null===(n=S_())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function FB(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function T_(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function LB(){const n=yt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Os(){return!0===cx.NODE_CLIENT||!0===cx.NODE_ADMIN}function kh(){try{return"object"==typeof indexedDB}catch{return!1}}class ci extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ja.prototype.create)}}class ja{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?function tse(n,e){return n.replace(nse,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new ci(r,`${this.serviceName}: ${o} (${r}).`,i)}}const nse=/\{\$([^}]+)}/g;function Rh(n){return JSON.parse(n)}function Fn(n){return JSON.stringify(n)}const M_=function(n){let e={},t={},i={},r="";try{const s=n.split(".");e=Rh(D_(s[0])||""),t=Rh(D_(s[1])||""),r=s[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}};function Sr(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Wc(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function fx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function A_(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function px(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],o=e[r];if(VB(s)&&VB(o)){if(!px(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function VB(n){return null!==n&&"object"==typeof n}function za(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Gc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Nh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class sse{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)i[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)i[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=4294967295&(h<<1|h>>>31)}let c,u,r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(r<<5|r>>>27)+c+l+u+i[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const i=t-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<t;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function BB(n,e){const t=new ose(n,e);return t.subscribe.bind(t)}class ose{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");r=function ase(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:i},void 0===r.next&&(r.next=mx),void 0===r.error&&(r.error=mx),void 0===r.complete&&(r.complete=mx);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mx(){}const R_=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};function ee(n){return n&&n._delegate?n._delegate:n}function UB(n,e,t,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function m(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(l){UB(s,i,r,o,a,"next",l)}function a(l){UB(s,i,r,o,a,"throw",l)}o(void 0)})}}class Ir{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $a="[DEFAULT]";class pse{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new I_;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),r=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function gse(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:$a})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=$a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=$a){return this.instances.has(e)}getOptions(e=$a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,o]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===$a?void 0:n),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(e=$a){return this.component?this.component.multipleInstances?e:$a:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _se{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pse(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const gx=[];var Le=(()=>{return(n=Le||(Le={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Le;var n})();const HB={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},yse=Le.INFO,vse={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},bse=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=vse[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class Oh{constructor(e){this.name=e,this._logLevel=yse,this._logHandler=bse,this._userLogHandler=null,gx.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?HB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const Ese=(n,e)=>e.some(t=>n instanceof t);let jB,zB;const $B=new WeakMap,_x=new WeakMap,qB=new WeakMap,yx=new WeakMap,vx=new WeakMap;let bx={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return _x.get(n);if("objectStoreNames"===e)return n.objectStoreNames||qB.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Co(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Ase(n){return"function"==typeof n?function Mse(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Dse(){return zB||(zB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(wx(this),e),Co($B.get(this))}:function(...e){return Co(n.apply(wx(this),e))}:function(e,...t){const i=n.call(wx(this),e,...t);return qB.set(i,e.sort?e.sort():[e]),Co(i)}}(n):(n instanceof IDBTransaction&&function Ise(n){if(_x.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});_x.set(n,e)}(n),Ese(n,function xse(){return jB||(jB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,bx):n)}function Co(n){if(n instanceof IDBRequest)return function Sse(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Co(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&$B.set(t,n)}).catch(()=>{}),vx.set(e,n),e}(n);if(yx.has(n))return yx.get(n);const e=Ase(n);return e!==n&&(yx.set(n,e),vx.set(e,n)),e}const wx=n=>vx.get(n),Rse=["get","getKey","getAll","getAllKeys","count"],Nse=["put","add","delete","clear"],Cx=new Map;function WB(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Cx.get(e))return Cx.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=Nse.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Rse.includes(t))return;const s=function(){var o=m(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),r&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return Cx.set(e,s),s}!function Tse(n){bx=n(bx)}(n=>({...n,get:(e,t,i)=>WB(e,t)||n.get(e,t,i),has:(e,t)=>!!WB(e,t)||n.has(e,t)}));class Ose{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Pse(n){return"VERSION"===n.getComponent()?.type}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const Ex="@firebase/app",qa=new Oh("@firebase/app"),Eo="[DEFAULT]",aoe={[Ex]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xo=new Map,Ph=new Map;function N_(n,e){try{n.container.addComponent(e)}catch(t){qa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function KB(n,e){n.container.addOrOverwriteComponent(e)}function Ps(n){const e=n.name;if(Ph.has(e))return qa.debug(`There were multiple attempts to register component ${e}.`),!1;Ph.set(e,n);for(const t of xo.values())N_(t,n);return!0}function xx(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function loe(n,e,t=Eo){xx(n,e).clearInstance(t)}function coe(){Ph.clear()}const Fs=new ja("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class doe{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}const Do="9.19.1";function O_(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:Eo,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw Fs.create("bad-app-name",{appName:String(r)});if(t||(t=Yre()),!t)throw Fs.create("no-options");const s=xo.get(r);if(s){if(px(t,s.options)&&px(i,s.config))return s;throw Fs.create("duplicate-app",{appName:r})}const o=new _se(r);for(const l of Ph.values())o.addComponent(l);const a=new doe(t,i,o);return xo.set(r,a),a}function YB(n=Eo){const e=xo.get(n);if(!e&&n===Eo)return O_();if(!e)throw Fs.create("no-app",{appName:n});return e}function hoe(){return Array.from(xo.values())}function QB(n){return Dx.apply(this,arguments)}function Dx(){return(Dx=m(function*(n){const e=n.name;xo.has(e)&&(xo.delete(e),yield Promise.all(n.container.getProviders().map(t=>t.delete())),n.isDeleted=!0)})).apply(this,arguments)}function Ui(n,e,t){var i;let r=null!==(i=aoe[n])&&void 0!==i?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];return s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void qa.warn(a.join(" "))}Ps(new Ir(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function XB(n,e){if(null!==n&&"function"!=typeof n)throw Fs.create("invalid-log-argument");!function Cse(n,e){for(const t of gx){let i=null;e&&e.level&&(i=HB[e.level]),t.userLogHandler=null===n?null:(r,s,...o)=>{const a=o.map(l=>{if(null==l)return null;if("string"==typeof l)return l;if("number"==typeof l||"boolean"==typeof l)return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(i??r.logLevel)&&n({level:Le[s].toLowerCase(),message:a,args:o,type:r.name})}}}(n,e)}function ZB(n){!function wse(n){gx.forEach(e=>{e.setLogLevel(n)})}(n)}const foe="firebase-heartbeat-database",poe=1,Fh="firebase-heartbeat-store";let Sx=null;function JB(){return Sx||(Sx=function kse(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,e),a=Co(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Co(o.result),l.oldVersion,l.newVersion,Co(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}(foe,poe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Fh)}}).catch(n=>{throw Fs.create("idb-open",{originalErrorMessage:n.message})})),Sx}function Ix(){return(Ix=m(function*(n){try{return(yield JB()).transaction(Fh).objectStore(Fh).get(tU(n))}catch(e){if(e instanceof ci)qa.warn(e.message);else{const t=Fs.create("idb-get",{originalErrorMessage:e?.message});qa.warn(t.message)}}})).apply(this,arguments)}function eU(n,e){return Tx.apply(this,arguments)}function Tx(){return(Tx=m(function*(n,e){try{const i=(yield JB()).transaction(Fh,"readwrite");return yield i.objectStore(Fh).put(e,tU(n)),i.done}catch(t){if(t instanceof ci)qa.warn(t.message);else{const i=Fs.create("idb-set",{originalErrorMessage:t?.message});qa.warn(i.message)}}})).apply(this,arguments)}function tU(n){return`${n.name}!${n.options.appId}`}class yoe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new boe(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return m(function*(){const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=nU();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==r&&!e._heartbeatsCache.heartbeats.some(s=>s.date===r))return e._heartbeatsCache.heartbeats.push({date:r,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=nU(),{heartbeatsToSend:i,unsentEntries:r}=function voe(n,e=1024){const t=[];let i=n.slice();for(const r of n){const s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),iU(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),iU(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}(e._heartbeatsCache.heartbeats),s=x_(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(e._heartbeatsCache.heartbeats=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function nU(){return(new Date).toISOString().substring(0,10)}class boe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!kh()&&function Jre(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function moe(n){return Ix.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return m(function*(){var i;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return eU(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return m(function*(){var i;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return eU(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function iU(n){return x_(JSON.stringify({version:2,heartbeats:n})).length}!function woe(n){Ps(new Ir("platform-logger",e=>new Ose(e),"PRIVATE")),Ps(new Ir("heartbeat",e=>new yoe(e),"PRIVATE")),Ui(Ex,"0.9.7",n),Ui(Ex,"0.9.7","esm2017"),Ui("fire-js","")}("");class Coe{constructor(e,t){this._delegate=e,this.firebase=t,N_(e,new Ir("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),QB(this._delegate)))}_getService(e,t=Eo){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&"EXPLICIT"===(null===(i=r.getComponent())||void 0===i?void 0:i.instantiationMode)&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=Eo){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){N_(this._delegate,e)}_addOrOverwriteComponent(e){KB(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const rU=new ja("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Doe=function sU(){const n=function xoe(n){const e={},t={__esModule:!0,initializeApp:function s(c,u={}){const d=O_(c,u);if(Sr(e,d.name))return e[d.name];const h=new n(d,t);return e[d.name]=h,h},app:r,registerVersion:Ui,setLogLevel:ZB,onLog:XB,apps:null,SDK_VERSION:Do,INTERNAL:{registerComponent:function a(c){const u=c.name,d=u.replace("-compat","");if(Ps(c)&&"PUBLIC"===c.type){const h=(f=r())=>{if("function"!=typeof f[d])throw rU.create("invalid-app-argument",{appName:u});return f[d]()};void 0!==c.serviceProps&&Ah(h,c.serviceProps),t[d]=h,n.prototype[d]=function(...f){return this._getService.bind(this,u).apply(this,c.multipleInstances?f:[])}}return"PUBLIC"===c.type?t[d]:null},removeApp:function i(c){delete e[c]},useAsService:function l(c,u){return"serverAuth"===u?null:u},modularAPIs:od}};function r(c){if(!Sr(e,c=c||Eo))throw rU.create("no-app",{appName:c});return e[c]}return t.default=t,Object.defineProperty(t,"apps",{get:function o(){return Object.keys(e).map(c=>e[c])}}),r.App=n,t}(Coe);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:sU,extendNamespace:function e(t){Ah(n,t)},createSubscribe:BB,ErrorFactory:ja,deepExtend:Ah}),n}(),oU=new Oh("@firebase/app-compat");if(function Xre(){return"object"==typeof self&&self.self===self}()&&void 0!==self.firebase){oU.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&oU.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Gt=Doe;!function Toe(n){Ui("@firebase/app-compat","0.2.7",n)}(),Gt.registerVersion("firebase","9.19.1","app-compat");const Lh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Kc_EMAIL_SIGNIN="EMAIL_SIGNIN",Kc_PASSWORD_RESET="PASSWORD_RESET",Kc_RECOVER_EMAIL="RECOVER_EMAIL",Kc_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",Kc_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",Kc_VERIFY_EMAIL="VERIFY_EMAIL";const Roe=function koe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Noe=function aU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lU=new ja("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),cU=new Oh("@firebase/auth");function P_(n,...e){cU.logLevel<=Le.ERROR&&cU.error(`Auth (${Do}): ${n}`,...e)}function bn(n,...e){throw Mx(n,...e)}function Ln(n,...e){return Mx(n,...e)}function uU(n,e,t){const i=Object.assign(Object.assign({},Noe()),{[e]:t});return new ja("auth","Firebase",i).create(e,{appName:n.name})}function Yc(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&bn(n,"argument-error"),uU(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mx(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return lU.create(n,...e)}function R(n,e,...t){if(!n)throw Mx(e,...t)}function Qr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw P_(e),new Error(e)}function Tr(n,e){n||Qr(e)}const dU=new Map;function Hi(n){Tr(n instanceof Function,"Expected a class definition");let e=dU.get(n);return e?(Tr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,dU.set(n,e),e)}function Vh(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Ax(){return"http:"===hU()||"https:"===hU()}function hU(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Bh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Tr(t>e,"Short delay should be less than long delay!"),this.isMobile=dx()||T_()}get(){return function Foe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ax()||FB()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kx(n,e){Tr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class fU{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Voe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Boe=new Bh(3e4,6e4);function Vt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Kt(n,e,t,i){return Rx.apply(this,arguments)}function Rx(){return(Rx=m(function*(n,e,t,i,r={}){return pU(n,r,m(function*(){let s={},o={};i&&("GET"===e?o=i:s={body:JSON.stringify(i)});const a=za(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),fU.fetch()(mU(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function pU(n,e,t){return Nx.apply(this,arguments)}function Nx(){return(Nx=m(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Voe),e);try{const r=new Uoe(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Uh(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Uh(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Uh(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw Uh(n,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw uU(n,u,c);bn(n,u)}}catch(r){if(r instanceof ci)throw r;bn(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function Ls(n,e,t,i){return Ox.apply(this,arguments)}function Ox(){return(Ox=m(function*(n,e,t,i,r={}){const s=yield Kt(n,e,t,i,r);return"mfaPendingCredential"in s&&bn(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function mU(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?kx(n.config,r):`${n.config.apiScheme}://${r}`}class Uoe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ln(this.auth,"network-request-failed")),Boe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Ln(n,e,i);return r.customData._tokenResponse=t,r}function Px(){return(Px=m(function*(n,e){return Kt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Fx(){return(Fx=m(function*(n,e){return Kt(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Lx(){return(Lx=m(function*(n,e){return Kt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Hh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Vx(){return(Vx=m(function*(n,e=!1){const t=ee(n),i=yield t.getIdToken(e),r=F_(i);R(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Hh(Bx(r.auth_time)),issuedAtTime:Hh(Bx(r.iat)),expirationTime:Hh(Bx(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Bx(n){return 1e3*Number(n)}function F_(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return P_("JWT malformed, contained fewer than 3 sections"),null;try{const r=D_(t);return r?JSON.parse(r):(P_("Failed to decode base64 JWT payload"),null)}catch(r){return P_("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Vs(n,e){return Ux.apply(this,arguments)}function Ux(){return(Ux=m(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof ci&&function Woe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class Goe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield t.iteration()}),i)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class gU{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hh(this.lastLoginAt),this.creationTime=Hh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jh(n){return Hx.apply(this,arguments)}function Hx(){return Hx=m(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),r=yield Vs(n,function zoe(n,e){return Lx.apply(this,arguments)}(t,{idToken:i}));R(r?.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Qoe(n){return n.map(e=>{var{providerId:t}=e,i=aw(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(s.providerUserInfo):[],a=function Yoe(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new gU(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),Hx.apply(this,arguments)}function jx(){return(jx=m(function*(n){const e=ee(n);yield jh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function zx(){return(zx=m(function*(n,e){const t=yield pU(n,{},m(function*(){const i=za({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=mU(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fU.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class zh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(typeof e.idToken<"u","internal-error"),R(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function qoe(n){const e=F_(n);return R(e,"internal-error"),R(typeof e.exp<"u","internal-error"),R(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return m(function*(){return R(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return m(function*(){const{accessToken:r,refreshToken:s,expiresIn:o}=yield function Xoe(n,e){return zx.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(r,s,Number(o))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new zh;return i&&(R("string"==typeof i,"internal-error",{appName:e}),o.refreshToken=i),r&&(R("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),s&&(R("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zh,this.toJSON())}_performRefresh(){return Qr("not implemented")}}function So(n,e){R("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Wa{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=aw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Goe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new gU(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return m(function*(){const i=yield Vs(t,t.stsTokenManager.getToken(t.auth,e));return R(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function $oe(n){return Vx.apply(this,arguments)}(this,e)}reload(){return function Koe(n){return jx.apply(this,arguments)}(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return m(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield jh(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return m(function*(){const t=yield e.getIdToken();return yield Vs(e,function Hoe(n,e){return Px.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,a,l,c,u;const d=null!==(i=t.displayName)&&void 0!==i?i:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,_=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,x=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:O,isAnonymous:Q,providerData:G,stsTokenManager:ze}=t;R(b&&ze,e,"internal-error");const rn=zh.fromJSON(this.name,ze);R("string"==typeof b,e,"internal-error"),So(d,e.name),So(h,e.name),R("boolean"==typeof O,e,"internal-error"),R("boolean"==typeof Q,e,"internal-error"),So(f,e.name),So(p,e.name),So(g,e.name),So(_,e.name),So(v,e.name),So(x,e.name);const Qi=new Wa({uid:b,auth:e,email:h,emailVerified:O,displayName:d,isAnonymous:Q,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:rn,createdAt:v,lastLoginAt:x});return G&&Array.isArray(G)&&(Qi.providerData=G.map(Nr=>Object.assign({},Nr))),_&&(Qi._redirectEventId=_),Qi}static _fromIdTokenResponse(e,t,i=!1){return m(function*(){const r=new zh;r.updateFromServerResponse(t);const s=new Wa({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield jh(s),s})()}}const Qc=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(t,i){var r=this;return m(function*(){r.storage[t]=i})()}_get(t){var i=this;return m(function*(){const r=i.storage[t];return void 0===r?null:r})()}_remove(t){var i=this;return m(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function Ga(n,e,t){return`firebase:${n}:${e}:${t}`}class Xc{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Ga(this.userKey,r.apiKey,s),this.fullPersistenceKey=Ga("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Wa._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return m(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return m(function*(){if(!t.length)return new Xc(Hi(Qc),e,i);const r=(yield Promise.all(t.map(function(){var c=m(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=r[0]||Hi(Qc);const o=Ga(i,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=Wa._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=m(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Xc(s,e,i)):new Xc(s,e,i)})()}}function _U(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wU(e))return"Blackberry";if(CU(e))return"Webos";if($x(e))return"Safari";if((e.includes("chrome/")||vU(e))&&!e.includes("edge/"))return"Chrome";if($h(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function yU(n=yt()){return/firefox\//i.test(n)}function $x(n=yt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vU(n=yt()){return/crios\//i.test(n)}function bU(n=yt()){return/iemobile/i.test(n)}function $h(n=yt()){return/android/i.test(n)}function wU(n=yt()){return/blackberry/i.test(n)}function CU(n=yt()){return/webos/i.test(n)}function Zc(n=yt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function EU(n=yt()){return Zc(n)||$h(n)||CU(n)||wU(n)||/windows phone/i.test(n)||bU(n)}function xU(n,e=[]){let t;switch(n){case"Browser":t=_U(yt());break;case"Worker":t=`${_U(yt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Do}/${i}`}class nae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return m(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const r of t.queue)yield r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const s of i)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}class iae{constructor(e,t,i){this.app=e,this.heartbeatServiceProvider=t,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DU(this),this.idTokenSubscription=new DU(this),this.beforeStateQueue=new nae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lU,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=Hi(t)),this._initializationPromise=this.queue(m(function*(){var r,s;if(!i._deleted&&(i.persistenceManager=yield Xc.create(i,e),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(s=i.currentUser)||void 0===s?void 0:s.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return m(function*(){var i;const r=yield t.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,l=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=r,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return R(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return m(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return m(function*(){try{yield jh(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Loe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return m(function*(){const i=e?ee(e):null;return i&&R(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return m(function*(){if(!i._deleted)return e&&R(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue(m(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(m(function*(){yield t.assertedPersistence.setPersistence(Hi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ja("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return m(function*(){const r=yield i.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return m(function*(){if(!t.redirectPersistenceManager){const i=e&&Hi(e)||t._popupRedirectResolver;R(i,t,"argument-error"),t.redirectPersistenceManager=yield Xc.create(t,[Hi(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return m(function*(){var i,r;return t._isInitialized&&(yield t.queue(m(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return m(function*(){if(e===t.currentUser)return t.queue(m(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return R(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,i,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return m(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return r&&(i["X-Firebase-Client"]=r),i})()}}function wn(n){return ee(n)}class DU{constructor(e){this.auth=e,this.observer=null,this.addObserver=BB(t=>this.observer=t)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function IU(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function TU(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class Jc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,t){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}function MU(n,e){return qx.apply(this,arguments)}function qx(){return(qx=m(function*(n,e){return Kt(n,"POST","/v1/accounts:resetPassword",Vt(n,e))})).apply(this,arguments)}function AU(n,e){return Wx.apply(this,arguments)}function Wx(){return(Wx=m(function*(n,e){return Kt(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Gx(){return(Gx=m(function*(n,e){return Kt(n,"POST","/v1/accounts:update",Vt(n,e))})).apply(this,arguments)}function Kx(){return(Kx=m(function*(n,e){return Ls(n,"POST","/v1/accounts:signInWithPassword",Vt(n,e))})).apply(this,arguments)}function L_(n,e){return Yx.apply(this,arguments)}function Yx(){return(Yx=m(function*(n,e){return Kt(n,"POST","/v1/accounts:sendOobCode",Vt(n,e))})).apply(this,arguments)}function Qx(){return(Qx=m(function*(n,e){return L_(n,e)})).apply(this,arguments)}function Xx(){return(Xx=m(function*(n,e){return L_(n,e)})).apply(this,arguments)}function Zx(){return(Zx=m(function*(n,e){return L_(n,e)})).apply(this,arguments)}function Jx(){return(Jx=m(function*(n,e){return L_(n,e)})).apply(this,arguments)}function eD(){return(eD=m(function*(n,e){return Ls(n,"POST","/v1/accounts:signInWithEmailLink",Vt(n,e))})).apply(this,arguments)}function tD(){return(tD=m(function*(n,e){return Ls(n,"POST","/v1/accounts:signInWithEmailLink",Vt(n,e))})).apply(this,arguments)}class qh extends Jc{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new qh(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new qh(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return m(function*(){switch(t.signInMethod){case"password":return function aae(n,e){return Kx.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function hae(n,e){return eD.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:bn(e,"internal-error")}})()}_linkToIdToken(e,t){var i=this;return m(function*(){switch(i.signInMethod){case"password":return AU(e,{idToken:t,returnSecureToken:!0,email:i._email,password:i._password});case"emailLink":return function fae(n,e){return tD.apply(this,arguments)}(e,{idToken:t,email:i._email,oobCode:i._password});default:bn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Bs(n,e){return nD.apply(this,arguments)}function nD(){return(nD=m(function*(n,e){return Ls(n,"POST","/v1/accounts:signInWithIdp",Vt(n,e))})).apply(this,arguments)}class Xr extends Jc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):bn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,s=aw(t,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Xr(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Bs(e,this.buildRequest())}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Bs(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bs(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=za(t)}return e}}function iD(){return(iD=m(function*(n,e){return Kt(n,"POST","/v1/accounts:sendVerificationCode",Vt(n,e))})).apply(this,arguments)}function rD(){return(rD=m(function*(n,e){return Ls(n,"POST","/v1/accounts:signInWithPhoneNumber",Vt(n,e))})).apply(this,arguments)}function sD(){return(sD=m(function*(n,e){const t=yield Ls(n,"POST","/v1/accounts:signInWithPhoneNumber",Vt(n,e));if(t.temporaryProof)throw Uh(n,"account-exists-with-different-credential",t);return t})).apply(this,arguments)}const yae={USER_NOT_FOUND:"user-not-found"};function oD(){return(oD=m(function*(n,e){return Ls(n,"POST","/v1/accounts:signInWithPhoneNumber",Vt(n,Object.assign(Object.assign({},e),{operation:"REAUTH"})),yae)})).apply(this,arguments)}class Ka extends Jc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ka({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ka({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function gae(n,e){return rD.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function _ae(n,e){return sD.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function vae(n,e){return oD.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:i,phoneNumber:r,temporaryProof:s}=e;return i||t||r||s?new Ka({verificationId:t,verificationCode:i,phoneNumber:r,temporaryProof:s}):null}}class Wh{constructor(e){var t,i,r,s,o,a;const l=Gc(Nh(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(i=l.oobCode)&&void 0!==i?i:null,d=function bae(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);R(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function wae(n){const e=Gc(Nh(n)).link,t=e?Gc(Nh(e)).deep_link_id:null,i=Gc(Nh(n)).deep_link_id;return(i?Gc(Nh(i)).link:null)||i||t||e||n}(e);try{return new Wh(t)}catch{return null}}}let aD=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return qh._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=Wh.parseLink(i);return R(r,"argument-error"),qh._fromEmailAndCode(t,r.code,r.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Us{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eu extends Us{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tu extends eu{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return R("providerId"in t&&"signInMethod"in t,"argument-error"),Xr._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return R(e.idToken||e.accessToken,"argument-error"),Xr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return tu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return tu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:s,nonce:o,providerId:a}=e;if(!i&&!r&&!t&&!s||!a)return null;try{return new tu(a)._credential({idToken:t,accessToken:i,nonce:o,pendingToken:s})}catch{return null}}}let kU=(()=>{class n extends eu{constructor(){super("facebook.com")}static credential(t){return Xr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com",n})(),RU=(()=>{class n extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Xr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return n.credential(i,r)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})(),NU=(()=>{class n extends eu{constructor(){super("github.com")}static credential(t){return Xr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com",n})();class nu extends Jc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Bs(e,this.buildRequest())}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Bs(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bs(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:i,signInMethod:r,pendingToken:s}=t;return i&&r&&s&&i===r?new nu(i,s):null}static _create(e,t){return new nu(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class V_ extends Us{constructor(e){R(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return V_.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return V_.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=nu.fromJSON(e);return R(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:i}=e;if(!t||!i)return null;try{return nu._create(i,t)}catch{return null}}}let OU=(()=>{class n extends eu{constructor(){super("twitter.com")}static credential(t,i){return Xr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return n.credential(i,r)}catch{return null}}}return n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com",n})();function PU(n,e){return lD.apply(this,arguments)}function lD(){return(lD=m(function*(n,e){return Ls(n,"POST","/v1/accounts:signUp",Vt(n,e))})).apply(this,arguments)}class lr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return m(function*(){const s=yield Wa._fromIdTokenResponse(e,i,r),o=FU(i);return new lr({user:s,providerId:o,_tokenResponse:i,operationType:t})})()}static _forOperation(e,t,i){return m(function*(){yield e._updateTokensIfNecessary(i,!0);const r=FU(i);return new lr({user:e,providerId:r,_tokenResponse:i,operationType:t})})()}}function FU(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function cD(){return(cD=m(function*(n){var e;const t=wn(n);if(yield t._initializationPromise,null!==(e=t.currentUser)&&void 0!==e&&e.isAnonymous)return new lr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=yield PU(t,{returnSecureToken:!0}),r=yield lr._fromIdTokenResponse(t,"signIn",i,!0);return yield t._updateCurrentUser(r.user),r})).apply(this,arguments)}class B_ extends ci{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,B_.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new B_(e,t,i,r)}}function LU(n,e,t,i){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?B_._fromErrorAndOperation(n,s,e,i):s})}function VU(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}function uD(){return uD=m(function*(n,e){const t=ee(n);yield U_(!0,t,e);const{providerUserInfo:i}=yield function joe(n,e){return Fx.apply(this,arguments)}(t.auth,{idToken:yield t.getIdToken(),deleteProvider:[e]}),r=VU(i||[]);return t.providerData=t.providerData.filter(s=>r.has(s.providerId)),r.has("phone")||(t.phoneNumber=null),yield t.auth._persistUserIfCurrent(t),t}),uD.apply(this,arguments)}function dD(n,e){return hD.apply(this,arguments)}function hD(){return(hD=m(function*(n,e,t=!1){const i=yield Vs(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return lr._forOperation(n,"link",i)})).apply(this,arguments)}function U_(n,e,t){return fD.apply(this,arguments)}function fD(){return(fD=m(function*(n,e,t){yield jh(e);const r=!1===n?"provider-already-linked":"no-such-provider";R(VU(e.providerData).has(t)===n,e.auth,r)})).apply(this,arguments)}function BU(n,e){return pD.apply(this,arguments)}function pD(){return(pD=m(function*(n,e,t=!1){const{auth:i}=n,r="reauthenticate";try{const s=yield Vs(n,LU(i,r,e,n),t);R(s.idToken,i,"internal-error");const o=F_(s.idToken);R(o,i,"internal-error");const{sub:a}=o;return R(n.uid===a,i,"user-mismatch"),lr._forOperation(n,r,s)}catch(s){throw"auth/user-not-found"===s?.code&&bn(i,"user-mismatch"),s}})).apply(this,arguments)}function UU(n,e){return mD.apply(this,arguments)}function mD(){return(mD=m(function*(n,e,t=!1){const i="signIn",r=yield LU(n,i,e),s=yield lr._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function H_(n,e){return gD.apply(this,arguments)}function gD(){return(gD=m(function*(n,e){return UU(wn(n),e)})).apply(this,arguments)}function HU(n,e){return _D.apply(this,arguments)}function _D(){return(_D=m(function*(n,e){const t=ee(n);return yield U_(!1,t,e.providerId),dD(t,e)})).apply(this,arguments)}function jU(n,e){return yD.apply(this,arguments)}function yD(){return(yD=m(function*(n,e){return BU(ee(n),e)})).apply(this,arguments)}function vD(){return(vD=m(function*(n,e){return Ls(n,"POST","/v1/accounts:signInWithCustomToken",Vt(n,e))})).apply(this,arguments)}function bD(){return bD=m(function*(n,e){const t=wn(n),i=yield function Sae(n,e){return vD.apply(this,arguments)}(t,{token:e,returnSecureToken:!0}),r=yield lr._fromIdTokenResponse(t,"signIn",i);return yield t._updateCurrentUser(r.user),r}),bD.apply(this,arguments)}class Gh{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?wD._fromServerResponse(e,t):"totpInfo"in t?CD._fromServerResponse(e,t):bn(e,"internal-error")}}class wD extends Gh{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new wD(t)}}class CD extends Gh{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new CD(t)}}function j_(n,e,t){var i;R((null===(i=t.url)||void 0===i?void 0:i.length)>0,n,"invalid-continue-uri"),R(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(R(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(R(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function ED(){return ED=m(function*(n,e,t){const i=ee(n),r={requestType:"PASSWORD_RESET",email:e};t&&j_(i,r,t),yield function cae(n,e){return Xx.apply(this,arguments)}(i,r)}),ED.apply(this,arguments)}function xD(){return(xD=m(function*(n,e,t){yield MU(ee(n),{oobCode:e,newPassword:t})})).apply(this,arguments)}function DD(){return DD=m(function*(n,e){yield function oae(n,e){return Gx.apply(this,arguments)}(ee(n),{oobCode:e})}),DD.apply(this,arguments)}function zU(n,e){return SD.apply(this,arguments)}function SD(){return(SD=m(function*(n,e){const t=ee(n),i=yield MU(t,{oobCode:e}),r=i.requestType;switch(R(r,t,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":R(i.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":R(i.mfaInfo,t,"internal-error");default:R(i.email,t,"internal-error")}let s=null;return i.mfaInfo&&(s=Gh._fromServerResponse(wn(t),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:s},operation:r}})).apply(this,arguments)}function ID(){return(ID=m(function*(n,e){const{data:t}=yield zU(ee(n),e);return t.email})).apply(this,arguments)}function TD(){return(TD=m(function*(n,e,t){const i=wn(n),r=yield PU(i,{returnSecureToken:!0,email:e,password:t}),s=yield lr._fromIdTokenResponse(i,"signIn",r);return yield i._updateCurrentUser(s.user),s})).apply(this,arguments)}function MD(){return MD=m(function*(n,e,t){const i=ee(n),r={requestType:"EMAIL_SIGNIN",email:e};R(t.handleCodeInApp,i,"argument-error"),t&&j_(i,r,t),yield function uae(n,e){return Zx.apply(this,arguments)}(i,r)}),MD.apply(this,arguments)}function AD(){return(AD=m(function*(n,e,t){const i=ee(n),r=aD.credentialWithLink(e,t||Vh());return R(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),H_(i,r)})).apply(this,arguments)}function kD(){return(kD=m(function*(n,e){return Kt(n,"POST","/v1/accounts:createAuthUri",Vt(n,e))})).apply(this,arguments)}function RD(){return RD=m(function*(n,e){const i={identifier:e,continueUri:Ax()?Vh():"http://localhost"},{signinMethods:r}=yield function Lae(n,e){return kD.apply(this,arguments)}(ee(n),i);return r||[]}),RD.apply(this,arguments)}function ND(){return ND=m(function*(n,e){const t=ee(n),r={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&j_(t.auth,r,e);const{email:s}=yield function lae(n,e){return Qx.apply(this,arguments)}(t.auth,r);s!==n.email&&(yield n.reload())}),ND.apply(this,arguments)}function OD(){return OD=m(function*(n,e,t){const i=ee(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield n.getIdToken(),newEmail:e};t&&j_(i.auth,s,t);const{email:o}=yield function dae(n,e){return Jx.apply(this,arguments)}(i.auth,s);o!==n.email&&(yield n.reload())}),OD.apply(this,arguments)}function PD(){return(PD=m(function*(n,e){return Kt(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function FD(){return FD=m(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const i=ee(n),s={idToken:yield i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=yield Vs(i,function Hae(n,e){return PD.apply(this,arguments)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(({providerId:l})=>"password"===l);a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),yield i._updateTokensIfNecessary(o)}),FD.apply(this,arguments)}function $U(n,e,t){return LD.apply(this,arguments)}function LD(){return(LD=m(function*(n,e,t){const{auth:i}=n,s={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const o=yield Vs(n,AU(i,s));yield n._updateTokensIfNecessary(o,!0)})).apply(this,arguments)}class iu{constructor(e,t,i={}){this.isNewUser=e,this.providerId=t,this.profile=i}}class qU extends iu{constructor(e,t,i,r){super(e,t,i),this.username=r}}class Wae extends iu{constructor(e,t){super(e,"facebook.com",t)}}class Gae extends qU{constructor(e,t){super(e,"github.com",t,"string"==typeof t?.login?t?.login:null)}}class Kae extends iu{constructor(e,t){super(e,"google.com",t)}}class Yae extends qU{constructor(e,t,i){super(e,"twitter.com",t,i)}}function Qae(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:function qae(n){var e,t;if(!n)return null;const{providerId:i}=n,r=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||"identitytoolkit#SignupNewUserResponse"===n.kind;if(!i&&n?.idToken){const o=null===(t=null===(e=F_(n.idToken))||void 0===e?void 0:e.firebase)||void 0===t?void 0:t.sign_in_provider;if(o)return new iu(s,"anonymous"!==o&&"custom"!==o?o:null)}if(!i)return null;switch(i){case"facebook.com":return new Wae(s,r);case"github.com":return new Gae(s,r);case"google.com":return new Kae(s,r);case"twitter.com":return new Yae(s,r,n.screenName||null);case"custom":case"anonymous":return new iu(s,null);default:return new iu(s,i,r)}}(t)}class Ya{constructor(e,t,i){this.type=e,this.credential=t,this.auth=i}static _fromIdtoken(e,t){return new Ya("enroll",e,t)}static _fromMfaPendingCredential(e){return new Ya("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,i;if(e?.multiFactorSession){if(null!==(t=e.multiFactorSession)&&void 0!==t&&t.pendingCredential)return Ya._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null!==(i=e.multiFactorSession)&&void 0!==i&&i.idToken)return Ya._fromIdtoken(e.multiFactorSession.idToken)}return null}}class BD{constructor(e,t,i){this.session=e,this.hints=t,this.signInResolver=i}static _fromError(e,t){const i=wn(e),r=t.customData._serverResponse,s=(r.mfaInfo||[]).map(a=>Gh._fromServerResponse(i,a));R(r.mfaPendingCredential,i,"internal-error");const o=Ya._fromMfaPendingCredential(r.mfaPendingCredential);return new BD(o,s,function(){var a=m(function*(l){const c=yield l._process(i,o);delete r.mfaInfo,delete r.mfaPendingCredential;const u=Object.assign(Object.assign({},r),{idToken:c.idToken,refreshToken:c.refreshToken});switch(t.operationType){case"signIn":const d=yield lr._fromIdTokenResponse(i,t.operationType,u);return yield i._updateCurrentUser(d.user),d;case"reauthenticate":return R(t.user,i,"internal-error"),lr._forOperation(t.user,t.operationType,u);default:bn(i,"internal-error")}});return function(l){return a.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return m(function*(){return t.signInResolver(e)})()}}class UD{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(i=>Gh._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new UD(e)}getSession(){var e=this;return m(function*(){return Ya._fromIdtoken(yield e.user.getIdToken(),e.user.auth)})()}enroll(e,t){var i=this;return m(function*(){const r=e,s=yield i.getSession(),o=yield Vs(i.user,r._process(i.user.auth,s,t));return yield i.user._updateTokensIfNecessary(o),i.user.reload()})()}unenroll(e){var t=this;return m(function*(){const i="string"==typeof e?e:e.uid,r=yield t.user.getIdToken();try{const s=yield Vs(t.user,function ile(n,e){return Kt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Vt(n,e))}(t.user.auth,{idToken:r,mfaEnrollmentId:i}));t.enrolledFactors=t.enrolledFactors.filter(({uid:o})=>o!==i),yield t.user._updateTokensIfNecessary(s),yield t.user.reload()}catch(s){throw s}})()}}const HD=new WeakMap,z_="__sak";class WU{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(z_,"1"),this.storage.removeItem(z_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const $_=(()=>{class n extends WU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function sle(){const n=yt();return $x(n)||Zc(n)}()&&function tae(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=EU(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),s=this.localCache[i];r!==s&&t(i,s,r)}}onStorageEvent(t,i=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}const s=()=>{const a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);!function eae(){return LB()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,i){var r=()=>super._set,s=this;return m(function*(){yield r().call(s,t,i),s.localCache[t]=JSON.stringify(i)})()}_get(t){var i=()=>super._get,r=this;return m(function*(){const s=yield i().call(r,t);return r.localCache[t]=JSON.stringify(s),s})()}_remove(t){var i=()=>super._remove,r=this;return m(function*(){yield i().call(r,t),delete r.localCache[t]})()}}return n.type="LOCAL",n})(),Io=(()=>{class n extends WU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})();let cle=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(s=>s.isListeningto(t));if(i)return i;const r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){var i=this;return m(function*(){const r=t,{eventId:s,eventType:o,data:a}=r.data,l=i.handlersMap[o];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=m(function*(h){return h(r.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function lle(n){return Promise.all(n.map(function(){var e=m(function*(t){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}});return function(t){return e.apply(this,arguments)}}()))}(c);r.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Kh(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(10*Math.random());return n+t}class ule{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){var r=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=Kh("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},r.handlers.add(a),s.port1.addEventListener("message",a.onMessage),r.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&r.removeMessageHandler(a)})})()}}function un(){return window}function jD(){return typeof un().WorkerGlobalScope<"u"&&"function"==typeof un().importScripts}function zD(){return(zD=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const GU="firebaseLocalStorageDb",mle=1,q_="firebaseLocalStorage",KU="fbase_key";class Yh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function W_(n,e){return n.transaction([q_],e?"readwrite":"readonly").objectStore(q_)}function $D(){const n=indexedDB.open(GU,mle);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(q_,{keyPath:KU})}catch(r){t(r)}}),n.addEventListener("success",m(function*(){const i=n.result;i.objectStoreNames.contains(q_)?e(i):(i.close(),yield function gle(){const n=indexedDB.deleteDatabase(GU);return new Yh(n).toPromise()}(),e(yield $D()))}))})}function YU(n,e,t){return qD.apply(this,arguments)}function qD(){return(qD=m(function*(n,e,t){const i=W_(n,!0).put({[KU]:e,value:t});return new Yh(i).toPromise()})).apply(this,arguments)}function WD(){return(WD=m(function*(n,e){const t=W_(n,!1).get(e),i=yield new Yh(t).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function QU(n,e){const t=W_(n,!0).delete(e);return new Yh(t).toPromise()}const ru=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return m(function*(){return t.db||(t.db=yield $D()),t.db})()}_withRetries(t){var i=this;return m(function*(){let r=0;for(;;)try{const s=yield i._openDb();return yield t(s)}catch(s){if(r++>3)throw s;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return m(function*(){return jD()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return m(function*(){t.receiver=cle._getInstance(function ple(){return jD()?self:null}()),t.receiver._subscribe("keyChanged",function(){var i=m(function*(r,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(r,s){return i.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var i=m(function*(r,s){return["keyChanged"]});return function(r,s){return i.apply(this,arguments)}}())})()}initializeSender(){var t=this;return m(function*(){var i,r;if(t.activeServiceWorker=yield function hle(){return zD.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new ule(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(i=s[0])&&void 0!==i&&i.fulfilled&&null!==(r=s[0])&&void 0!==r&&r.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var i=this;return m(function*(){if(i.sender&&i.activeServiceWorker&&function fle(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:t},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const t=yield $D();return yield YU(t,z_,"1"),yield QU(t,z_),!0}catch{}return!1})()}_withPendingWrite(t){var i=this;return m(function*(){i.pendingWrites++;try{yield t()}finally{i.pendingWrites--}})()}_set(t,i){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(s=>YU(s,t,i)),r.localCache[t]=i,r.notifyServiceWorker(t)}))})()}_get(t){var i=this;return m(function*(){const r=yield i._withRetries(s=>function _le(n,e){return WD.apply(this,arguments)}(s,t));return i.localCache[t]=r,r})()}_remove(t){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(r=>QU(r,t)),delete i.localCache[t],i.notifyServiceWorker(t)}))})()}_poll(){var t=this;return m(function*(){const i=yield t._withRetries(o=>{const a=W_(o,!1).getAll();return new Yh(a).toPromise()});if(!i)return[];if(0!==t.pendingWrites)return[];const r=[],s=new Set;for(const{fbase_key:o,value:a}of i)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),r.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),r.push(o));return r})()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(i)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function GD(){return(GD=m(function*(n){return(yield Kt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function XU(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=Ln("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",function xle(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})}function ZU(n){return`__${n}${Math.floor(1e6*Math.random())}`}const G_=1e12;class Ile{constructor(e){this.auth=e,this.counter=G_,this._widgets=new Map}render(e,t){const i=this.counter;return this._widgets.set(i,new Tle(e,this.auth.name,t||{})),this.counter++,i}reset(e){var t;const i=e||G_;null===(t=this._widgets.get(i))||void 0===t||t.delete(),this._widgets.delete(i)}getResponse(e){var t;return(null===(t=this._widgets.get(e||G_))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return m(function*(){var i;return null===(i=t._widgets.get(e||G_))||void 0===i||i.execute(),""})()}}class Tle{constructor(e,t,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;R(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Mle(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<n;i++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const KD=ZU("rcb"),Ale=new Bh(3e4,6e4);class Rle{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(e=un().grecaptcha)||void 0===e||!e.render)}load(e,t=""){return R(function Nle(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(un().grecaptcha):new Promise((i,r)=>{const s=un().setTimeout(()=>{r(Ln(e,"network-request-failed"))},Ale.get());un()[KD]=()=>{un().clearTimeout(s),delete un()[KD];const a=un().grecaptcha;if(!a)return void r(Ln(e,"internal-error"));const l=a.render;a.render=(c,u)=>{const d=l(c,u);return this.counter++,d},this.hostLanguage=t,i(a)},XU(`https://www.google.com/recaptcha/api.js??${za({onload:KD,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(s),r(Ln(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!(null===(t=un().grecaptcha)||void 0===t||!t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ole{load(e){return m(function*(){return new Ile(e)})()}clearedOneInstance(){}}const JU="recaptcha",Ple={theme:"light",type:"image"};class Fle{constructor(e,t=Object.assign({},Ple),i){this.parameters=t,this.type=JU,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wn(i),this.isInvisible="invisible"===this.parameters.size,R(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;R(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ole:new Rle,this.validateStartingState()}verify(){var e=this;return m(function*(){e.assertNotDestroyed();const t=yield e.render(),i=e.getAssertedRecaptcha();return i.getResponse(t)||new Promise(s=>{const o=a=>{a&&(e.tokenChangeListeners.delete(o),s(a))};e.tokenChangeListeners.add(o),e.isInvisible&&i.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){R(!this.parameters.sitekey,this.auth,"argument-error"),R(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),R(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(i=>i(t)),"function"==typeof e)e(t);else if("string"==typeof e){const i=un()[e];"function"==typeof i&&i(t)}}}assertNotDestroyed(){R(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return m(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const i=document.createElement("div");t.appendChild(i),t=i}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return m(function*(){R(Ax()&&!jD(),e.auth,"internal-error"),yield function Lle(){let n=null;return new Promise(e=>{"complete"!==document.readyState?(n=()=>e(),window.addEventListener("load",n)):e()}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function Ele(n){return GD.apply(this,arguments)}(e.auth);R(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return R(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class YD{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ka._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function QD(){return(QD=m(function*(n,e,t){const i=wn(n),r=yield K_(i,e,ee(t));return new YD(r,s=>H_(i,s))})).apply(this,arguments)}function XD(){return(XD=m(function*(n,e,t){const i=ee(n);yield U_(!1,i,"phone");const r=yield K_(i.auth,e,ee(t));return new YD(r,s=>HU(i,s))})).apply(this,arguments)}function ZD(){return(ZD=m(function*(n,e,t){const i=ee(n),r=yield K_(i.auth,e,ee(t));return new YD(r,s=>jU(i,s))})).apply(this,arguments)}function K_(n,e,t){return JD.apply(this,arguments)}function JD(){return JD=m(function*(n,e,t){var i;const r=yield t.verify();try{let s;if(R("string"==typeof r,n,"argument-error"),R(t.type===JU,n,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const o=s.session;if("phoneNumber"in s)return R("enroll"===o.type,n,"internal-error"),(yield function ele(n,e){return Kt(n,"POST","/v2/accounts/mfaEnrollment:start",Vt(n,e))}(n,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{R("signin"===o.type,n,"internal-error");const a=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;return R(a,n,"missing-multi-factor-info"),(yield function ble(n,e){return Kt(n,"POST","/v2/accounts/mfaSignIn:start",Vt(n,e))}(n,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:o}=yield function mae(n,e){return iD.apply(this,arguments)}(n,{phoneNumber:s.phoneNumber,recaptchaToken:r});return o}}finally{t._reset()}}),JD.apply(this,arguments)}function eS(){return(eS=m(function*(n,e){yield dD(ee(n),e)})).apply(this,arguments)}let Qh=(()=>{class n{constructor(t){this.providerId=n.PROVIDER_ID,this.auth=wn(t)}verifyPhoneNumber(t,i){return K_(this.auth,t,ee(i))}static credential(t,i){return Ka._fromVerification(t,i)}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:i,temporaryProof:r}=t;return i&&r?Ka._fromTokenResponse(i,r):null}}return n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone",n})();function Qa(n,e){return e?Hi(e):(R(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class tS extends Jc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jle(n){return UU(n.auth,new tS(n),n.bypassAuthState)}function zle(n){const{auth:e,user:t}=n;return R(t,e,"internal-error"),BU(t,new tS(n),n.bypassAuthState)}function $le(n){return nS.apply(this,arguments)}function nS(){return(nS=m(function*(n){const{auth:e,user:t}=n;return R(t,e,"internal-error"),dD(t,new tS(n),n.bypassAuthState)})).apply(this,arguments)}class eH{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=m(function*(i,r){e.pendingPromise={resolve:i,reject:r};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(i,r){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return m(function*(){const{urlResponse:i,sessionId:r,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:i,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jle;case"linkViaPopup":case"linkViaRedirect":return $le;case"reauthViaPopup":case"reauthViaRedirect":return zle;default:bn(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qle=new Bh(2e3,1e4);function iS(){return(iS=m(function*(n,e,t){const i=wn(n);Yc(n,e,Us);const r=Qa(i,t);return new oS(i,"signInViaPopup",e,r).executeNotNull()})).apply(this,arguments)}function rS(){return(rS=m(function*(n,e,t){const i=ee(n);Yc(i.auth,e,Us);const r=Qa(i.auth,t);return new oS(i.auth,"reauthViaPopup",e,r,i).executeNotNull()})).apply(this,arguments)}function sS(){return(sS=m(function*(n,e,t){const i=ee(n);Yc(i.auth,e,Us);const r=Qa(i.auth,t);return new oS(i.auth,"linkViaPopup",e,r,i).executeNotNull()})).apply(this,arguments)}let oS=(()=>{class n extends eH{constructor(t,i,r,s,o){super(t,i,s,o),this.provider=r,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return m(function*(){const i=yield t.execute();return R(i,t.auth,"internal-error"),i})()}onExecution(){var t=this;return m(function*(){Tr(1===t.filter.length,"Popup operations only handle one event");const i=Kh();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],i),t.authWindow.associatedEvent=i,t.resolver._originValidation(t.auth).catch(r=>{t.reject(r)}),t.resolver._isIframeWebStorageSupported(t.auth,r=>{r||t.reject(Ln(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,r;this.pollId=null!==(r=null===(i=this.authWindow)||void 0===i?void 0:i.window)&&void 0!==r&&r.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(t,qle.get())};t()}}return n.currentPopupAction=null,n})();const Yle="pendingRedirect",Xh=new Map;class Qle extends eH{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,t=this;return m(function*(){let i=Xh.get(t.auth._key());if(!i){try{const s=(yield function Xle(n,e){return aS.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;i=()=>Promise.resolve(s)}catch(r){i=()=>Promise.reject(r)}Xh.set(t.auth._key(),i)}return t.bypassAuthState||Xh.set(t.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,i=this;return m(function*(){if("signInViaRedirect"===e.type)return t().call(i,e);if("unknown"!==e.type){if(e.eventId){const r=yield i.auth._redirectUserForId(e.eventId);if(r)return i.user=r,t().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function aS(){return(aS=m(function*(n,e){const t=nH(e),i=tH(n);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(t));return yield i._remove(t),r})).apply(this,arguments)}function lS(n,e){return cS.apply(this,arguments)}function cS(){return(cS=m(function*(n,e){return tH(n)._set(nH(e),"true")})).apply(this,arguments)}function uS(n,e){Xh.set(n._key(),e)}function tH(n){return Hi(n._redirectPersistence)}function nH(n){return Ga(Yle,n.config.apiKey,n.name)}function Jle(n,e,t){return function ece(n,e,t){return dS.apply(this,arguments)}(n,e,t)}function dS(){return(dS=m(function*(n,e,t){const i=wn(n);Yc(n,e,Us),yield i._initializationPromise;const r=Qa(i,t);return yield lS(r,i),r._openRedirect(i,e,"signInViaRedirect")})).apply(this,arguments)}function tce(n,e,t){return function nce(n,e,t){return hS.apply(this,arguments)}(n,e,t)}function hS(){return(hS=m(function*(n,e,t){const i=ee(n);Yc(i.auth,e,Us),yield i.auth._initializationPromise;const r=Qa(i.auth,t);yield lS(r,i.auth);const s=yield iH(i);return r._openRedirect(i.auth,e,"reauthViaRedirect",s)})).apply(this,arguments)}function ice(n,e,t){return function rce(n,e,t){return fS.apply(this,arguments)}(n,e,t)}function fS(){return(fS=m(function*(n,e,t){const i=ee(n);Yc(i.auth,e,Us),yield i.auth._initializationPromise;const r=Qa(i.auth,t);yield U_(!1,i,e.providerId),yield lS(r,i.auth);const s=yield iH(i);return r._openRedirect(i.auth,e,"linkViaRedirect",s)})).apply(this,arguments)}function pS(){return(pS=m(function*(n,e){return yield wn(n)._initializationPromise,Y_(n,e,!1)})).apply(this,arguments)}function Y_(n,e){return mS.apply(this,arguments)}function mS(){return(mS=m(function*(n,e,t=!1){const i=wn(n),r=Qa(i,e),o=yield new Qle(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})).apply(this,arguments)}function iH(n){return gS.apply(this,arguments)}function gS(){return(gS=m(function*(n){const e=Kh(`${n.uid}:::`);return n._redirectEventId=e,yield n.auth._setRedirectUser(n),yield n.auth._persistUserIfCurrent(n),e})).apply(this,arguments)}class rH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function ace(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oH(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!oH(e)){const r=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ln(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sH(e))}saveEventToCache(e){this.cachedEventUids.add(sH(e)),this.lastProcessedEventTime=Date.now()}}function sH(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function oH({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function aH(n){return _S.apply(this,arguments)}function _S(){return(_S=m(function*(n,e={}){return Kt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const lce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cce=/^https?/;function yS(){return(yS=m(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield aH(n);for(const t of e)try{if(dce(t))return}catch{}bn(n,"unauthorized-domain")})).apply(this,arguments)}function dce(n){const e=Vh(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===i?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===i}if(!cce.test(t))return!1;if(lce.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const hce=new Bh(3e4,6e4);function lH(){const n=un().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Q_=null;const mce=new Bh(5e3,15e3),gce="__/auth/iframe",_ce="emulator/auth/iframe",yce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bce(n){const e=n.config;R(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?kx(e,_ce):`https://${n.config.authDomain}/${gce}`,i={apiKey:e.apiKey,appName:n.name,v:Do},r=vce.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${za(i).slice(1)}`}function vS(){return vS=m(function*(n){const e=yield function pce(n){return Q_=Q_||function fce(n){return new Promise((e,t)=>{var i,r,s;function o(){lH(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lH(),t(Ln(n,"network-request-failed"))},timeout:hce.get()})}if(null!==(r=null===(i=un().gapi)||void 0===i?void 0:i.iframes)&&void 0!==r&&r.Iframe)e(gapi.iframes.getContext());else{if(null===(s=un().gapi)||void 0===s||!s.load){const a=ZU("iframefcb");return un()[a]=()=>{gapi.load?o():t(Ln(n,"network-request-failed"))},XU(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw Q_=null,e})}(n),Q_}(n),t=un().gapi;return R(t,n,"internal-error"),e.open({where:document.body,url:bce(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yce,dontclear:!0},i=>new Promise(function(){var r=m(function*(s,o){yield i.restyle({setHideOnLeave:!1});const a=Ln(n,"network-request-failed"),l=un().setTimeout(()=>{o(a)},mce.get());function c(){un().clearTimeout(l),s(i)}i.ping(c).then(c,()=>{o(a)})});return function(s,o){return r.apply(this,arguments)}}()))}),vS.apply(this,arguments)}const Cce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ece=500,xce=600,Dce="_blank",Sce="http://localhost";class cH{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Mce="__/auth/handler",Ace="emulator/auth/handler";function bS(n,e,t,i,r,s){R(n.config.authDomain,n,"auth-domain-config-required"),R(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Do,eventId:r};if(e instanceof Us){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",fx(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(e instanceof eu){const l=e.getScopes().filter(c=>""!==c);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function kce({config:n}){return n.emulator?kx(n,Ace):`https://${n.authDomain}/${Mce}`}(n)}?${za(a).slice(1)}`}const wS="webStorageSupport",uH=class Rce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Io,this._completeRedirectFn=Y_,this._overrideRedirectResult=uS}_openPopup(e,t,i,r){var s=this;return m(function*(){var o;Tr(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=bS(e,t,i,Vh(),r);return function Ice(n,e,t,i=Ece,r=xce){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Cce),{width:i.toString(),height:r.toString(),top:s,left:o}),c=yt().toLowerCase();t&&(a=vU(c)?Dce:t),yU(c)&&(e=e||Sce,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Joe(n=yt()){var e;return Zc(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Tce(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}(e||"",a),new cH(null);const d=window.open(e||"",a,u);R(d,n,"popup-blocked");try{d.focus()}catch{}return new cH(d)}(e,a,Kh())})()}_openRedirect(e,t,i,r){var s=this;return m(function*(){return yield s._originValidation(e),function dle(n){un().location.href=n}(bS(e,t,i,Vh(),r)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(Tr(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){var t=this;return m(function*(){const i=yield function wce(n){return vS.apply(this,arguments)}(e),r=new rH(e);return i.register("authEvent",s=>(R(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=i,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wS,{type:wS},r=>{var s;const o=null===(s=r?.[0])||void 0===s?void 0:s[wS];void 0!==o&&t(!!o),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function uce(n){return yS.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return EU()||$x()||Zc()}};class Nce{constructor(e){this.factorId=e}_process(e,t,i){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,i);case"signin":return this._finalizeSignIn(e,t.credential);default:return Qr("unexpected MultiFactorSessionType")}}}class CS extends Nce{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new CS(e)}_finalizeEnroll(e,t,i){return function tle(n,e){return Kt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Vt(n,e))}(e,{idToken:t,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function wle(n,e){return Kt(n,"POST","/v2/accounts/mfaSignIn:finalize",Vt(n,e))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Oce=(()=>{class n{constructor(){}static assertion(t){return CS._fromCredential(t)}}return n.FACTOR_ID="phone",n})();var hH="@firebase/auth";class Pce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return m(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Xa(){return window}S_(),function Lce(n){Ps(new Ir("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=i.options;return((a,l)=>{R(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),R(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xU(n)},u=new iae(a,l,c);return function Poe(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Hi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(u,t),u})(i,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ps(new Ir("auth-internal",e=>{const t=wn(e.getProvider("auth").getImmediate());return new Pce(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ui(hH,"0.22.0",function Fce(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Ui(hH,"0.22.0","esm2017")}("Browser");const Hce=2e3;function xS(){return xS=m(function*(n,e,t){var i;const{BuildInfo:r}=Xa();Tr(e.sessionId,"AuthEvent did not contain a session ID");const s=yield function Gce(n){return IS.apply(this,arguments)}(e.sessionId),o={};return Zc()?o.ibi=r.packageName:$h()?o.apn=r.packageName:bn(n,"operation-not-supported-in-this-environment"),r.displayName&&(o.appDisplayName=r.displayName),o.sessionId=s,bS(n,t,e.type,void 0,null!==(i=e.eventId)&&void 0!==i?i:void 0,o)}),xS.apply(this,arguments)}function DS(){return DS=m(function*(n){const{BuildInfo:e}=Xa(),t={};Zc()?t.iosBundleId=e.packageName:$h()?t.androidPackageName=e.packageName:bn(n,"operation-not-supported-in-this-environment"),yield aH(n,t)}),DS.apply(this,arguments)}function SS(){return SS=m(function*(n,e,t){const{cordova:i}=Xa();let r=()=>{};try{yield new Promise((s,o)=>{let a=null;function l(){var d;s();const h=null===(d=i.plugins.browsertab)||void 0===d?void 0:d.close;"function"==typeof h&&h(),"function"==typeof t?.close&&t.close()}function c(){a||(a=window.setTimeout(()=>{o(Ln(n,"redirect-cancelled-by-user"))},Hce))}function u(){"visible"===document?.visibilityState&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),$h()&&document.addEventListener("visibilitychange",u,!1),r=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{r()}}),SS.apply(this,arguments)}function IS(){return IS=m(function*(n){const e=function Kce(n){if(Tr(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let i=0;i<n.length;i++)t[i]=n.charCodeAt(i);return t}(n),t=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(r=>r.toString(16).padStart(2,"0")).join("")}),IS.apply(this,arguments)}const Yce=20;class Qce extends rH{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return m(function*(){yield e.initPromise})()}}function mH(n){return TS.apply(this,arguments)}function TS(){return TS=m(function*(n){const e=yield MS()._get(AS(n));return e&&(yield MS()._remove(AS(n))),e}),TS.apply(this,arguments)}function eue(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<Yce;t++){const i=Math.floor(Math.random()*e.length);n.push(e.charAt(i))}return n.join("")}function MS(){return Hi($_)}function AS(n){return Ga("authEvent",n.config.apiKey,n.name)}function Z_(n){if(!n?.includes("?"))return{};const[e,...t]=n.split("?");return Gc(t.join("?"))}const sue=class rue{constructor(){this._redirectPersistence=Io,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Y_,this._overrideRedirectResult=uS}_initialize(e){var t=this;return m(function*(){const i=e._key();let r=t.eventManagers.get(i);return r||(r=new Qce(e),t.eventManagers.set(i,r),t.attachCallbackListeners(e,r)),r})()}_openPopup(e){bn(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,i,r){var s=this;return m(function*(){!function Wce(n){var e,t,i,r,s,o,a,l,c,u;const d=Xa();R("function"==typeof(null===(e=d?.universalLinks)||void 0===e?void 0:e.subscribe),n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),R(typeof(null===(t=d?.BuildInfo)||void 0===t?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),R("function"==typeof(null===(s=null===(r=null===(i=d?.cordova)||void 0===i?void 0:i.plugins)||void 0===r?void 0:r.browsertab)||void 0===s?void 0:s.openUrl),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),R("function"==typeof(null===(l=null===(a=null===(o=d?.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),R("function"==typeof(null===(u=null===(c=d?.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const o=yield s._initialize(e);yield o.initialized(),o.resetRedirect(),function Zle(){Xh.clear()}(),yield s._originValidation(e);const a=function Xce(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:eue(),postBody:null,tenantId:n.tenantId,error:Ln(n,"no-auth-event")}}(e,i,r);yield function Zce(n,e){return MS()._set(AS(n),e)}(e,a);const l=yield function jce(n,e,t){return xS.apply(this,arguments)}(e,a,t),c=yield function $ce(n){const{cordova:e}=Xa();return new Promise(t=>{e.plugins.browsertab.isAvailable(i=>{let r=null;i?e.plugins.browsertab.openUrl(n):r=e.InAppBrowser.open(n,function Zoe(n=yt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}()?"_blank":"_system","location=yes"),t(r)})})}(l);return function qce(n,e,t){return SS.apply(this,arguments)}(e,o,c)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function zce(n){return DS.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:i,handleOpenURL:r,BuildInfo:s}=Xa(),o=setTimeout(m(function*(){yield mH(e),t.onEvent(gH())}),500),a=function(){var u=m(function*(d){clearTimeout(o);const h=yield mH(e);let f=null;h&&d?.url&&(f=function Jce(n,e){var t,i;const r=function nue(n){const e=Z_(n),t=e.link?decodeURIComponent(e.link):void 0,i=Z_(t).link,r=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Z_(r).link||r||i||t||n}(e);if(r.includes("/__/auth/callback")){const s=Z_(r),o=s.firebaseError?function tue(n){try{return JSON.parse(n)}catch{return null}}(decodeURIComponent(s.firebaseError)):null,a=null===(i=null===(t=o?.code)||void 0===t?void 0:t.split("auth/"))||void 0===i?void 0:i[1],l=a?Ln(a):null;return l?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:r,postBody:null}}return null}(h,d.url)),t.onEvent(f||gH())});return function(h){return u.apply(this,arguments)}}();typeof i<"u"&&"function"==typeof i.subscribe&&i.subscribe(null,a);const l=r,c=`${s.packageName.toLowerCase()}://`;Xa().handleOpenURL=function(){var u=m(function*(d){if(d.toLowerCase().startsWith(c)&&a({url:d}),"function"==typeof l)try{l(d)}catch(h){console.error(h)}});return function(d){return u.apply(this,arguments)}}()}};function gH(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ln("no-auth-event")}}const cue=1e3;function Zh(){var n;return(null===(n=self?.location)||void 0===n?void 0:n.protocol)||null}function _H(n=yt()){return!("file:"!==Zh()&&"ionic:"!==Zh()&&"capacitor:"!==Zh()||!n.toLowerCase().match(/iphone|ipad|ipod|android/))}function yH(){try{const n=self.localStorage,e=Kh();if(n)return n.setItem(e,"1"),n.removeItem(e),!function pue(n=yt()){return function hue(){return LB()&&11===document?.documentMode}()||function fue(n=yt()){return/Edge\/\d+/.test(n)}(n)}()||kh()}catch{return kS()&&kh()}return!1}function kS(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function RS(){return(function uue(){return"http:"===Zh()||"https:"===Zh()}()||FB()||_H())&&!function due(){return T_()||hx()}()&&yH()&&!kS()}function vH(){return _H()&&typeof document<"u"}function NS(){return NS=m(function*(){return!!vH()&&new Promise(n=>{const e=setTimeout(()=>{n(!1)},cue);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})})}),NS.apply(this,arguments)}const ji={LOCAL:"local",NONE:"none",SESSION:"session"},Jh=R,bH="persistence";function OS(n){return PS.apply(this,arguments)}function PS(){return PS=m(function*(n){yield n._initializationPromise;const e=wH(),t=Ga(bH,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}),PS.apply(this,arguments)}function wH(){var n;try{return(null===(n=function gue(){return typeof window<"u"?window:null}())||void 0===n?void 0:n.sessionStorage)||null}catch{return null}}const vue=R;class To{constructor(){this.browserResolver=Hi(uH),this.cordovaResolver=Hi(sue),this.underlyingResolver=null,this._redirectPersistence=Io,this._completeRedirectFn=Y_,this._overrideRedirectResult=uS}_initialize(e){var t=this;return m(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,i,r){var s=this;return m(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,i,r)})()}_openRedirect(e,t,i,r){var s=this;return m(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,i,r)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return vH()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return vue(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return m(function*(){if(e.underlyingResolver)return;const t=yield function mue(){return NS.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function CH(n){return n.unwrap()}function wue(n){return EH(n)}function EH(n){const{_tokenResponse:e}=n instanceof ci?n.customData:n;if(!e)return null;if(!(n instanceof ci)&&"temporaryProof"in e&&"phoneNumber"in e)return Qh.credentialFromResult(n);const t=e.providerId;if(!t||t===Lh.PASSWORD)return null;let i;switch(t){case Lh.GOOGLE:i=RU;break;case Lh.FACEBOOK:i=kU;break;case Lh.GITHUB:i=NU;break;case Lh.TWITTER:i=OU;break;default:const{oauthIdToken:r,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return s||o||r||a?a?t.startsWith("saml.")?nu._create(t,a):Xr._fromParams({providerId:t,signInMethod:t,pendingToken:a,idToken:r,accessToken:s}):new tu(t).credential({idToken:r,accessToken:s,rawNonce:l}):null}return n instanceof ci?i.credentialFromError(n):i.credentialFromResult(n)}function Ei(n,e){return e.catch(t=>{throw t instanceof ci&&function Cue(n,e){var t;const i=null===(t=e.customData)||void 0===t?void 0:t._tokenResponse;if("auth/multi-factor-auth-required"===e?.code)e.resolver=new Eue(n,function Jae(n,e){var t;const i=ee(n),r=e;return R(e.customData.operationType,i,"argument-error"),R(null===(t=r.customData._serverResponse)||void 0===t?void 0:t.mfaPendingCredential,i,"argument-error"),BD._fromError(i,r)}(n,e));else if(i){const r=EH(e),s=e;r&&(s.credential=r,s.tenantId=i.tenantId||void 0,s.email=i.email||void 0,s.phoneNumber=i.phoneNumber||void 0)}}(n,t),t}).then(t=>{const r=t.user;return{operationType:t.operationType,credential:wue(t),additionalUserInfo:Qae(t),user:Hs.getOrCreate(r)}})}function FS(n,e){return LS.apply(this,arguments)}function LS(){return LS=m(function*(n,e){const t=yield e;return{verificationId:t.verificationId,confirm:i=>Ei(n,t.confirm(i))}}),LS.apply(this,arguments)}class Eue{constructor(e,t){this.resolver=t,this.auth=function bue(n){return n.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Ei(CH(this.auth),this.resolver.resolveSignIn(e))}}class Hs{constructor(e){this._delegate=e,this.multiFactor=function rle(n){const e=ee(n);return HD.has(e)||HD.set(e,UD._fromUser(e)),HD.get(e)}(e)}static getOrCreate(e){return Hs.USER_MAP.has(e)||Hs.USER_MAP.set(e,new Hs(e)),Hs.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return m(function*(){return Ei(t.auth,HU(t._delegate,e))})()}linkWithPhoneNumber(e,t){var i=this;return m(function*(){return FS(i.auth,function Ble(n,e,t){return XD.apply(this,arguments)}(i._delegate,e,t))})()}linkWithPopup(e){var t=this;return m(function*(){return Ei(t.auth,function Kle(n,e,t){return sS.apply(this,arguments)}(t._delegate,e,To))})()}linkWithRedirect(e){var t=this;return m(function*(){return yield OS(wn(t.auth)),ice(t._delegate,e,To)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return m(function*(){return Ei(t.auth,jU(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return FS(this.auth,function Ule(n,e,t){return ZD.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return Ei(this.auth,function Gle(n,e,t){return rS.apply(this,arguments)}(this._delegate,e,To))}reauthenticateWithRedirect(e){var t=this;return m(function*(){return yield OS(wn(t.auth)),tce(t._delegate,e,To)})()}sendEmailVerification(e){return function Bae(n,e){return ND.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return m(function*(){return yield function Dae(n,e){return uD.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function zae(n,e){return $U(ee(n),e,null)}(this._delegate,e)}updatePassword(e){return function $ae(n,e){return $U(ee(n),null,e)}(this._delegate,e)}updatePhoneNumber(e){return function Hle(n,e){return eS.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function jae(n,e){return FD.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function Uae(n,e,t){return OD.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Hs.USER_MAP=new WeakMap;const ef=R;let xH=(()=>{class n{constructor(t,i){if(this.app=t,i.isInitialized())return this._delegate=i.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:r}=t.options;ef(r,"invalid-api-key",{appName:t.name}),ef(r,"invalid-api-key",{appName:t.name});const s=typeof window<"u"?To:void 0;this._delegate=i.initialize({options:{persistence:xue(r,t.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(Roe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Hs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,i){!function SU(n,e,t){const i=wn(n);R(i._canInitEmulator,i,"emulator-config-failed"),R(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!t?.disableWarnings,s=IU(e),{host:o,port:a}=function rae(n){const e=IU(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:TU(i.substr(s.length+1))}}{const[s,o]=i.split(":");return{host:s,port:TU(o)}}}(e);i.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function sae(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(this._delegate,t,i)}applyActionCode(t){return function Aae(n,e){return DD.apply(this,arguments)}(this._delegate,t)}checkActionCode(t){return zU(this._delegate,t)}confirmPasswordReset(t,i){return function Mae(n,e,t){return xD.apply(this,arguments)}(this._delegate,t,i)}createUserWithEmailAndPassword(t,i){var r=this;return m(function*(){return Ei(r._delegate,function Rae(n,e,t){return TD.apply(this,arguments)}(r._delegate,t,i))})()}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return function Vae(n,e){return RD.apply(this,arguments)}(this._delegate,t)}isSignInWithEmailLink(t){return function Pae(n,e){return"EMAIL_SIGNIN"===Wh.parseLink(e)?.operation}(0,t)}getRedirectResult(){var t=this;return m(function*(){ef(RS(),t._delegate,"operation-not-supported-in-this-environment");const i=yield function sce(n,e){return pS.apply(this,arguments)}(t._delegate,To);return i?Ei(t._delegate,Promise.resolve(i)):{credential:null,user:null}})()}addFrameworkForLogging(t){!function oue(n,e){wn(n)._logFramework(e)}(this._delegate,t)}onAuthStateChanged(t,i,r){const{next:s,error:o,complete:a}=DH(t,i,r);return this._delegate.onAuthStateChanged(s,o,a)}onIdTokenChanged(t,i,r){const{next:s,error:o,complete:a}=DH(t,i,r);return this._delegate.onIdTokenChanged(s,o,a)}sendSignInLinkToEmail(t,i){return function Oae(n,e,t){return MD.apply(this,arguments)}(this._delegate,t,i)}sendPasswordResetEmail(t,i){return function Tae(n,e,t){return ED.apply(this,arguments)}(this._delegate,t,i||void 0)}setPersistence(t){var i=this;return m(function*(){let r;switch(function _ue(n,e){Jh(Object.values(ji).includes(e),n,"invalid-persistence-type"),T_()?Jh(e!==ji.SESSION,n,"unsupported-persistence-type"):hx()?Jh(e===ji.NONE,n,"unsupported-persistence-type"):kS()?Jh(e===ji.NONE||e===ji.LOCAL&&kh(),n,"unsupported-persistence-type"):Jh(e===ji.NONE||yH(),n,"unsupported-persistence-type")}(i._delegate,t),t){case ji.SESSION:r=Io;break;case ji.LOCAL:r=(yield Hi(ru)._isAvailable())?ru:$_;break;case ji.NONE:r=Qc;break;default:return bn("argument-error",{appName:i._delegate.name})}return i._delegate.setPersistence(r)})()}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return Ei(this._delegate,function xae(n){return cD.apply(this,arguments)}(this._delegate))}signInWithCredential(t){return Ei(this._delegate,H_(this._delegate,t))}signInWithCustomToken(t){return Ei(this._delegate,function Iae(n,e){return bD.apply(this,arguments)}(this._delegate,t))}signInWithEmailAndPassword(t,i){return Ei(this._delegate,function Nae(n,e,t){return H_(ee(n),aD.credential(e,t))}(this._delegate,t,i))}signInWithEmailLink(t,i){return Ei(this._delegate,function Fae(n,e,t){return AD.apply(this,arguments)}(this._delegate,t,i))}signInWithPhoneNumber(t,i){return FS(this._delegate,function Vle(n,e,t){return QD.apply(this,arguments)}(this._delegate,t,i))}signInWithPopup(t){var i=this;return m(function*(){return ef(RS(),i._delegate,"operation-not-supported-in-this-environment"),Ei(i._delegate,function Wle(n,e,t){return iS.apply(this,arguments)}(i._delegate,t,To))})()}signInWithRedirect(t){var i=this;return m(function*(){return ef(RS(),i._delegate,"operation-not-supported-in-this-environment"),yield OS(i._delegate),Jle(i._delegate,t,To)})()}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return function kae(n,e){return ID.apply(this,arguments)}(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return n.Persistence=ji,n})();function DH(n,e,t){let i=n;"function"!=typeof n&&({next:i,error:e,complete:t}=n);const r=i;return{next:o=>r(o&&Hs.getOrCreate(o)),error:e,complete:t}}function xue(n,e){const t=function yue(n,e){const t=wH();if(!t)return[];const i=Ga(bH,n,e);switch(t.getItem(i)){case ji.NONE:return[Qc];case ji.LOCAL:return[ru,Io];case ji.SESSION:return[Io];default:return[]}}(n,e);if(typeof self<"u"&&!t.includes(ru)&&t.push(ru),typeof window<"u")for(const i of[$_,Io])t.includes(i)||t.push(i);return t.includes(Qc)||t.push(Qc),t}class VS{constructor(){this.providerId="phone",this._delegate=new Qh(CH(Gt.auth()))}static credential(e,t){return Qh.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}VS.PHONE_SIGN_IN_METHOD=Qh.PHONE_SIGN_IN_METHOD,VS.PROVIDER_ID=Qh.PROVIDER_ID;const Due=R;class Sue{constructor(e,t,i=Gt.app()){var r;Due(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Fle(e,t,i.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Tue(n){n.INTERNAL.registerComponent(new Ir("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new xH(t,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Kc_EMAIL_SIGNIN,PASSWORD_RESET:Kc_PASSWORD_RESET,RECOVER_EMAIL:Kc_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Kc_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Kc_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Kc_VERIFY_EMAIL}},EmailAuthProvider:aD,FacebookAuthProvider:kU,GithubAuthProvider:NU,GoogleAuthProvider:RU,OAuthProvider:tu,SAMLAuthProvider:V_,PhoneAuthProvider:VS,PhoneMultiFactorGenerator:Oce,RecaptchaVerifier:Sue,TwitterAuthProvider:OU,Auth:xH,AuthCredential:Jc,Error:ci}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion("@firebase/auth-compat","0.3.7")}(Gt);var K,Mue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},js={},BS=BS||{},de=Mue||self;function J_(){}function ey(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function tf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var US="closure_uid_"+(1e9*Math.random()>>>0),kue=0;function Rue(n,e,t){return n.call.apply(n.bind,arguments)}function Nue(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Qn(n,e,t){return(Qn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rue:Nue).apply(null,arguments)}function ty(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Vn(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(i,o)}}function Mo(){this.s=this.s,this.o=this.o}Mo.prototype.s=!1,Mo.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Aue(n){Object.prototype.hasOwnProperty.call(n,US)&&n[US]||(n[US]=++kue)}(this)},Mo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const SH=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function HS(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function IH(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(ey(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function Xn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Xn.prototype.h=function(){this.defaultPrevented=!0};var Pue=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{de.addEventListener("test",J_,e),de.removeEventListener("test",J_,e)}catch{}return n}();function ny(n){return/^[\s\xa0]*$/.test(n)}var TH=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function jS(n,e){return n<e?-1:n>e?1:0}function iy(){var n=de.navigator;return n&&(n=n.userAgent)?n:""}function Zr(n){return-1!=iy().indexOf(n)}function zS(n){return zS[" "](n),n}zS[" "]=J_;var ry,Lue=Zr("Opera"),su=Zr("Trident")||Zr("MSIE"),MH=Zr("Edge"),$S=MH||su,AH=Zr("Gecko")&&!(-1!=iy().toLowerCase().indexOf("webkit")&&!Zr("Edge"))&&!(Zr("Trident")||Zr("MSIE"))&&!Zr("Edge"),Vue=-1!=iy().toLowerCase().indexOf("webkit")&&!Zr("Edge");function kH(){var n=de.document;return n?n.documentMode:void 0}e:{var qS="",WS=function(){var n=iy();return AH?/rv:([^\);]+)(\)|;)/.exec(n):MH?/Edge\/([\d\.]+)/.exec(n):su?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Vue?/WebKit\/(\S+)/.exec(n):Lue?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(WS&&(qS=WS?WS[1]:""),su){var GS=kH();if(null!=GS&&GS>parseFloat(qS)){ry=String(GS);break e}}ry=qS}var Bue={};var Hue=de.document&&su&&(kH()||parseInt(ry,10))||void 0;function nf(n,e){if(Xn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(AH){e:{try{zS(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:jue[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&nf.X.h.call(this)}}Vn(nf,Xn);var jue={2:"touch",3:"pen",4:"mouse"};nf.prototype.h=function(){nf.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var rf="closure_listenable_"+(1e6*Math.random()|0),zue=0;function $ue(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++zue,this.ba=this.ea=!1}function sy(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function YS(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function NH(n){const e={};for(const t in n)e[t]=n[t];return e}const OH="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PH(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<OH.length;s++)t=OH[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function oy(n){this.src=n,this.g={},this.h=0}function QS(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=SH(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(sy(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function XS(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==i)return r}return-1}oy.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=XS(n,e,i,r);return-1<o?(e=n[o],t||(e.ea=!1)):((e=new $ue(e,this.src,s,!!i,r)).ea=t,n.push(e)),e};var ZS="closure_lm_"+(1e6*Math.random()|0),JS={};function FH(n,e,t,i,r){if(i&&i.once)return VH(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)FH(n,e[s],t,i,r);return null}return t=iI(t),n&&n[rf]?n.N(e,t,tf(i)?!!i.capture:!!i,r):LH(n,e,t,!1,i,r)}function LH(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var o=tf(r)?!!r.capture:!!r,a=tI(n);if(a||(n[ZS]=a=new oy(n)),(t=a.add(e,t,i,o,s)).proxy)return t;if(i=function que(){const e=Wue;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Pue||(r=o),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(UH(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function VH(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)VH(n,e[s],t,i,r);return null}return t=iI(t),n&&n[rf]?n.O(e,t,tf(i)?!!i.capture:!!i,r):LH(n,e,t,!0,i,r)}function BH(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)BH(n,e[s],t,i,r);else i=tf(i)?!!i.capture:!!i,t=iI(t),n&&n[rf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=XS(s=n.g[e],t,i,r))&&(sy(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=tI(n))&&(e=n.g[e.toString()],n=-1,e&&(n=XS(e,t,i,r)),(t=-1<n?e[n]:null)&&eI(t))}function eI(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[rf])QS(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(UH(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=tI(e))?(QS(t,n),0==t.h&&(t.src=null,e[ZS]=null)):sy(n)}}}function UH(n){return n in JS?JS[n]:JS[n]="on"+n}function Wue(n,e){if(n.ba)n=!0;else{e=new nf(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&eI(n),n=t.call(i,e)}return n}function tI(n){return(n=n[ZS])instanceof oy?n:null}var nI="__closure_events_fn_"+(1e9*Math.random()>>>0);function iI(n){return"function"==typeof n?n:(n[nI]||(n[nI]=function(e){return n.handleEvent(e)}),n[nI])}function Cn(){Mo.call(this),this.i=new oy(this),this.P=this,this.I=null}function Bn(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Xn(e,n);else if(e instanceof Xn)e.target=e.target||n;else{var r=e;PH(e=new Xn(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];r=ay(o,i,!0,e)&&r}if(r=ay(o=e.g=n,i,!0,e)&&r,r=ay(o,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=ay(o=e.g=t[s],i,!1,e)&&r}function ay(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==t){var a=o.listener,l=o.ha||o.src;o.ea&&QS(n.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Vn(Cn,Mo),Cn.prototype[rf]=!0,Cn.prototype.removeEventListener=function(n,e,t,i){BH(this,n,e,t,i)},Cn.prototype.M=function(){if(Cn.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)sy(t[i]);delete n.g[e],n.h--}}this.I=null},Cn.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Cn.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var rI=de.JSON.stringify;function Gue(){var n=zH;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var sI,HH=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Yue,n=>n.reset());class Yue{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Que(n){de.setTimeout(()=>{throw n},0)}function jH(n,e){sI||function Xue(){var n=de.Promise.resolve(void 0);sI=function(){n.then(Zue)}}(),oI||(sI(),oI=!0),zH.add(n,e)}var oI=!1,zH=new class Kue{constructor(){this.h=this.g=null}add(e,t){const i=HH.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function Zue(){for(var n;n=Gue();){try{n.h.call(n.g)}catch(t){Que(t)}var e=HH;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}oI=!1}function ly(n,e){Cn.call(this),this.h=n||1,this.g=e||de,this.j=Qn(this.lb,this),this.l=Date.now()}function aI(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function lI(n,e,t){if("function"==typeof n)t&&(n=Qn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Qn(n.handleEvent,n)}return 2147483647<Number(e)?-1:de.setTimeout(n,e||0)}function $H(n){n.g=lI(()=>{n.g=null,n.i&&(n.i=!1,$H(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Vn(ly,Cn),(K=ly.prototype).ca=!1,K.R=null,K.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Bn(this,"tick"),this.ca&&(aI(this),this.start()))}},K.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},K.M=function(){ly.X.M.call(this),aI(this),delete this.g};class Jue extends Mo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$H(this)}M(){super.M(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sf(n){Mo.call(this),this.h=n,this.g={}}Vn(sf,Mo);var qH=[];function WH(n,e,t,i){Array.isArray(t)||(t&&(qH[0]=t.toString()),t=qH);for(var r=0;r<t.length;r++){var s=FH(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function GH(n){YS(n.g,function(e,t){this.g.hasOwnProperty(t)&&eI(e)},n),n.g={}}function cy(){this.g=!0}function ou(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ide(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return rI(t)}catch{return e}}(n,t)+(i?" "+i:"")})}sf.prototype.M=function(){sf.X.M.call(this),GH(this)},sf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cy.prototype.Aa=function(){this.g=!1},cy.prototype.info=function(){};var Za={},KH=null;function uy(){return KH=KH||new Cn}function YH(n){Xn.call(this,Za.Pa,n)}function af(n){const e=uy();Bn(e,new YH(e))}function QH(n,e){Xn.call(this,Za.STAT_EVENT,n),this.stat=e}function ui(n){const e=uy();Bn(e,new QH(e,n))}function XH(n,e){Xn.call(this,Za.Qa,n),this.size=e}function lf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){n()},e)}Za.Pa="serverreachability",Vn(YH,Xn),Za.STAT_EVENT="statevent",Vn(QH,Xn),Za.Qa="timingevent",Vn(XH,Xn);var dy={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ZH={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function cI(){}function ej(){}cI.prototype.h=null;var hI,cf={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function uI(){Xn.call(this,"d")}function dI(){Xn.call(this,"c")}function hy(){}function uf(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new sf(this),this.O=rde,this.T=new ly(n=$S?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new tj}function tj(){this.i=null,this.g="",this.h=!1}Vn(uI,Xn),Vn(dI,Xn),Vn(hy,cI),hy.prototype.g=function(){return new XMLHttpRequest},hy.prototype.i=function(){return{}},hI=new hy;var rde=45e3,fI={},fy={};function pI(n,e,t){n.K=1,n.v=_y(zs(e)),n.s=t,n.P=!0,nj(n,null)}function nj(n,e){n.F=Date.now(),df(n),n.A=zs(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),hj(t.i,"t",i),n.C=0,t=n.l.H,n.h=new tj,n.g=Fj(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Jue(Qn(n.La,n,n.g),n.N)),WH(n.S,n.g,"readystatechange",n.ib),e=n.H?NH(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),af(),function ede(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.U,n.s)}function ij(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function rj(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=sde(n,t),r==fy){4==e&&(n.o=4,ui(14),i=!1),ou(n.j,n.m,null,"[Incomplete Response]");break}if(r==fI){n.o=4,ui(15),ou(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}ou(n.j,n.m,r,null),mI(n,r)}ij(n)&&r!=fy&&r!=fI&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ui(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),EI(e),e.K=!0,ui(11))):(ou(n.j,n.m,t,"[Invalid Chunked Response]"),Ja(n),hf(n))}function sde(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?fy:(t=Number(e.substring(t,i)),isNaN(t)?fI:(i+=1)+t>e.length?fy:(e=e.substr(i,t),n.C=i+t,e))}function df(n){n.V=Date.now()+n.O,sj(n,n.O)}function sj(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=lf(Qn(n.gb,n),e)}function py(n){n.B&&(de.clearTimeout(n.B),n.B=null)}function hf(n){0==n.l.G||n.I||Rj(n.l,n)}function Ja(n){py(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,aI(n.T),GH(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function mI(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||gI(t.h,n)))if(!n.J&&gI(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Ey(t),wy(t)}CI(t),ui(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=lf(Qn(t.cb,t),6e3));if(1>=mj(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else tl(t,11)}else if((n.J||t.g==n)&&Ey(t),!ny(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(t.T=c[0],c=c[1],2==t.G)if("c"==c[0]){t.I=c[1],t.ka=c[2];const u=c[3];null!=u&&(t.ma=u,t.j.info("VER="+t.ma));const d=c[4];null!=d&&(t.Ca=d,t.j.info("SVER="+t.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.J=i=1.5*h,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=i.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(_I(s,s.h),s.h=null))}if(i.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.za=g,xt(i.F,i.D,g))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var o=n;if((i=t).sa=Pj(i,i.H?i.ka:null,i.V),o.J){gj(i.h,o);var a=o,l=i.J;l&&a.setTimeout(l),a.B&&(py(a),df(a)),i.g=o}else Aj(i);0<t.i.length&&Cy(t)}else"stop"!=c[0]&&"close"!=c[0]||tl(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?tl(t,7):wI(t):"noop"!=c[0]&&t.l&&t.l.wa(c),t.A=0)}af()}catch{}}function oj(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ey(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function ade(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ey(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function ode(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ey(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(K=uf.prototype).setTimeout=function(n){this.O=n},K.ib=function(n){n=n.target;const e=this.L;e&&3==$s(n)?e.l():this.La(n)},K.La=function(n){try{if(n==this.g)e:{const u=$s(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>u)&&(3!=u||$S||this.g&&(this.h.h||this.g.fa()||xj(this.g)))){this.I||4!=u||7==e||af(),py(this);var t=this.g.aa();this.Y=t;t:if(ij(this)){var i=xj(this.g);n="";var r=i.length,s=4==$s(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ja(this),hf(this);var o="";break t}this.h.i=new de.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==t,function tde(n,e,t,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,u,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ny(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,ui(12),Ja(this),hf(this);break e}ou(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,mI(this,t)}this.P?(rj(this,u,o),$S&&this.i&&3==u&&(WH(this.S,this.T,"tick",this.hb),this.T.start())):(ou(this.j,this.m,o,null),mI(this,o)),4==u&&Ja(this),this.i&&!this.I&&(4==u?Rj(this.l,this):(this.i=!1,df(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,ui(12)):(this.o=0,ui(13)),Ja(this),hf(this)}}}catch{}},K.hb=function(){if(this.g){var n=$s(this.g),e=this.g.fa();this.C<e.length&&(py(this),rj(this,n,e),this.i&&4!=n&&df(this))}},K.cancel=function(){this.I=!0,Ja(this)},K.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function nde(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(af(),ui(17)),Ja(this),this.o=2,hf(this)):sj(this,this.V-n)};var aj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function el(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof el){this.h=void 0!==e?e:n.h,my(this,n.j),this.s=n.s,this.g=n.g,gy(this,n.m),this.l=n.l,e=n.i;var t=new mf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),lj(this,t),this.o=n.o}else n&&(t=String(n).match(aj))?(this.h=!!e,my(this,t[1]||"",!0),this.s=ff(t[2]||""),this.g=ff(t[3]||"",!0),gy(this,t[4]),this.l=ff(t[5]||"",!0),lj(this,t[6]||"",!0),this.o=ff(t[7]||"")):(this.h=!!e,this.i=new mf(null,this.h))}function zs(n){return new el(n)}function my(n,e,t){n.j=t?ff(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function gy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function lj(n,e,t){e instanceof mf?(n.i=e,function pde(n,e){e&&!n.j&&(Ao(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(uj(this,i),hj(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=pf(e,hde)),n.i=new mf(e,n.h))}function xt(n,e,t){n.i.set(e,t)}function _y(n){return xt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ff(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function pf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,cde),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function cde(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}el.prototype.toString=function(){var n=[],e=this.j;e&&n.push(pf(e,cj,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(pf(e,cj,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(pf(t,"/"==t.charAt(0)?dde:ude,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",pf(t,fde)),n.join("")};var cj=/[#\/\?@]/g,ude=/[#\?:]/g,dde=/[#\?]/g,hde=/[#\?@]/g,fde=/#/g;function mf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ao(n){n.g||(n.g=new Map,n.h=0,n.i&&function lde(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function uj(n,e){Ao(n),e=au(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function dj(n,e){return Ao(n),e=au(n,e),n.g.has(e)}function hj(n,e,t){uj(n,e),0<t.length&&(n.i=null,n.g.set(au(n,e),HS(t)),n.h+=t.length)}function au(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function fj(n){this.l=n||gde,n=de.PerformanceNavigationTiming?0<(n=de.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(de.g&&de.g.Ga&&de.g.Ga()&&de.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(K=mf.prototype).add=function(n,e){Ao(this),this.i=null,n=au(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},K.forEach=function(n,e){Ao(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},K.oa=function(){Ao(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},K.W=function(n){Ao(this);let e=[];if("string"==typeof n)dj(this,n)&&(e=e.concat(this.g.get(au(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},K.set=function(n,e){return Ao(this),this.i=null,dj(this,n=au(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},K.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},K.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),o=this.W(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};var gde=10;function pj(n){return!!n.h||!!n.g&&n.g.size>=n.j}function mj(n){return n.h?1:n.g?n.g.size:0}function gI(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function _I(n,e){n.g?n.g.add(e):n.h=e}function gj(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function _j(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return HS(n.i)}function yI(){}function _de(){this.g=new yI}function yde(n,e,t){const i=t||"";try{oj(n,function(r,s){let o=r;tf(r)&&(o=rI(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function yy(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function gf(n){this.l=n.ac||null,this.j=n.jb||!1}function vy(n,e){Cn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=vI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fj.prototype.cancel=function(){if(this.i=_j(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},yI.prototype.stringify=function(n){return de.JSON.stringify(n,void 0)},yI.prototype.parse=function(n){return de.JSON.parse(n,void 0)},Vn(gf,cI),gf.prototype.g=function(){return new vy(this.l,this.j)},gf.prototype.i=function(n){return function(){return n}}({}),Vn(vy,Cn);var vI=0;function yj(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function _f(n){n.readyState=4,n.l=null,n.j=null,n.A=null,yf(n)}function yf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(K=vy.prototype).open=function(n,e){if(this.readyState!=vI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,yf(this)},K.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||de).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},K.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_f(this)),this.readyState=vI},K.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,yf(this)),this.g&&(this.readyState=3,yf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof de.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yj(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},K.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?_f(this):yf(this),3==this.readyState&&yj(this)}},K.Va=function(n){this.g&&(this.response=this.responseText=n,_f(this))},K.Ua=function(n){this.g&&(this.response=n,_f(this))},K.ga=function(){this.g&&_f(this)},K.setRequestHeader=function(n,e){this.v.append(n,e)},K.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},K.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(vy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var bde=de.JSON.parse;function Bt(n){Cn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vj,this.K=this.L=!1}Vn(Bt,Cn);var vj="",wde=/^https?$/i,Cde=["POST","PUT"];function bj(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,wj(n),by(n)}function wj(n){n.D||(n.D=!0,Bn(n,"complete"),Bn(n,"error"))}function Cj(n){if(n.h&&typeof BS<"u"&&(!n.C[1]||4!=$s(n)||2!=n.aa()))if(n.v&&4==$s(n))lI(n.Ha,0,n);else if(Bn(n,"readystatechange"),4==$s(n)){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===a){var r=String(n.H).match(aj)[1]||null;if(!r&&de.self&&de.self.location){var s=de.self.location.protocol;r=s.substr(0,s.length-1)}i=!wde.test(r?r.toLowerCase():"")}t=i}if(t)Bn(n,"complete"),Bn(n,"success");else{n.m=6;try{var o=2<$s(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.aa()+"]",wj(n)}}finally{by(n)}}}function by(n,e){if(n.g){Ej(n);const t=n.g,i=n.C[0]?J_:null;n.g=null,n.C=null,e||Bn(n,"ready");try{t.onreadystatechange=i}catch{}}}function Ej(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(de.clearTimeout(n.A),n.A=null)}function $s(n){return n.g?n.g.readyState:0}function xj(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case vj:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Dj(n){let e="";return YS(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function bI(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Dj(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):xt(n,e,t))}function vf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Sj(n){this.Ca=0,this.i=[],this.j=new cy,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=vf("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=vf("baseRetryDelayMs",5e3,n),this.bb=vf("retryDelaySeedMs",1e4,n),this.$a=vf("forwardChannelMaxRetries",2,n),this.ta=vf("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new fj(n&&n.concurrentRequestLimit),this.Fa=new _de,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function wI(n){if(Ij(n),3==n.G){var e=n.U++,t=zs(n.F);xt(t,"SID",n.I),xt(t,"RID",e),xt(t,"TYPE","terminate"),bf(n,t),(e=new uf(n,n.j,e,void 0)).K=2,e.v=_y(zs(t)),t=!1,de.navigator&&de.navigator.sendBeacon&&(t=de.navigator.sendBeacon(e.v.toString(),"")),!t&&de.Image&&((new Image).src=e.v,t=!0),t||(e.g=Fj(e.l,null),e.g.da(e.v)),e.F=Date.now(),df(e)}Oj(n)}function wy(n){n.g&&(EI(n),n.g.cancel(),n.g=null)}function Ij(n){wy(n),n.u&&(de.clearTimeout(n.u),n.u=null),Ey(n),n.h.cancel(),n.m&&("number"==typeof n.m&&de.clearTimeout(n.m),n.m=null)}function Cy(n){pj(n.h)||n.m||(n.m=!0,jH(n.Ja,n),n.C=0)}function Tj(n,e){var t;t=e?e.m:n.U++;const i=zs(n.F);xt(i,"SID",n.I),xt(i,"RID",t),xt(i,"AID",n.T),bf(n,i),n.o&&n.s&&bI(i,n.o,n.s),t=new uf(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Mj(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),_I(n.h,t),pI(t,i,e)}function bf(n,e){n.ia&&YS(n.ia,function(t,i){xt(e,i,t)}),n.l&&oj({},function(t,i){xt(e,i,t)})}function Mj(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Qn(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=r[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=r[l].h;const u=r[l].g;if(c-=s,0>c)s=Math.max(0,r[l].h-100),a=!1;else try{yde(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function Aj(n){n.g||n.u||(n.Z=1,jH(n.Ia,n),n.A=0)}function CI(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=lf(Qn(n.Ia,n),Nj(n,n.A)),n.A++,0))}function EI(n){null!=n.B&&(de.clearTimeout(n.B),n.B=null)}function kj(n){n.g=new uf(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=zs(n.sa);xt(e,"RID","rpc"),xt(e,"SID",n.I),xt(e,"CI",n.L?"0":"1"),xt(e,"AID",n.T),xt(e,"TYPE","xmlhttp"),bf(n,e),n.o&&n.s&&bI(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=_y(zs(e)),t.s=null,t.P=!0,nj(t,n)}function Ey(n){null!=n.v&&(de.clearTimeout(n.v),n.v=null)}function Rj(n,e){var t=null;if(n.g==e){Ey(n),EI(n),n.g=null;var i=2}else{if(!gI(n.h,e))return;t=e.D,gj(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Bn(i=uy(),new XH(i,t)),Cy(n)}else Aj(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function xde(n,e){return!(mj(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=lf(Qn(n.Ja,n,e),Nj(n,n.C)),n.C++,0)))}(n,e)||2==i&&CI(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:tl(n,5);break;case 4:tl(n,10);break;case 3:tl(n,6);break;default:tl(n,2)}}function Nj(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function tl(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Qn(n.kb,n);t||(t=new el("//www.google.com/images/cleardot.gif"),de.location&&"http"==de.location.protocol||my(t,"https"),_y(t)),function vde(n,e){const t=new cy;if(de.Image){const i=new Image;i.onload=ty(yy,t,i,"TestLoadImage: loaded",!0,e),i.onerror=ty(yy,t,i,"TestLoadImage: error",!1,e),i.onabort=ty(yy,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=ty(yy,t,i,"TestLoadImage: timeout",!1,e),de.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else ui(2);n.G=0,n.l&&n.l.va(e),Oj(n),Ij(n)}function Oj(n){if(n.G=0,n.la=[],n.l){const e=_j(n.h);(0!=e.length||0!=n.i.length)&&(IH(n.la,e),IH(n.la,n.i),n.h.i.length=0,HS(n.i),n.i.length=0),n.l.ua()}}function Pj(n,e,t){var i=t instanceof el?zs(t):new el(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),gy(i,i.m);else{var r=de.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new el(null,void 0);i&&my(s,i),e&&(s.g=e),r&&gy(s,r),t&&(s.l=t),i=s}return e=n.za,(t=n.D)&&e&&xt(i,t,e),xt(i,"VER",n.ma),bf(n,i),i}function Fj(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Bt(t&&n.Da&&!n.ra?new gf({jb:!0}):n.ra)).Ka(n.H),e}function Lj(){}function xy(){if(su&&!(10<=Number(Hue)))throw Error("Environmental error: no available transport.")}function zi(n,e){Cn.call(this),this.g=new Sj(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!ny(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ny(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new lu(this)}function Vj(n){uI.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Bj(){dI.call(this),this.status=1}function lu(n){this.g=n}(K=Bt.prototype).Ka=function(n){this.L=n},K.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hI.g(),this.C=function JH(n){return n.h||(n.h=n.i())}(this.u?this.u:hI),this.g.onreadystatechange=Qn(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void bj(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=de.FormData&&n instanceof de.FormData,!(0<=SH(Cde,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ej(this),0<this.B&&((this.K=function Ede(n){return su&&function Uue(){return function Fue(n){var e=Bue;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=TH(String(ry)).split("."),t=TH("9").split("."),i=Math.max(e.length,t.length);for(let o=0;0==n&&o<i;o++){var r=e[o]||"",s=t[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=jS(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||jS(0==r[2].length,0==s[2].length)||jS(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qn(this.qa,this)):this.A=lI(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){bj(this,s)}},K.qa=function(){typeof BS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bn(this,"timeout"),this.abort(8))},K.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Bn(this,"complete"),Bn(this,"abort"),by(this))},K.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),by(this,!0)),Bt.X.M.call(this)},K.Ha=function(){this.s||(this.F||this.v||this.l?Cj(this):this.fb())},K.fb=function(){Cj(this)},K.aa=function(){try{return 2<$s(this)?this.g.status:-1}catch{return-1}},K.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},K.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),bde(e)}},K.Ea=function(){return this.m},K.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(K=Sj.prototype).ma=8,K.G=1,K.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new uf(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=NH(s),PH(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Mj(this,r,e),xt(t=zs(this.F),"RID",n),xt(t,"CVER",22),this.D&&xt(t,"X-HTTP-Session-Id",this.D),bf(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(Dj(s)))+"&"+e:this.o&&bI(t,this.o,s)),_I(this.h,r),this.Ya&&xt(t,"TYPE","init"),this.O?(xt(t,"$req",e),xt(t,"SID","null"),r.Z=!0,pI(r,t,null)):pI(r,t,e),this.G=2}}else 3==this.G&&(n?Tj(this,n):0==this.i.length||pj(this.h)||Tj(this))},K.Ia=function(){if(this.u=null,kj(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=lf(Qn(this.eb,this),n)}},K.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ui(10),wy(this),kj(this))},K.cb=function(){null!=this.v&&(this.v=null,wy(this),CI(this),ui(19))},K.kb=function(n){n?(this.j.info("Successfully pinged google.com"),ui(2)):(this.j.info("Failed to ping google.com"),ui(1))},(K=Lj.prototype).xa=function(){},K.wa=function(){},K.va=function(){},K.ua=function(){},K.Ra=function(){},xy.prototype.g=function(n,e){return new zi(n,e)},Vn(zi,Cn),zi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;ui(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Pj(n,null,n.V),Cy(n)},zi.prototype.close=function(){wI(this.g)},zi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=rI(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Cy(e)},zi.prototype.M=function(){this.g.l=null,delete this.j,wI(this.g),delete this.g,zi.X.M.call(this)},Vn(Vj,uI),Vn(Bj,dI),Vn(lu,Lj),lu.prototype.xa=function(){Bn(this.g,"a")},lu.prototype.wa=function(n){Bn(this.g,new Vj(n))},lu.prototype.va=function(n){Bn(this.g,new Bj)},lu.prototype.ua=function(){Bn(this.g,"b")},xy.prototype.createWebChannel=xy.prototype.g,zi.prototype.send=zi.prototype.u,zi.prototype.open=zi.prototype.m,zi.prototype.close=zi.prototype.close,dy.NO_ERROR=0,dy.TIMEOUT=8,dy.HTTP_ERROR=6,ZH.COMPLETE="complete",ej.EventType=cf,cf.OPEN="a",cf.CLOSE="b",cf.ERROR="c",cf.MESSAGE="d",Cn.prototype.listen=Cn.prototype.N,Bt.prototype.listenOnce=Bt.prototype.O,Bt.prototype.getLastError=Bt.prototype.Oa,Bt.prototype.getLastErrorCode=Bt.prototype.Ea,Bt.prototype.getStatus=Bt.prototype.aa,Bt.prototype.getResponseJson=Bt.prototype.Sa,Bt.prototype.getResponseText=Bt.prototype.fa,Bt.prototype.send=Bt.prototype.da,Bt.prototype.setWithCredentials=Bt.prototype.Ka;var Dde=js.createWebChannelTransport=function(){return new xy},Sde=js.getStatEventTarget=function(){return uy()},xI=js.ErrorCode=dy,Ide=js.EventType=ZH,Tde=js.Event=Za,Uj=js.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Mde=js.FetchXmlHttpFactory=gf,Dy=js.WebChannel=ej,Ade=js.XhrIo=Bt;const Hj="@firebase/firestore";class En{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");let cu="9.19.0";const ko=new Oh("@firebase/firestore");function DI(){return ko.logLevel}function M(n,...e){if(ko.logLevel<=Le.DEBUG){const t=e.map(SI);ko.debug(`Firestore (${cu}): ${n}`,...t)}}function Yt(n,...e){if(ko.logLevel<=Le.ERROR){const t=e.map(SI);ko.error(`Firestore (${cu}): ${n}`,...t)}}function Jr(n,...e){if(ko.logLevel<=Le.WARN){const t=e.map(SI);ko.warn(`Firestore (${cu}): ${n}`,...t)}}function SI(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function z(n="Unexpected state"){const e=`FIRESTORE (${cu}) INTERNAL ASSERTION FAILED: `+n;throw Yt(e),new Error(e)}function Y(n,e){n||z()}function B(n,e){return n}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class S extends ci{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class jj{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(En.UNAUTHENTICATED))}shutdown(){}}class Ode{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Pde{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let o=new dn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new dn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(i.currentUser)}))},l=c=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new dn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Y("string"==typeof i.accessToken),new jj(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Y(null===e||"string"==typeof e),new En(e)}}class Fde{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=En.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Lde{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new Fde(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vde{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=s=>{null!=s.error&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,M("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Y("string"==typeof t.token),this.T=t.token,new zj(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Bde(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class $j{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=Bde(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function he(n,e){return n<e?-1:n>e?1:0}function uu(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function qj(n){return n+"\0"}class Dt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new S(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new S(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new S(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Dt(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class J{constructor(e){this.timestamp=e}static fromTimestamp(e){return new J(e)}static min(){return new J(new Dt(0,0))}static max(){return new J(new Dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wf{constructor(e,t,i){void 0===t?t=0:t>e.length&&z(),void 0===i?i=e.length-t:i>e.length-t&&z(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===wf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wf?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ue extends wf{construct(e,t,i){return new Ue(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new S(E.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Ue(t)}static emptyPath(){return new Ue([])}}const Ude=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends wf{construct(e,t,i){return new Ut(e,t,i)}static isValidIdentifier(e){return Ude.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ut(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new S(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new S(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new S(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new S(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(t)}static emptyPath(){return new Ut([])}}class L{constructor(e){this.path=e}static fromPath(e){return new L(Ue.fromString(e))}static fromName(e){return new L(Ue.fromString(e).popFirst(5))}static empty(){return new L(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ue.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ue.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new Ue(e.slice()))}}class Sy{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function II(n){return n.fields.find(e=>2===e.kind)}function nl(n){return n.fields.filter(e=>2!==e.kind)}Sy.UNKNOWN_ID=-1;class Iy{constructor(e,t){this.fieldPath=e,this.kind=t}}class Cf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Cf(0,$i.min())}}function Wj(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=J.fromTimestamp(1e9===i?new Dt(t+1,0):new Dt(t,i));return new $i(r,L.empty(),e)}function Gj(n){return new $i(n.readTime,n.key,-1)}class $i{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new $i(J.min(),L.empty(),-1)}static max(){return new $i(J.max(),L.empty(),-1)}}function TI(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=L.comparator(n.documentKey,e.documentKey),0!==t?t:he(n.largestBatchId,e.largestBatchId))}const Kj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ro(n){return MI.apply(this,arguments)}function MI(){return MI=m(function*(n){if(n.code!==E.FAILED_PRECONDITION||n.message!==Kj)throw n;M("LocalStore","Unexpectedly lost primary lease")}),MI.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,i)=>{t(e)})}static reject(e){return new w((t,i)=>{i(e)})}static waitFor(e){return new w((t,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},l=>i(l))}),o=!0,s===r&&t()})}static or(e){let t=w.resolve(!1);for(const i of e)t=t.next(r=>r?w.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new w((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,t){return new w((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class Ty{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new dn,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new Ef(e,t.error)):this.R.resolve()},this.transaction.onerror=i=>{const r=AI(i.target.error);this.R.reject(new Ef(e,r))}}static open(e,t,i,r){try{return new Ty(t,e.transaction(r,i))}catch(s){throw new Ef(t,s)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(M("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new $de(t)}}class Mr{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===Mr.S(yt())&&Yt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return M("SimpleDb","Removing database:",e),il(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!kh())return!1;if(Mr.C())return!0;const e=yt(),t=Mr.S(e),i=0<t&&t<10,r=Mr.N(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static O(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return m(function*(){return t.db||(M("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{i(o.target.result)},s.onblocked=()=>{r(new Ef(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;r("VersionError"===a.name?new S(E.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new S(E.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Ef(e,a))},s.onupgradeneeded=o=>{M("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.V.M(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{M("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return m(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.$(e);const l=Ty.open(s.db,e,o?"readonly":"readwrite",i),c=r(l).next(u=>(l.P(),u)).catch(u=>(l.abort(u),w.reject(u))).toPromise();return c.catch(()=>{}),yield l.v,c}catch(l){const c=l,u="FirebaseError"!==c.name&&a<3;if(M("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),s.close(),!u)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class zde{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return il(this.L.delete())}}class Ef extends S{constructor(e,t){super(E.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function No(n){return"IndexedDbTransactionError"===n.name}class $de{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(M("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(M("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),il(i)}add(e){return M("SimpleDb","ADD",this.store.name,e,e),il(this.store.add(e))}get(e){return il(this.store.get(e)).next(t=>(void 0===t&&(t=null),M("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return M("SimpleDb","DELETE",this.store.name,e),il(this.store.delete(e))}count(){return M("SimpleDb","COUNT",this.store.name),il(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(o,a)=>{s.push(a)}).next(()=>s)}{const r=this.store.getAll(i.range);return new w((s,o)=>{r.onerror=a=>{o(a.target.error)},r.onsuccess=a=>{s(a.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new w((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}J(e,t){M("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,o,a)=>a.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}X(e){const t=this.cursor({});return new w((i,r)=>{t.onerror=s=>{const o=AI(s.target.error);r(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}W(e,t){const i=[];return new w((r,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void r();const l=new zde(a),c=t(a.primaryKey,a.value,l);if(c instanceof w){const u=c.catch(d=>(l.done(),w.reject(d)));i.push(u)}l.isDone?r():null===l.K?a.continue():a.continue(l.K)}}).next(()=>w.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function il(n){return new w((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=AI(i.target.error);t(r)}})}let Qj=!1;function AI(n){const e=Mr.S(yt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new S("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Qj||(Qj=!0,setTimeout(()=>{throw i},0)),i}}return n}class qde{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;M("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,m(function*(){t.task=null;try{M("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){No(i)?M("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Ro(i)}yield t.et(6e4)}))}}class Wde{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return m(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,s=!0;return w.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!i.has(o))return M("IndexBackiller",`Processing collection: ${o}`),this.it(e,o,r).next(a=>{r-=a,i.add(o)});s=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.rt(r,s)).next(a=>(M("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,s)=>{const o=Gj(s);TI(o,i)>0&&(i=o)}),new $i(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let qi=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function xf(n){return null==n}function Df(n){return 0===n&&1/n==-1/0}function Xj(n){return"number"==typeof n&&Number.isInteger(n)&&!Df(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function di(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Zj(e)),e=Gde(n.get(t),e);return Zj(e)}function Gde(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function Zj(n){return n+"\x01\x01"}function es(n){const e=n.length;if(Y(e>=2),2===e)return Y("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Ue.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&z(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let l;0===r.length?l=a:(r+=a,l=r,r=""),i.push(l);break;case"\x10":r+=n.substring(s,o),r+="\0";break;case"\x11":r+=n.substring(s,o+1);break;default:z()}s=o+2}return new Ue(i)}const Jj=["userId","batchId"];function My(n,e){return[n,di(e)]}function ez(n,e,t){return[n,di(e),t]}const Kde={},Yde=["prefixPath","collectionGroup","readTime","documentId"],Qde=["prefixPath","collectionGroup","documentId"],Xde=["collectionGroup","readTime","prefixPath","documentId"],Zde=["canonicalId","targetId"],Jde=["targetId","path"],ehe=["path","targetId"],the=["collectionId","parent"],nhe=["indexId","uid"],ihe=["uid","sequenceNumber"],rhe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],she=["indexId","uid","orderedDocumentKey"],ohe=["userId","collectionPath","documentId"],ahe=["userId","collectionPath","largestBatchId"],lhe=["userId","collectionGroup","largestBatchId"],tz=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],che=[...tz,"documentOverlays"],nz=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],iz=nz,uhe=[...iz,"indexConfiguration","indexState","indexEntries"];class kI extends Yj{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function xn(n,e){const t=B(n);return Mr.O(t.at,e)}function rz(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sz(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ht{constructor(e,t){this.comparator=e,this.root=t||Un.EMPTY}insert(e,t){return new Ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ay(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ay(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ay(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ay(this.root,e,this.comparator,!0)}}class Ay{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Un.RED,this.left=r??Un.EMPTY,this.right=s??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Un(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Un.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();const e=this.left.check();if(e!==this.right.check())throw z();return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1,Un.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Un(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class st{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oz(this.data.getIterator())}getIteratorFrom(e){return new oz(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof st)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new st(this.comparator);return t.data=e,t}}class oz{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function du(n){return n.hasNext()?n.getNext():void 0}class xi{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new xi([])}unionWith(e){let t=new st(Ut.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new xi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return uu(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class dhe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new dhe("Invalid base64 string: "+r):r}}(e);return new hn(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new hn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const fhe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oo(n){if(Y(!!n),"string"==typeof n){let e=0;const t=fhe.exec(n);if(Y(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jt(n.seconds),nanos:jt(n.nanos)}}function jt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function sl(n){return"string"==typeof n?hn.fromBase64String(n):hn.fromUint8Array(n)}function RI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function az(n){const e=n.mapValue.fields.__previous_value__;return RI(e)?az(e):e}function Sf(n){const e=Oo(n.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}class phe{constructor(e,t,i,r,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Po{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Po("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Po&&e.projectId===this.projectId&&e.database===this.database}}const Fo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ky={nullValue:"NULL_VALUE"};function ol(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?RI(n)?4:dz(n)?9007199254740991:10:z()}function ts(n,e){if(n===e)return!0;const t=ol(n);if(t!==ol(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sf(n).isEqual(Sf(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Oo(i.timestampValue),o=Oo(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,sl(n.bytesValue).isEqual(sl(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return jt(i.geoPointValue.latitude)===jt(r.geoPointValue.latitude)&&jt(i.geoPointValue.longitude)===jt(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return jt(i.integerValue)===jt(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=jt(i.doubleValue),o=jt(r.doubleValue);return s===o?Df(s)===Df(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return uu(n.arrayValue.values||[],e.arrayValue.values||[],ts);case 10:return function(i,r){const s=i.mapValue.fields||{},o=r.mapValue.fields||{};if(rz(s)!==rz(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!ts(s[a],o[a])))return!1;return!0}(n,e);default:return z()}var r}function If(n,e){return void 0!==(n.values||[]).find(t=>ts(t,e))}function Lo(n,e){if(n===e)return 0;const t=ol(n),i=ol(e);if(t!==i)return he(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return he(n.booleanValue,e.booleanValue);case 2:return function(r,s){const o=jt(r.integerValue||r.doubleValue),a=jt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return lz(n.timestampValue,e.timestampValue);case 4:return lz(Sf(n),Sf(e));case 5:return he(n.stringValue,e.stringValue);case 6:return function(r,s){const o=sl(r),a=sl(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const o=r.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=he(o[l],a[l]);if(0!==c)return c}return he(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const o=he(jt(r.latitude),jt(s.latitude));return 0!==o?o:he(jt(r.longitude),jt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const o=r.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Lo(o[l],a[l]);if(c)return c}return he(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Fo.mapValue&&s===Fo.mapValue)return 0;if(r===Fo.mapValue)return 1;if(s===Fo.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=he(a[u],c[u]);if(0!==d)return d;const h=Lo(o[a[u]],l[c[u]]);if(0!==h)return h}return he(a.length,c.length)}(n.mapValue,e.mapValue);default:throw z()}}function lz(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return he(n,e);const t=Oo(n),i=Oo(e),r=he(t.seconds,i.seconds);return 0!==r?r:he(t.nanos,i.nanos)}function hu(n){return NI(n)}function NI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Oo(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sl(n.bytesValue).toBase64():"referenceValue"in n?L.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const o of i.values||[])s?s=!1:r+=",",r+=NI(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${NI(i.fields[a])}`;return s+"}"}(n.mapValue):z();var e}function al(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function OI(n){return!!n&&"integerValue"in n}function Tf(n){return!!n&&"arrayValue"in n}function cz(n){return!!n&&"nullValue"in n}function uz(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ry(n){return!!n&&"mapValue"in n}function Mf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return rl(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Mf(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dz(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function mhe(n){return"nullValue"in n?ky:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?al(Po.empty(),L.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:z()}function ghe(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?al(Po.empty(),L.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Fo:z()}function hz(n,e){const t=Lo(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function fz(n,e){const t=Lo(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ry(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mf(t)}setAll(e){let t=Ut.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}o?i[a.lastSegment()]=Mf(o):r.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());Ry(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ts(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Ry(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){rl(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Dn(Mf(this.value))}}function pz(n){const e=[];return rl(n.fields,(t,i)=>{const r=new Ut([t]);if(Ry(i)){const s=pz(i.mapValue).fields;if(0===s.length)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new xi(e)}class vt{constructor(e,t,i,r,s,o,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new vt(e,0,J.min(),J.min(),J.min(),Dn.empty(),0)}static newFoundDocument(e,t,i,r){return new vt(e,1,t,J.min(),i,r,0)}static newNoDocument(e,t){return new vt(e,2,t,J.min(),J.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new vt(e,3,t,J.min(),J.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(J.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vo{constructor(e,t){this.position=e,this.inclusive=t}}function mz(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],o=n.position[r];if(i=s.field.isKeyField()?L.comparator(L.fromName(o.referenceValue),t.key):Lo(o,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function gz(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ts(n.position[t],e.position[t]))return!1;return!0}class fu{constructor(e,t="asc"){this.field=e,this.dir=t}}function _he(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class _z{}class Oe extends _z{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new yhe(e,t,i):"array-contains"===t?new whe(e,i):"in"===t?new Ez(e,i):"not-in"===t?new Che(e,i):"array-contains-any"===t?new Ehe(e,i):new Oe(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new vhe(e,i):new bhe(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Lo(t,this.value)):null!==t&&ol(this.value)===ol(t)&&this.matchesComparison(Lo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class it extends _z{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new it(e,t)}matches(e){return pu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function pu(n){return"and"===n.op}function PI(n){return"or"===n.op}function FI(n){return yz(n)&&pu(n)}function yz(n){for(const e of n.filters)if(e instanceof it)return!1;return!0}function LI(n){if(n instanceof Oe)return n.field.canonicalString()+n.op.toString()+hu(n.value);if(FI(n))return n.filters.map(e=>LI(e)).join(",");{const e=n.filters.map(t=>LI(t)).join(",");return`${n.op}(${e})`}}function vz(n,e){return n instanceof Oe?(t=n,(i=e)instanceof Oe&&t.op===i.op&&t.field.isEqual(i.field)&&ts(t.value,i.value)):n instanceof it?function(t,i){return i instanceof it&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,o)=>r&&vz(s,i.filters[o]),!0)}(n,e):void z();var t,i}function bz(n,e){const t=n.filters.concat(e);return it.create(t,n.op)}function wz(n){return n instanceof Oe?function(e){return`${e.field.canonicalString()} ${e.op} ${hu(e.value)}`}(n):n instanceof it?function(e){return e.op.toString()+" {"+e.getFilters().map(wz).join(" ,")+"}"}(n):"Filter"}class yhe extends Oe{constructor(e,t,i){super(e,t,i),this.key=L.fromName(i.referenceValue)}matches(e){const t=L.comparator(e.key,this.key);return this.matchesComparison(t)}}class vhe extends Oe{constructor(e,t){super(e,"in",t),this.keys=Cz(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bhe extends Oe{constructor(e,t){super(e,"not-in",t),this.keys=Cz(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Cz(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>L.fromName(i.referenceValue))}class whe extends Oe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tf(t)&&If(t.arrayValue,this.value)}}class Ez extends Oe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&If(this.value.arrayValue,t)}}class Che extends Oe{constructor(e,t){super(e,"not-in",t)}matches(e){if(If(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!If(this.value.arrayValue,t)}}class Ehe extends Oe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>If(this.value.arrayValue,i))}}class xhe{constructor(e,t=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function VI(n,e=null,t=[],i=[],r=null,s=null,o=null){return new xhe(n,e,t,i,r,s,o)}function ll(n){const e=B(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>LI(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),xf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>hu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>hu(i)).join(",")),e.ft=t}return e.ft}function Af(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_he(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!vz(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!gz(n.startAt,e.startAt)&&gz(n.endAt,e.endAt)}function Ny(n){return L.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Oy(n,e){return n.filters.filter(t=>t instanceof Oe&&t.field.isEqual(e))}function xz(n,e,t){let i=ky,r=!0;for(const s of Oy(n,e)){let o=ky,a=!0;switch(s.op){case"<":case"<=":o=mhe(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=ky}hz({value:i,inclusive:r},{value:o,inclusive:a})<0&&(i=o,r=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];hz({value:i,inclusive:r},{value:o,inclusive:t.inclusive})<0&&(i=o,r=t.inclusive);break}return{value:i,inclusive:r}}function Dz(n,e,t){let i=Fo,r=!0;for(const s of Oy(n,e)){let o=Fo,a=!0;switch(s.op){case">=":case">":o=ghe(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Fo}fz({value:i,inclusive:r},{value:o,inclusive:a})>0&&(i=o,r=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];fz({value:i,inclusive:r},{value:o,inclusive:t.inclusive})>0&&(i=o,r=t.inclusive);break}return{value:i,inclusive:r}}class qs{constructor(e,t=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null}}function Sz(n,e,t,i,r,s,o,a){return new qs(n,e,t,i,r,s,o,a)}function mu(n){return new qs(n)}function Iz(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function BI(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Py(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function UI(n){return null!==n.collectionGroup}function cl(n){const e=B(n);if(null===e.dt){e.dt=[];const t=Py(e),i=BI(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new fu(t)),e.dt.push(new fu(Ut.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new fu(Ut.keyField(),s))}}}return e.dt}function hi(n){const e=B(n);if(!e.wt)if("F"===e.limitType)e.wt=VI(e.path,e.collectionGroup,cl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of cl(e))t.push(new fu(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Vo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Vo(e.startAt.position,e.startAt.inclusive):null;e.wt=VI(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function HI(n,e){e.getFirstInequalityField(),Py(n);const t=n.filters.concat([e]);return new qs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Fy(n,e,t){return new qs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kf(n,e){return Af(hi(n),hi(e))&&n.limitType===e.limitType}function Tz(n){return`${ll(hi(n))}|lt:${n.limitType}`}function jI(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>wz(i)).join(", ")}]`),xf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>hu(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>hu(i)).join(",")),`Target(${t})`}(hi(n))}; limitType=${n.limitType})`}function Rf(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):L.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of cl(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,o){const a=mz(r,s,o);return r.inclusive?a<=0:a<0}(t.startAt,cl(t),i)||t.endAt&&!function(r,s,o){const a=mz(r,s,o);return r.inclusive?a>=0:a>0}(t.endAt,cl(t),i)));var t,i}function Mz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Az(n){return(e,t)=>{let i=!1;for(const r of cl(n)){const s=Dhe(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function Dhe(n,e,t){const i=n.field.isKeyField()?L.comparator(e.key,t.key):function(r,s,o){const a=s.data.field(r),l=o.data.field(r);return null!==a&&null!==l?Lo(a,l):z()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return z()}}class Bo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){rl(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return sz(this.inner)}size(){return this.innerSize}}const She=new Ht(L.comparator);function Di(){return She}const kz=new Ht(L.comparator);function Nf(...n){let e=kz;for(const t of n)e=e.insert(t.key,t);return e}function Rz(n){let e=kz;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ns(){return Of()}function Nz(){return Of()}function Of(){return new Bo(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ihe=new Ht(L.comparator),The=new st(L.comparator);function Ce(...n){let e=The;for(const t of n)e=e.add(t);return e}const Mhe=new st(he);function Ly(){return Mhe}function Oz(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Df(e)?"-0":e}}function Pz(n){return{integerValue:""+n}}function Fz(n,e){return Xj(e)?Pz(e):Oz(n,e)}class Vy{constructor(){this._=void 0}}function Ahe(n,e,t){return n instanceof gu?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof ul?Vz(n,e):n instanceof dl?Bz(n,e):function(i,r){const s=Lz(i,r),o=Uz(s)+Uz(i._t);return OI(s)&&OI(i._t)?Pz(o):Oz(i.serializer,o)}(n,e)}function khe(n,e,t){return n instanceof ul?Vz(n,e):n instanceof dl?Bz(n,e):t}function Lz(n,e){return n instanceof _u?OI(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class gu extends Vy{}class ul extends Vy{constructor(e){super(),this.elements=e}}function Vz(n,e){const t=Hz(e);for(const i of n.elements)t.some(r=>ts(r,i))||t.push(i);return{arrayValue:{values:t}}}class dl extends Vy{constructor(e){super(),this.elements=e}}function Bz(n,e){let t=Hz(e);for(const i of n.elements)t=t.filter(r=>!ts(r,i));return{arrayValue:{values:t}}}class _u extends Vy{constructor(e,t){super(),this.serializer=e,this._t=t}}function Uz(n){return jt(n.integerValue||n.doubleValue)}function Hz(n){return Tf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Pf{constructor(e,t){this.field=e,this.transform=t}}class Nhe{constructor(e,t){this.version=e,this.transformResults=t}}class St{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new St}static exists(e){return new St(void 0,e)}static updateTime(e){return new St(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function By(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Uy{}function jz(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new vu(n.key,St.none()):new yu(n.key,n.data,St.none());{const t=n.data,i=Dn.empty();let r=new st(Ut.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new Ws(n.key,i,new xi(r.toArray()),St.none())}}function Ohe(n,e,t){n instanceof yu?function(i,r,s){const o=i.value.clone(),a=qz(i.fieldTransforms,r,s.transformResults);o.setAll(a),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Ws?function(i,r,s){if(!By(i.precondition,r))return void r.convertToUnknownDocument(s.version);const o=qz(i.fieldTransforms,r,s.transformResults),a=r.data;a.setAll($z(i)),a.setAll(o),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ff(n,e,t,i){return n instanceof yu?function(r,s,o,a){if(!By(r.precondition,s))return o;const l=r.value.clone(),c=Wz(r.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ws?function(r,s,o,a){if(!By(r.precondition,s))return o;const l=Wz(r.fieldTransforms,a,s),c=s.data;return c.setAll($z(r)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(n,e,t,i):(o=t,By(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Phe(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=Lz(i.transform,r||null);null!=s&&(null===t&&(t=Dn.empty()),t.set(i.field,s))}return t||null}function zz(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&uu(t,i,(r,s)=>function Rhe(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof ul&&i instanceof ul||t instanceof dl&&i instanceof dl?uu(t.elements,i.elements,ts):t instanceof _u&&i instanceof _u?ts(t._t,i._t):t instanceof gu&&i instanceof gu);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class yu extends Uy{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ws extends Uy{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $z(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function qz(n,e,t){const i=new Map;Y(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,khe(o,a,t[r]))}return i}function Wz(n,e,t){const i=new Map;for(const r of n){const s=r.transform,o=t.data.field(r.field);i.set(r.field,Ahe(s,o,e))}return i}class vu extends Uy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zI extends Uy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $I{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&Ohe(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ff(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ff(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Nz();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(r.key)?null:a;const l=jz(o,a);null!==l&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(J.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ce())}isEqual(e){return this.batchId===e.batchId&&uu(this.mutations,e.mutations,(t,i)=>zz(t,i))&&uu(this.baseMutations,e.baseMutations,(t,i)=>zz(t,i))}}class qI{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Y(e.mutations.length===i.length);let r=Ihe;const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new qI(e,t,i,r)}}class WI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Vhe{constructor(e){this.count=e}}var en,He;function Gz(n){switch(n){default:return z();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function Kz(n){if(void 0===n)return Yt("GRPC error has no .code"),E.UNKNOWN;switch(n){case en.OK:return E.OK;case en.CANCELLED:return E.CANCELLED;case en.UNKNOWN:return E.UNKNOWN;case en.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case en.INTERNAL:return E.INTERNAL;case en.UNAVAILABLE:return E.UNAVAILABLE;case en.UNAUTHENTICATED:return E.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case en.NOT_FOUND:return E.NOT_FOUND;case en.ALREADY_EXISTS:return E.ALREADY_EXISTS;case en.PERMISSION_DENIED:return E.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case en.ABORTED:return E.ABORTED;case en.OUT_OF_RANGE:return E.OUT_OF_RANGE;case en.UNIMPLEMENTED:return E.UNIMPLEMENTED;case en.DATA_LOSS:return E.DATA_LOSS;default:return z()}}(He=en||(en={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";class KI{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Hy}static getOrCreateInstance(){return null===Hy&&(Hy=new KI),Hy}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Hy=null;class Lf{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Vf.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Lf(J.min(),r,Ly(),Di(),Ce())}}class Vf{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Vf(i,t,Ce(),Ce(),Ce())}}class jy{constructor(e,t,i,r){this.It=e,this.removedTargetIds=t,this.key=i,this.Tt=r}}class Yz{constructor(e,t){this.targetId=e,this.Et=t}}class Qz{constructor(e,t,i=hn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Xz{constructor(){this.At=0,this.Rt=Jz(),this.vt=hn.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=Ce(),t=Ce(),i=Ce();return this.Rt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:z()}}),new Vf(this.vt,this.bt,e,t,i)}xt(){this.Pt=!1,this.Rt=Jz()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class Bhe{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=Di(),this.qt=Zz(),this.Ut=new st(he)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const i=this.jt(t);switch(e.state){case 0:this.Wt(t)&&i.Dt(e.resumeToken);break;case 1:i.$t(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.$t(),i.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(i.Mt(),i.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),i.Dt(e.resumeToken));break;default:z()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((i,r)=>{this.Wt(r)&&t(r)})}Jt(e){var t;const i=e.targetId,r=e.Et.count,s=this.Yt(i);if(s){const o=s.target;if(Ny(o))if(0===r){const a=new L(o.path);this.Qt(i,a,vt.newNoDocument(a,J.min()))}else Y(1===r);else{const a=this.Zt(i);a!==r&&(this.Ht(i),this.Ut=this.Ut.add(i),null===(t=KI.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Ny(a.target)){const l=new L(a.target.path);null!==this.Lt.get(l)||this.te(o,l)||this.Qt(o,l,vt.newNoDocument(l,e))}s.St&&(t.set(o,s.Ct()),s.xt())}});let i=Ce();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Yt(l);return!c||2===c.purpose||(a=!1,!1)}),a&&(i=i.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const r=new Lf(e,t,this.Ut,this.Lt,i);return this.Lt=Di(),this.qt=Zz(),this.Ut=new st(he),r}Gt(e,t){if(!this.Wt(e))return;const i=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,i),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,i){if(!this.Wt(e))return;const r=this.jt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),i&&(this.Lt=this.Lt.insert(t,i))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new Xz,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new st(he),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||M("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new Xz),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function Zz(){return new Ht(L.comparator)}function Jz(){return new Ht(L.comparator)}const Uhe={asc:"ASCENDING",desc:"DESCENDING"},Hhe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jhe={and:"AND",or:"OR"};class zhe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e$(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $he(n,e){return bu(n,e.toTimestamp())}function Qt(n){return Y(!!n),J.fromTimestamp(function(e){const t=Oo(e);return new Dt(t.seconds,t.nanos)}(n))}function YI(n,e){return(t=n,new Ue(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function t$(n){const e=Ue.fromString(n);return Y(u$(e)),e}function Bf(n,e){return YI(n.databaseId,e.path)}function is(n,e){const t=t$(e);if(t.get(1)!==n.databaseId.projectId)throw new S(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new S(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new L(i$(t))}function QI(n,e){return YI(n.databaseId,e)}function n$(n){const e=t$(n);return 4===e.length?Ue.emptyPath():i$(e)}function Uf(n){return new Ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function i$(n){return Y(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function r$(n,e,t){return{name:Bf(n,e),fields:t.value.mapValue.fields}}function s$(n,e,t){const i=is(n,e.name),r=Qt(e.updateTime),s=e.createTime?Qt(e.createTime):J.min(),o=new Dn({mapValue:{fields:e.fields}}),a=vt.newFoundDocument(i,r,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function Hf(n,e){let t;if(e instanceof yu)t={update:r$(n,e.key,e.value)};else if(e instanceof vu)t={delete:Bf(n,e.key)};else if(e instanceof Ws)t={update:r$(n,e.key,e.data),updateMask:Zhe(e.fieldMask)};else{if(!(e instanceof zI))return z();t={verify:Bf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const o=s.transform;if(o instanceof gu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ul)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof dl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof _u)return{fieldPath:s.field.canonicalString(),increment:o._t};throw z()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:$he(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:z()),t;var r}function XI(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?St.updateTime(Qt(r.updateTime)):void 0!==r.exists?St.exists(r.exists):St.none():St.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,o){let a=null;"setToServerValue"in o?(Y("REQUEST_TIME"===o.setToServerValue),a=new gu):"appendMissingElements"in o?a=new ul(o.appendMissingElements.values||[]):"removeAllFromArray"in o?a=new dl(o.removeAllFromArray.values||[]):"increment"in o?a=new _u(s,o.increment):z();const l=Ut.fromServerFormat(o.fieldPath);return new Pf(l,a)}(n,r)):[];var r;if(e.update){const r=is(n,e.update.name),s=new Dn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new xi((e.updateMask.fieldPaths||[]).map(c=>Ut.fromServerFormat(c)));return new Ws(r,s,o,t,i)}return new yu(r,s,t,i)}if(e.delete){const r=is(n,e.delete);return new vu(r,t)}if(e.verify){const r=is(n,e.verify);return new zI(r,t)}return z()}function o$(n,e){return{documents:[QI(n,e.path)]}}function ZI(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=QI(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=QI(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return c$(it.create(l,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:Uo((u=c).field),direction:Yhe(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(c=e.limit,n.useProto3Json||xf(c)?c:{value:c});var c,a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function a$(n){let e=n$(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Y(1===i);const u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(u){const d=l$(u);return d instanceof it&&FI(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new fu(wu((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,xf(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new Vo((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new Vo(u.values||[],!u.before)}(t.endAt)),Sz(e,r,o,s,a,"F",l,c)}function l$(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=wu(e.unaryFilter.field);return Oe.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=wu(e.unaryFilter.field);return Oe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=wu(e.unaryFilter.field);return Oe.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=wu(e.unaryFilter.field);return Oe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return z()}}(n):void 0!==n.fieldFilter?function(e){return Oe.create(wu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):void 0!==n.compositeFilter?function(e){return it.create(e.compositeFilter.filters.map(t=>l$(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return z()}}(e.compositeFilter.op))}(n):z()}function Yhe(n){return Uhe[n]}function Qhe(n){return Hhe[n]}function Xhe(n){return jhe[n]}function Uo(n){return{fieldPath:n.canonicalString()}}function wu(n){return Ut.fromServerFormat(n.fieldPath)}function c$(n){return n instanceof Oe?function(e){if("=="===e.op){if(uz(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NAN"}};if(cz(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(uz(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NOT_NAN"}};if(cz(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(e.field),op:Qhe(e.op),value:e.value}}}(n):n instanceof it?function(e){const t=e.getFilters().map(i=>c$(i));return 1===t.length?t[0]:{compositeFilter:{op:Xhe(e.op),filters:t}}}(n):z()}function Zhe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function u$(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ho{constructor(e,t,i,r,s=J.min(),o=J.min(),a=hn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class d${constructor(e){this.se=e}}function h$(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:zy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Bf(r=n.se,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:bu(r,s.version.toTimestamp()),createTime:bu(r,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:hl(e.version)};else{if(!e.isUnknownDocument())return z();i.unknownDocument={path:t.path.toArray(),version:hl(e.version)}}var r,s;return i}function zy(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function hl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function fl(n){const e=new Dt(n.seconds,n.nanoseconds);return J.fromTimestamp(e)}function pl(n,e){const t=(e.baseMutations||[]).map(s=>XI(n.se,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const i=e.mutations.map(s=>XI(n.se,s)),r=Dt.fromMillis(e.localWriteTimeMs);return new $I(e.batchId,r,t,i)}function jf(n){const e=fl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?fl(n.lastLimboFreeSnapshotVersion):J.min();let i;var r;return void 0!==n.query.documents?(Y(1===(r=n.query).documents.length),i=hi(mu(n$(r.documents[0])))):i=hi(a$(n.query)),new Ho(i,n.targetId,0,n.lastListenSequenceNumber,e,t,hn.fromBase64String(n.resumeToken))}function f$(n,e){const t=hl(e.snapshotVersion),i=hl(e.lastLimboFreeSnapshotVersion);let r;r=Ny(e.target)?o$(n.se,e.target):ZI(n.se,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ll(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function JI(n){const e=a$({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Fy(e,e.limit,"L"):e}function eT(n,e){return new WI(e.largestBatchId,XI(n.se,e.overlayMutation))}function p$(n,e){const t=e.path.lastSegment();return[n,di(e.path.popLast()),t]}function m$(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:hl(i.readTime),documentKey:di(i.documentKey.path),largestBatchId:i.largestBatchId}}class efe{getBundleMetadata(e,t){return g$(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:fl(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return g$(e).put({bundleId:(i=t).id,createTime:hl(Qt(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return _$(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:JI(r.bundledQuery),readTime:fl(r.readTime)};var r})}saveNamedQuery(e,t){return _$(e).put({name:(i=t).name,readTime:hl(Qt(i.readTime)),bundledQuery:i.bundledQuery});var i}}function g$(n){return xn(n,"bundles")}function _$(n){return xn(n,"namedQueries")}class $y{constructor(e,t){this.serializer=e,this.userId=t}static ie(e,t){return new $y(e,t.uid||"")}getOverlay(e,t){return zf(e).get(p$(this.userId,t)).next(i=>i?eT(this.serializer,i):null)}getOverlays(e,t){const i=ns();return w.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,o)=>{const a=new WI(t,o);r.push(this.re(e,a))}),w.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(o=>r.add(di(o.getCollectionPath())));const s=[];return r.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);s.push(zf(e).J("collectionPathOverlayIndex",a))}),w.waitFor(s)}getOverlaysForCollection(e,t,i){const r=ns(),s=di(t),o=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return zf(e).j("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=eT(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=ns();let o;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return zf(e).Z({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=eT(this.serializer,c);s.size()<r||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>s)}re(e,t){return zf(e).put(function(i,r,s){const[o,a,l]=p$(r,s.mutation.key);return{userId:r,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Hf(i.se,s.mutation)}}(this.serializer,this.userId,t))}}function zf(n){return xn(n,"documentOverlays")}class ml{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(jt(e.integerValue));else if("doubleValue"in e){const i=jt(e.doubleValue);isNaN(i)?this.ae(t,13):(this.ae(t,15),Df(i)?t.he(0):t.he(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ae(t,20),"string"==typeof i?t.le(i):(t.le(`${i.seconds||""}`),t.he(i.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(sl(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ae(t,45),t.he(i.latitude||0),t.he(i.longitude||0)}else"mapValue"in e?dz(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):z()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const i=e.fields||{};this.ae(t,55);for(const r of Object.keys(i))this.fe(r,t),this.ue(i[r],t)}ge(e,t){const i=e.values||[];this.ae(t,50);for(const r of i)this.ue(r,t)}_e(e,t){this.ae(t,37),L.fromName(e).path.forEach(i=>{this.ae(t,60),this.ye(i,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}function tfe(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function y$(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=tfe(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}ml.pe=new ml;class nfe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Te(i.value),i=t.next();this.Ee()}Ae(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Re(i.value),i=t.next();this.ve()}be(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Te(i);else if(i<2048)this.Te(960|i>>>6),this.Te(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Te(480|i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i);else{const r=t.codePointAt(0);this.Te(240|r>>>18),this.Te(128|63&r>>>12),this.Te(128|63&r>>>6),this.Te(128|63&r)}}this.Ee()}Pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{const r=t.codePointAt(0);this.Re(240|r>>>18),this.Re(128|63&r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r)}}this.ve()}Ve(e){const t=this.Se(e),i=y$(t);this.De(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ce(e){const t=this.Se(e),i=y$(t);this.De(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Se(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Te(e){const t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}Re(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(e){this.De(1),this.buffer[this.position++]=e}Oe(e){this.De(1),this.buffer[this.position++]=~e}De(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class ife{constructor(e){this.Me=e}we(e){this.Me.Ie(e)}le(e){this.Me.be(e)}he(e){this.Me.Ve(e)}ce(){this.Me.xe()}}class rfe{constructor(e){this.Me=e}we(e){this.Me.Ae(e)}le(e){this.Me.Pe(e)}he(e){this.Me.Ce(e)}ce(){this.Me.ke()}}class $f{constructor(){this.Me=new nfe,this.Fe=new ife(this.Me),this.Be=new rfe(this.Me)}seed(e){this.Me.seed(e)}Le(e){return 0===e?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}class gl{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}qe(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new gl(this.indexId,this.documentKey,this.arrayValue,i)}}function jo(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=v$(n.arrayValue,e.arrayValue),0!==t?t:(t=v$(n.directionalValue,e.directionalValue),0!==t?t:L.comparator(n.documentKey,e.documentKey)))}function v$(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class sfe{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.Ke=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ge=i:this.Ke.push(i)}}Qe(e){Y(e.collectionGroup===this.collectionId);const t=II(e);if(void 0!==t&&!this.ze(t))return!1;const i=nl(e);let r=0,s=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ge){const o=i[r];if(!this.je(this.Ge,o)||!this.We(this.Ue[s++],o))return!1;++r}for(;r<i.length;++r)if(s>=this.Ue.length||!this.We(this.Ue[s++],i[r]))return!1;return!0}ze(e){for(const t of this.Ke)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function b$(n){var e,t;if(Y(n instanceof Oe||n instanceof it),n instanceof Oe){if(n instanceof Ez){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>Oe.create(n.field,"==",s)))||[];return it.create(r,"or")}return n}const i=n.filters.map(r=>b$(r));return it.create(i,n.op)}function ofe(n){if(0===n.getFilters().length)return[];const e=iT(b$(n));return Y(w$(e)),tT(e)||nT(e)?[e]:e.getFilters()}function tT(n){return n instanceof Oe}function nT(n){return n instanceof it&&FI(n)}function w$(n){return tT(n)||nT(n)||function(e){if(e instanceof it&&PI(e)){for(const t of e.getFilters())if(!tT(t)&&!nT(t))return!1;return!0}return!1}(n)}function iT(n){if(Y(n instanceof Oe||n instanceof it),n instanceof Oe)return n;if(1===n.filters.length)return iT(n.filters[0]);const e=n.filters.map(i=>iT(i));let t=it.create(e,n.op);return t=qy(t),w$(t)?t:(Y(t instanceof it),Y(pu(t)),Y(t.filters.length>1),t.filters.reduce((i,r)=>rT(i,r)))}function rT(n,e){let t;return Y(n instanceof Oe||n instanceof it),Y(e instanceof Oe||e instanceof it),t=n instanceof Oe?e instanceof Oe?it.create([n,e],"and"):C$(n,e):e instanceof Oe?C$(e,n):function(i,r){if(Y(i.filters.length>0&&r.filters.length>0),pu(i)&&pu(r))return bz(i,r.getFilters());const s=PI(i)?i:r,o=PI(i)?r:i,a=s.filters.map(l=>rT(l,o));return it.create(a,"or")}(n,e),qy(t)}function C$(n,e){if(pu(e))return bz(e,n.getFilters());{const t=e.filters.map(i=>rT(n,i));return it.create(t,"or")}}function qy(n){if(Y(n instanceof Oe||n instanceof it),n instanceof Oe)return n;const e=n.getFilters();if(1===e.length)return qy(e[0]);if(yz(n))return n;const t=e.map(r=>qy(r)),i=[];return t.forEach(r=>{r instanceof Oe?i.push(r):r instanceof it&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:it.create(i,n.op)}class afe{constructor(){this.He=new sT}addToCollectionParentIndex(e,t){return this.He.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve($i.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve($i.min())}updateCollectionGroup(e,t,i){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class sT{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new st(Ue.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new st(Ue.comparator)).toArray()}}const Wy=new Uint8Array(0);class lfe{constructor(e,t){this.user=e,this.databaseId=t,this.Je=new sT,this.Ye=new Bo(i=>ll(i),(i,r)=>Af(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Je.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Je.add(t)});const s={collectionId:i,parent:di(r)};return E$(e).put(s)}return w.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[qj(t),""],!1,!0);return E$(e).j(r).next(s=>{for(const o of s){if(o.collectionId!==t)break;i.push(es(o.parent))}return i})}addFieldIndex(e,t){const i=Gy(e),r={indexId:(o=t).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])};var o;delete r.indexId;const s=i.add(r);if(t.indexState){const o=Wf(e);return s.next(a=>{o.put(m$(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=Gy(e),r=Wf(e),s=qf(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=qf(e);let r=!0;const s=new Map;return w.forEach(this.Ze(t),o=>this.Xe(e,o).next(a=>{r&&(r=!!a),s.set(o,a)})).next(()=>{if(r){let o=Ce();const a=[];return w.forEach(s,(l,c)=>{var u;M("IndexedDbIndexManager",`Using index ${u=l,`id=${u.indexId}|cg=${u.collectionGroup}|f=${u.fields.map(b=>`${b.fieldPath}:${b.kind}`).join(",")}`} to execute ${ll(t)}`);const d=function(b,O){const Q=II(O);if(void 0===Q)return null;for(const G of Oy(b,Q.fieldPath))switch(G.op){case"array-contains-any":return G.value.arrayValue.values||[];case"array-contains":return[G.value]}return null}(c,l),h=function(b,O){const Q=new Map;for(const G of nl(O))for(const ze of Oy(b,G.fieldPath))switch(ze.op){case"==":case"in":Q.set(G.fieldPath.canonicalString(),ze.value);break;case"not-in":case"!=":return Q.set(G.fieldPath.canonicalString(),ze.value),Array.from(Q.values())}return null}(c,l),f=function(b,O){const Q=[];let G=!0;for(const ze of nl(O)){const rn=0===ze.kind?xz(b,ze.fieldPath,b.startAt):Dz(b,ze.fieldPath,b.startAt);Q.push(rn.value),G&&(G=rn.inclusive)}return new Vo(Q,G)}(c,l),p=function(b,O){const Q=[];let G=!0;for(const ze of nl(O)){const rn=0===ze.kind?Dz(b,ze.fieldPath,b.endAt):xz(b,ze.fieldPath,b.endAt);Q.push(rn.value),G&&(G=rn.inclusive)}return new Vo(Q,G)}(c,l),g=this.tn(l,c,f),_=this.tn(l,c,p),v=this.en(l,c,h),x=this.nn(l.indexId,d,g,f.inclusive,_,p.inclusive,v);return w.forEach(x,b=>i.H(b,t.limit).next(O=>{O.forEach(Q=>{const G=L.fromSegments(Q.documentKey);o.has(G)||(o=o.add(G),a.push(G))})}))}).next(()=>a)}return w.resolve(null)})}Ze(e){let t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:ofe(it.create(e.filters,"and")).map(i=>VI(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.Ye.set(e,t),t)}nn(e,t,i,r,s,o,a){const l=(null!=t?t.length:1)*Math.max(i.length,s.length),c=l/(null!=t?t.length:1),u=[];for(let d=0;d<l;++d){const h=t?this.sn(t[d/c]):Wy,f=this.rn(e,h,i[d%c],r),p=this.on(e,h,s[d%c],o),g=a.map(_=>this.rn(e,h,_,!0));u.push(...this.createRange(f,p,g))}return u}rn(e,t,i,r){const s=new gl(e,L.empty(),t,i);return r?s:s.qe()}on(e,t,i,r){const s=new gl(e,L.empty(),t,i);return r?s.qe():s}Xe(e,t){const i=new sfe(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let o=null;for(const a of s)i.Qe(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let i=2;const r=this.Ze(t);return w.forEach(r,s=>this.Xe(e,s).next(o=>{o?0!==i&&o.fields.length<function(a){let l=new st(Ut.comparator),c=!1;for(const u of a.filters)for(const d of u.getFlattenedFilters())d.field.isKeyField()||("array-contains"===d.op||"array-contains-any"===d.op?c=!0:l=l.add(d.field));for(const u of a.orderBy)u.field.isKeyField()||(l=l.add(u.field));return l.size+(c?1:0)}(s)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}un(e,t){const i=new $f;for(const r of nl(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const o=i.Le(r.kind);ml.pe.oe(s,o)}return i.$e()}sn(e){const t=new $f;return ml.pe.oe(e,t.Le(0)),t.$e()}cn(e,t){const i=new $f;return ml.pe.oe(al(this.databaseId,t),i.Le(function(r){const s=nl(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.$e()}en(e,t,i){if(null===i)return[];let r=[];r.push(new $f);let s=0;for(const o of nl(e)){const a=i[s++];for(const l of r)if(this.an(t,o.fieldPath)&&Tf(a))r=this.hn(r,o,a);else{const c=l.Le(o.kind);ml.pe.oe(a,c)}}return this.ln(r)}tn(e,t,i){return this.en(e,t,i.position)}ln(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}hn(e,t,i){const r=[...e],s=[];for(const o of i.arrayValue.values||[])for(const a of r){const l=new $f;l.seed(a.$e()),ml.pe.oe(o,l.Le(t.kind)),s.push(l)}return s}an(e,t){return!!e.filters.find(i=>i instanceof Oe&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Gy(e),r=Wf(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(s=>{const o=[];return w.forEach(s,a=>r.get([a.indexId,this.uid]).next(l=>{o.push(function(c,u){const d=u?new Cf(u.sequenceNumber,new $i(fl(u.readTime),new L(es(u.documentKey)),u.largestBatchId)):Cf.empty(),h=c.fields.map(([f,p])=>new Iy(Ut.fromServerFormat(f),p));return new Sy(c.indexId,c.collectionGroup,h,d)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:he(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Gy(e),s=Wf(e);return this.fn(e).next(o=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>w.forEach(a,l=>s.put(m$(l.indexId,this.user,o,i)))))}updateIndexEntries(e,t){const i=new Map;return w.forEach(t,(r,s)=>{const o=i.get(r.collectionGroup);return(o?w.resolve(o):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),w.forEach(a,l=>this.dn(e,r,l).next(c=>{const u=this.wn(s,l);return c.isEqual(u)?w.resolve():this._n(e,s,l,c,u)}))))})}mn(e,t,i,r){return qf(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.cn(i,t.key),documentKey:t.key.path.toArray()})}gn(e,t,i,r){return qf(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.cn(i,t.key),t.key.path.toArray()])}dn(e,t,i){const r=qf(e);let s=new st(jo);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.cn(i,t)])},(o,a)=>{s=s.add(new gl(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}wn(e,t){let i=new st(jo);const r=this.un(t,e);if(null==r)return i;const s=II(t);if(null!=s){const o=e.data.field(s.fieldPath);if(Tf(o))for(const a of o.arrayValue.values||[])i=i.add(new gl(t.indexId,e.key,this.sn(a),r))}else i=i.add(new gl(t.indexId,e.key,Wy,r));return i}_n(e,t,i,r,s){M("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(a,l,c,u,d){const h=a.getIterator(),f=l.getIterator();let p=du(h),g=du(f);for(;p||g;){let _=!1,v=!1;if(p&&g){const x=c(p,g);x<0?v=!0:x>0&&(_=!0)}else null!=p?v=!0:_=!0;_?(u(g),g=du(f)):v?(d(p),p=du(h)):(p=du(h),g=du(f))}}(r,s,jo,a=>{o.push(this.mn(e,t,i,a))},a=>{o.push(this.gn(e,t,i,a))}),w.waitFor(o)}fn(e){let t=1;return Wf(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((o,a)=>jo(o,a)).filter((o,a,l)=>!a||0!==jo(o,l[a-1]));const r=[];r.push(e);for(const o of i){const a=jo(o,e),l=jo(o,t);if(0===a)r[0]=e.qe();else if(a>0&&l<0)r.push(o),r.push(o.qe());else if(l>0)break}r.push(t);const s=[];for(let o=0;o<r.length;o+=2){if(this.yn(r[o],r[o+1]))return[];s.push(IDBKeyRange.bound([r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Wy,[]],[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Wy,[]]))}return s}yn(e,t){return jo(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(x$)}getMinOffset(e,t){return w.mapArray(this.Ze(t),i=>this.Xe(e,i).next(r=>r||z())).next(x$)}}function E$(n){return xn(n,"collectionParents")}function qf(n){return xn(n,"indexEntries")}function Gy(n){return xn(n,"indexConfiguration")}function Wf(n){return xn(n,"indexState")}function x$(n){Y(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;TI(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new $i(e.readTime,e.documentKey,t)}const D$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Si{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Si(e,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function S$(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const l=i.Z({range:o},(u,d,h)=>(a++,h.delete()));s.push(l.next(()=>{Y(1===a)}));const c=[];for(const u of t.mutations){const d=ez(e,u.key.path,t.batchId);s.push(r.delete(d)),c.push(u.key)}return w.waitFor(s).next(()=>c)}function Ky(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw z();e=n.noDocument}return JSON.stringify(e).length}Si.DEFAULT_COLLECTION_PERCENTILE=10,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Si.DEFAULT=new Si(41943040,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Si.DISABLED=new Si(-1,0,0);class Yy{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.pn={}}static ie(e,t,i,r){Y(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new Yy(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zo(e).Z({index:"userMutationsIndex",range:i},(r,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=Cu(e),o=zo(e);return o.add({}).next(a=>{Y("number"==typeof a);const l=new $I(a,t,i,r),c=function(h,f,p){const g=p.baseMutations.map(v=>Hf(h.se,v)),_=p.mutations.map(v=>Hf(h.se,v));return{userId:f,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:g,mutations:_}}(this.serializer,this.userId,l),u=[];let d=new st((h,f)=>he(h.canonicalString(),f.canonicalString()));for(const h of r){const f=ez(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(o.put(c)),u.push(s.put(f,Kde))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.pn[a]=l.keys()}),w.waitFor(u).next(()=>l)})}lookupMutationBatch(e,t){return zo(e).get(t).next(i=>i?(Y(i.userId===this.userId),pl(this.serializer,i)):null)}In(e,t){return this.pn[t]?w.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.pn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return zo(e).Z({index:"userMutationsIndex",range:r},(o,a,l)=>{a.userId===this.userId&&(Y(a.batchId>=i),s=pl(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return zo(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zo(e).j("userMutationsIndex",t).next(i=>i.map(r=>pl(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=My(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return Cu(e).Z({range:r},(o,a,l)=>{const[c,u,d]=o,h=es(u);if(c===this.userId&&t.path.isEqual(h))return zo(e).get(d).next(f=>{if(!f)throw z();Y(f.userId===this.userId),s.push(pl(this.serializer,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new st(he);const r=[];return t.forEach(s=>{const o=My(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Cu(e).Z({range:a},(c,u,d)=>{const[h,f,p]=c,g=es(f);h===this.userId&&s.path.isEqual(g)?i=i.add(p):d.done()});r.push(l)}),w.waitFor(r).next(()=>this.Tn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=My(this.userId,i),o=IDBKeyRange.lowerBound(s);let a=new st(he);return Cu(e).Z({range:o},(l,c,u)=>{const[d,h,f]=l,p=es(h);d===this.userId&&i.isPrefixOf(p)?p.length===r&&(a=a.add(f)):u.done()}).next(()=>this.Tn(e,a))}Tn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(zo(e).get(s).next(o=>{if(null===o)throw z();Y(o.userId===this.userId),i.push(pl(this.serializer,o))}))}),w.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return S$(e.at,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.En(t.batchId)}),w.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}En(e){delete this.pn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return w.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Cu(e).Z({range:i},(s,o,a)=>{if(s[0]===this.userId){const l=es(s[1]);r.push(l)}else a.done()}).next(()=>{Y(0===r.length)})})}containsKey(e,t){return I$(e,this.userId,t)}An(e){return T$(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function I$(n,e,t){const i=My(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return Cu(n).Z({range:s,Y:!0},(a,l,c)=>{const[u,d,h]=a;u===e&&d===r&&(o=!0),c.done()}).next(()=>o)}function zo(n){return xn(n,"mutations")}function Cu(n){return xn(n,"documentMutations")}function T$(n){return xn(n,"mutationQueues")}class _l{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new _l(0)}static bn(){return new _l(-1)}}class cfe{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Pn(e).next(t=>{const i=new _l(t.highestTargetId);return t.highestTargetId=i.next(),this.Vn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Pn(e).next(t=>J.fromTimestamp(new Dt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Pn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Vn(e,r)))}addTargetData(e,t){return this.Sn(e,t).next(()=>this.Pn(e).next(i=>(i.targetCount+=1,this.Dn(t,i),this.Vn(e,i))))}updateTargetData(e,t){return this.Sn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Eu(e).delete(t.targetId)).next(()=>this.Pn(e)).next(i=>(Y(i.targetCount>0),i.targetCount-=1,this.Vn(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return Eu(e).Z((o,a)=>{const l=jf(a);l.sequenceNumber<=t&&null===i.get(l.targetId)&&(r++,s.push(this.removeTargetData(e,l)))}).next(()=>w.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Eu(e).Z((i,r)=>{const s=jf(r);t(s)})}Pn(e){return M$(e).get("targetGlobalKey").next(t=>(Y(null!==t),t))}Vn(e,t){return M$(e).put("targetGlobalKey",t)}Sn(e,t){return Eu(e).put(f$(this.serializer,t))}Dn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Pn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=ll(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Eu(e).Z({range:r,index:"queryTargetsIndex"},(o,a,l)=>{const c=jf(a);Af(t,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=$o(e);return t.forEach(o=>{const a=di(o.path);r.push(s.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,o))}),w.waitFor(r)}removeMatchingKeys(e,t,i){const r=$o(e);return w.forEach(t,s=>{const o=di(s.path);return w.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=$o(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=$o(e);let s=Ce();return r.Z({range:i,Y:!0},(o,a,l)=>{const c=es(o[1]),u=new L(c);s=s.add(u)}).next(()=>s)}containsKey(e,t){const i=di(t.path),r=IDBKeyRange.bound([i],[qj(i)],!1,!0);let s=0;return $o(e).Z({index:"documentTargetsIndex",Y:!0,range:r},([o,a],l,c)=>{0!==o&&(s++,c.done())}).next(()=>s>0)}ne(e,t){return Eu(e).get(t).next(i=>i?jf(i):null)}}function Eu(n){return xn(n,"targets")}function M$(n){return xn(n,"targetGlobal")}function $o(n){return xn(n,"targetDocuments")}function A$([n,e],[t,i]){const r=he(n,t);return 0===r?he(e,i):r}class ufe{constructor(e){this.Cn=e,this.buffer=new st(A$),this.xn=0}Nn(){return++this.xn}kn(e){const t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();A$(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dfe{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(e){var t=this;M("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,m(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){No(i)?M("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ro(i)}yield t.$n(3e5)}))}}class hfe{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.Fn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return w.resolve(qi.ct);const i=new ufe(t);return this.Mn.forEachTarget(e,r=>i.kn(r.sequenceNumber)).next(()=>this.Mn.Bn(e,r=>i.kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Mn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(M("LruGarbageCollector","Garbage collection skipped; disabled"),w.resolve(D$)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(M("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D$):this.Ln(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}Ln(e,t){let i,r,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(M("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),r=this.params.maximumSequenceNumbersToCollect):r=d,o=Date.now(),this.nthSequenceNumber(e,r))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,t))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(c=Date.now(),DI()<=Le.DEBUG&&M("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-u}ms\n\tDetermined least recently used ${r} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(l-a)+`ms\n\tRemoved ${d} documents in `+(c-l)+`ms\nTotal Duration: ${c-u}ms`),w.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:d})))}}class ffe{constructor(e,t){this.db=e,this.garbageCollector=new hfe(this,t)}Fn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Bn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Bn(e,t){return this.Un(e,(i,r)=>t(r))}addReference(e,t,i){return Qy(e,i)}removeReference(e,t,i){return Qy(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Qy(e,t)}Kn(e,t){return function(i,r){let s=!1;return T$(i).X(o=>I$(i,o,r).next(a=>(a&&(s=!0),w.resolve(!a)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Un(e,(o,a)=>{if(a<=t){const l=this.Kn(e,o).next(c=>{if(!c)return s++,i.getEntry(e,o).next(()=>(i.removeEntry(o,J.min()),$o(e).delete([0,di(o.path)])))});r.push(l)}}).next(()=>w.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Qy(e,t)}Un(e,t){const i=$o(e);let r,s=qi.ct;return i.Z({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{0===o?(s!==qi.ct&&t(new L(es(r)),s),s=c,r=l):s=qi.ct}).next(()=>{s!==qi.ct&&t(new L(es(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Qy(n,e){return $o(n).put((i=n.currentSequenceNumber,{targetId:0,path:di(e.path),sequenceNumber:i}));var i}class k${constructor(){this.changes=new Bo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?w.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pfe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return yl(e).put(i)}removeEntry(e,t,i){return yl(e).delete(function(r,s){const o=r.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],zy(s),o[o.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Gn(e,i)))}getEntry(e,t){let i=vt.newInvalidDocument(t);return yl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Gf(t))},(r,s)=>{i=this.Qn(t,s)}).next(()=>i)}zn(e,t){let i={size:0,document:vt.newInvalidDocument(t)};return yl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Gf(t))},(r,s)=>{i={document:this.Qn(t,s),size:Ky(s)}}).next(()=>i)}getEntries(e,t){let i=Di();return this.jn(e,t,(r,s)=>{const o=this.Qn(r,s);i=i.insert(r,o)}).next(()=>i)}Wn(e,t){let i=Di(),r=new Ht(L.comparator);return this.jn(e,t,(s,o)=>{const a=this.Qn(s,o);i=i.insert(s,a),r=r.insert(s,Ky(o))}).next(()=>({documents:i,Hn:r}))}jn(e,t,i){if(t.isEmpty())return w.resolve();let r=new st(P$);t.forEach(l=>r=r.add(l));const s=IDBKeyRange.bound(Gf(r.first()),Gf(r.last())),o=r.getIterator();let a=o.getNext();return yl(e).Z({index:"documentKeyIndex",range:s},(l,c,u)=>{const d=L.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&P$(a,d)<0;)i(a,null),a=o.getNext();a&&a.isEqual(d)&&(i(a,c),a=o.hasNext()?o.getNext():null),a?u.G(Gf(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),zy(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return yl(e).j(IDBKeyRange.bound(o,a,!0)).next(l=>{let c=Di();for(const u of l){const d=this.Qn(L.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);d.isFoundDocument()&&(Rf(t,d)||r.has(d.key))&&(c=c.insert(d.key,d))}return c})}getAllFromCollectionGroup(e,t,i,r){let s=Di();const o=O$(t,i),a=O$(t,$i.max());return yl(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const d=this.Qn(L.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===r&&u.done()}).next(()=>s)}newChangeBuffer(e){return new mfe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return N$(e).get("remoteDocumentGlobalKey").next(t=>(Y(!!t),t))}Gn(e,t){return N$(e).put("remoteDocumentGlobalKey",t)}Qn(e,t){if(t){const i=function Jhe(n,e){let t;if(e.document)t=s$(n.se,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=L.fromSegments(e.noDocument.path),r=fl(e.noDocument.readTime);t=vt.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return z();{const i=L.fromSegments(e.unknownDocument.path),r=fl(e.unknownDocument.version);t=vt.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Dt(i[0],i[1]);return J.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(J.min()))return i}return vt.newInvalidDocument(e)}}function R$(n){return new pfe(n)}class mfe extends k${constructor(e,t){super(),this.Jn=e,this.trackRemovals=t,this.Yn=new Bo(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new st((s,o)=>he(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Yn.get(s);if(t.push(this.Jn.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=h$(this.Jn.serializer,o);r=r.add(s.path.popLast());const c=Ky(l);i+=c-a.size,t.push(this.Jn.addEntry(e,s,l))}else if(i-=a.size,this.trackRemovals){const l=h$(this.Jn.serializer,o.convertToNoDocument(J.min()));t.push(this.Jn.addEntry(e,s,l))}}),r.forEach(s=>{t.push(this.Jn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Jn.updateMetadata(e,i)),w.waitFor(t)}getFromCache(e,t){return this.Jn.zn(e,t).next(i=>(this.Yn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Jn.Wn(e,t).next(({documents:i,Hn:r})=>(r.forEach((s,o)=>{this.Yn.set(s,{size:o,readTime:i.get(s).readTime})}),i))}}function N$(n){return xn(n,"remoteDocumentGlobal")}function yl(n){return xn(n,"remoteDocumentsV14")}function Gf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function O$(n,e){const t=e.documentKey.path.toArray();return[n,zy(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function P$(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=he(t[s],i[s]),r)return r;return r=he(t.length,i.length),r||(r=he(t[t.length-2],i[i.length-2]),r||he(t[t.length-1],i[i.length-1]))}class gfe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class F${constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Ff(i.mutation,r,xi.empty(),Dt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ce()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ce()){const r=ns();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=Nf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const i=ns();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ce()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,r){let s=Di();const o=Of(),a=Of();return t.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof Ws)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),Ff(u.mutation,c,u.mutation.getFieldMask(),Dt.now())):o.set(c.key,xi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new gfe(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Of();let r=new Ht((o,a)=>o-a),s=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=i.get(l)||xi.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||Ce()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=Nz();u.forEach(h=>{if(!s.has(h)){const f=jz(t.get(h),i.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return L.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):UI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):w.resolve(ns());let a=-1,l=s;return o.next(c=>w.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?w.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ce())).next(u=>({batchId:a,changes:Rz(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new L(t)).next(i=>{let r=Nf();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=Nf();return this.indexManager.getCollectionParents(e,r).next(o=>w.forEach(o,a=>{const l=(c=t,u=a.child(r),new qs(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,i).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((a,l)=>{const c=l.getKey();null===s.get(c)&&(s=s.insert(c,vt.newInvalidDocument(c)))});let o=Nf();return s.forEach((a,l)=>{const c=r.get(a);void 0!==c&&Ff(c.mutation,l,xi.empty(),Dt.now()),Rf(t,l)&&(o=o.insert(a,l))}),o})}}class _fe{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return w.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Qt(i.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(i=t).name,query:JI(i.bundledQuery),readTime:Qt(i.readTime)}),w.resolve();var i}}class yfe{constructor(){this.overlays=new Ht(L.comparator),this.ts=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ns();return w.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.re(e,t,s)}),w.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ts.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(i)),w.resolve()}getOverlaysForCollection(e,t,i){const r=ns(),s=t.length+1,o=new L(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return w.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Ht((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let u=s.get(c.largestBatchId);null===u&&(u=ns(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ns(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return w.resolve(a)}re(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.ts.get(r.largestBatchId).delete(i.key);this.ts.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new WI(t,i));let s=this.ts.get(t);void 0===s&&(s=Ce(),this.ts.set(t,s)),this.ts.set(t,s.add(i.key))}}class oT{constructor(){this.es=new st(Sn.ns),this.ss=new st(Sn.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const i=new Sn(e,t);this.es=this.es.add(i),this.ss=this.ss.add(i)}os(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.us(new Sn(e,t))}cs(e,t){e.forEach(i=>this.removeReference(i,t))}hs(e){const t=new L(new Ue([])),i=new Sn(t,e),r=new Sn(t,e+1),s=[];return this.ss.forEachInRange([i,r],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new L(new Ue([])),i=new Sn(t,e),r=new Sn(t,e+1);let s=Ce();return this.ss.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Sn(e,0),i=this.es.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Sn{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return L.comparator(e.key,t.key)||he(e.ds,t.ds)}static rs(e,t){return he(e.ds,t.ds)||L.comparator(e.key,t.key)}}class vfe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new st(Sn.ns)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.ws;this.ws++;const o=new $I(s,t,i,r);this.mutationQueue.push(o);for(const a of r)this._s=this._s.add(new Sn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,t){return w.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ys(t+1),s=r<0?0:r;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Sn(t,0),r=new Sn(t,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([i,r],o=>{const a=this.gs(o.ds);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new st(he);return t.forEach(r=>{const s=new Sn(r,0),o=new Sn(r,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],a=>{i=i.add(a.ds)})}),w.resolve(this.ps(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;L.isDocumentKey(s)||(s=s.child(""));const o=new Sn(new L(s),0);let a=new st(he);return this._s.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.ds)),!0)},o),w.resolve(this.ps(a))}ps(e){const t=[];return e.forEach(i=>{const r=this.gs(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Y(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let i=this._s;return w.forEach(t.mutations,r=>{const s=new Sn(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this._s=i})}En(e){}containsKey(e,t){const i=new Sn(t,0),r=this._s.firstAfterOrEqual(i);return w.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return w.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class bfe{constructor(e){this.Ts=e,this.docs=new Ht(L.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return w.resolve(i?i.document.mutableCopy():vt.newInvalidDocument(t))}getEntries(e,t){let i=Di();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():vt.newInvalidDocument(r))}),w.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Di();const o=t.path,a=new L(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||TI(Gj(u),i)<=0||(r.has(u.key)||Rf(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,t,i,r){z()}Es(e,t){return w.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new wfe(this)}getSize(e){return w.resolve(this.size)}}class wfe extends k${constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Jn.addEntry(e,r)):this.Jn.removeEntry(i)}),w.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class Cfe{constructor(e){this.persistence=e,this.As=new Bo(t=>ll(t),Af),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Rs=0,this.vs=new oT,this.targetCount=0,this.bs=_l.vn()}forEachTarget(e,t){return this.As.forEach((i,r)=>t(r)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Rs&&(this.Rs=t),w.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new _l(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.Sn(t),w.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),w.waitFor(s).next(()=>r)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const i=this.As.get(t)||null;return w.resolve(i)}addMatchingKeys(e,t,i){return this.vs.os(t,i),w.resolve()}removeMatchingKeys(e,t,i){this.vs.cs(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),w.resolve()}getMatchingKeysForTargetId(e,t){const i=this.vs.fs(t);return w.resolve(i)}containsKey(e,t){return w.resolve(this.vs.containsKey(t))}}class L${constructor(e,t){this.Ps={},this.overlays={},this.Vs=new qi(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new Cfe(this),this.indexManager=new afe,this.remoteDocumentCache=new bfe(i=>this.referenceDelegate.Cs(i)),this.serializer=new d$(t),this.xs=new _fe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yfe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ps[e.toKey()];return i||(i=new vfe(t,this.referenceDelegate),this.Ps[e.toKey()]=i),i}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,i){M("MemoryPersistence","Starting transaction:",e);const r=new Efe(this.Vs.next());return this.referenceDelegate.Ns(),i(r).next(s=>this.referenceDelegate.ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Os(e,t){return w.or(Object.values(this.Ps).map(i=>()=>i.containsKey(e,t)))}}class Efe extends Yj{constructor(e){super(),this.currentSequenceNumber=e}}class Xy{constructor(e){this.persistence=e,this.$s=new oT,this.Ms=null}static Fs(e){return new Xy(e)}get Bs(){if(this.Ms)return this.Ms;throw z()}addReference(e,t,i){return this.$s.addReference(i,t),this.Bs.delete(i.toString()),w.resolve()}removeReference(e,t,i){return this.$s.removeReference(i,t),this.Bs.add(i.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),w.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(r=>this.Bs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Bs.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Bs,i=>{const r=L.fromPath(i);return this.Ls(e,r).next(s=>{s||t.removeEntry(r,J.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(i=>{i?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return w.or([()=>w.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class xfe{constructor(e){this.serializer=e}M(e,t,i,r){const s=new Ty("createOrUpgrade",t);var a;i<1&&r>=1&&(e.createObjectStore("owner"),(a=e).createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jj,{unique:!0}),a.createObjectStore("documentMutations"),V$(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=w.resolve();return i<3&&r>=3&&(0!==i&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),V$(e)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:J.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(s))),i<4&&r>=4&&(0!==i&&(o=o.next(()=>function(a,l){return l.store("mutations").j().next(c=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jj,{unique:!0});const u=l.store("mutations"),d=c.map(h=>u.put(h));return w.waitFor(d)})}(e,s))),o=o.next(()=>{!function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(o=o.next(()=>this.qs(s))),i<6&&r>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Us(s)))),i<7&&r>=7&&(o=o.next(()=>this.Ks(s))),i<8&&r>=8&&(o=o.next(()=>this.Gs(e,s))),i<9&&r>=9&&(o=o.next(()=>{!function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(o=o.next(()=>this.Qs(s))),i<11&&r>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(o=o.next(()=>{!function(a){const l=a.createObjectStore("documentOverlays",{keyPath:ohe});l.createIndex("collectionPathOverlayIndex",ahe,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",lhe,{unique:!1})}(e)})),i<13&&r>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:Yde});l.createIndex("documentKeyIndex",Qde),l.createIndex("collectionGroupIndex",Xde)}(e)).next(()=>this.zs(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(o=o.next(()=>this.js(e,s))),i<15&&r>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:nhe}).createIndex("sequenceNumberIndex",ihe,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:rhe}).createIndex("documentKeyIndex",she,{unique:!1})}(e))),o}Us(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=Ky(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>w.forEach(r,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",o).next(a=>w.forEach(a,l=>{Y(l.userId===s.userId);const c=pl(this.serializer,l);return S$(e,s.userId,c).next(()=>{})}))}))}Ks(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((o,a)=>{const l=new Ue(o),c=[0,di(l)];s.push(t.get(c).next(u=>u?w.resolve():t.put({targetId:0,path:di(l),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>w.waitFor(s))})}Gs(e,t){e.createObjectStore("collectionParents",{keyPath:the});const i=t.store("collectionParents"),r=new sT,s=o=>{if(r.add(o)){const a=o.lastSegment(),l=o.popLast();return i.put({collectionId:a,parent:di(l)})}};return t.store("remoteDocuments").Z({Y:!0},(o,a)=>{const l=new Ue(o);return s(l.popLast())}).next(()=>t.store("documentMutations").Z({Y:!0},([o,a,l],c)=>{const u=es(a);return s(u.popLast())}))}Qs(e){const t=e.store("targets");return t.Z((i,r)=>{const s=jf(r),o=f$(this.serializer,s);return t.put(o)})}zs(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((s,o)=>{const a=t.store("remoteDocumentsV14"),l=(c=o,c.document?new L(Ue.fromString(c.document.name).popFirst(5)):c.noDocument?L.fromSegments(c.noDocument.path):c.unknownDocument?L.fromSegments(c.unknownDocument.path):z()).path.toArray();var c;const u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};r.push(a.put(u))}).next(()=>w.waitFor(r))}js(e,t){const i=t.store("mutations"),r=R$(this.serializer),s=new L$(Xy.Fs,this.serializer.se);return i.j().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=null!==(c=a.get(l.userId))&&void 0!==c?c:Ce();pl(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),w.forEach(a,(l,c)=>{const u=new En(c),d=$y.ie(this.serializer,u),h=s.getIndexManager(u),f=Yy.ie(u,this.serializer,h,s.referenceDelegate);return new F$(r,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new kI(t,qi.ct),l).next()})})}}function V$(n){n.createObjectStore("targetDocuments",{keyPath:Jde}).createIndex("documentTargetsIndex",ehe,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Zde,{unique:!0}),n.createObjectStore("targetGlobal")}const aT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class lT{constructor(e,t,i,r,s,o,a,l,c,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Ws=s,this.window=o,this.document=a,this.Hs=c,this.Js=u,this.Ys=d,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=h=>Promise.resolve(),!lT.D())throw new S(E.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ffe(this,r),this.si=t+"main",this.serializer=new d$(l),this.ii=new Mr(this.si,this.Ys,new xfe(this.serializer)),this.Ds=new cfe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=R$(this.serializer),this.xs=new efe,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===u&&Yt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new S(E.FAILED_PRECONDITION,aT);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ds.getHighestSequenceNumber(e))}).then(e=>{this.Vs=new qi(e,this.Hs)}).then(()=>{this.Ss=!0}).catch(e=>(this.ii&&this.ii.close(),Promise.reject(e)))}hi(e){var t=this;return this.ni=function(){var i=m(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ii.B(function(){var t=m(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget(m(function*(){t.started&&(yield t.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Zy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(e).next(t=>{t||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(e)).next(t=>this.isPrimary&&!t?this.di(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(No(e))return M("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return M("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ws.enqueueRetryable(()=>this.ni(e)),this.isPrimary=e})}li(e){return Kf(e).get("owner").next(t=>w.resolve(this._i(t)))}mi(e){return Zy(e).delete(this.clientId)}gi(){var e=this;return m(function*(){if(e.isPrimary&&!e.yi(e.ei,18e5)){e.ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=xn(i,"clientMetadata");return r.j().next(s=>{const o=e.pi(s,18e5),a=s.filter(l=>-1===o.indexOf(l));return w.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.ri)for(const i of t)e.ri.removeItem(e.Ii(i.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.Js?w.resolve(!0):Kf(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)){if(this._i(t)&&this.networkEnabled)return!0;if(!this._i(t)){if(!t.allowTabSynchronization)throw new S(E.FAILED_PRECONDITION,aT);return!1}}return!(!this.networkEnabled||!this.inForeground)||Zy(e).j().next(i=>void 0===this.pi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&M("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return m(function*(){e.Ss=!1,e.Ei(),e.ti&&(e.ti.cancel(),e.ti=null),e.Ai(),e.Ri(),yield e.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new kI(t,qi.ct);return e.di(i).next(()=>e.mi(i))}),e.ii.close(),e.vi()})()}pi(e,t){return e.filter(i=>this.yi(i.updateTimeMs,t)&&!this.Ti(i.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",e=>Zy(e).j().next(t=>this.pi(t,18e5).map(i=>i.clientId)))}get started(){return this.Ss}getMutationQueue(e,t){return Yy.ie(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new lfe(e,this.serializer.se.databaseId)}getDocumentOverlayCache(e){return $y.ie(this.serializer,e)}getBundleCache(){return this.xs}runTransaction(e,t,i){M("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(o=this.Ys)?uhe:14===o?iz:13===o?nz:12===o?che:11===o?tz:void z();var o;let a;return this.ii.runTransaction(e,r,s,l=>(a=new kI(l,this.Vs?this.Vs.next():qi.ct),"readwrite-primary"===t?this.li(a).next(c=>!!c||this.fi(a)).next(c=>{if(!c)throw Yt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new S(E.FAILED_PRECONDITION,Kj);return i(a)}).next(c=>this.wi(a).next(()=>c)):this.Pi(a).next(()=>i(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Pi(e){return Kf(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)&&!this._i(t)&&!(this.Js||this.allowTabSynchronization&&t.allowTabSynchronization))throw new S(E.FAILED_PRECONDITION,aT)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Kf(e).put("owner",t)}static D(){return Mr.D()}di(e){const t=Kf(e);return t.get("owner").next(i=>this._i(i)?(M("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):w.resolve())}yi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Yt(`Detected an update time that is in the future: ${e} > ${i}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ei();const t=/(?:Version|Mobile)\/1[456]/;(function Zre(){return!hx()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")})()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(e){var t;try{const i=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return M("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Yt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){Yt("Failed to set zombie client id.",e)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Kf(n){return xn(n,"owner")}function Zy(n){return xn(n,"clientMetadata")}function cT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class uT{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Vi=i,this.Si=r}static Di(e,t){let i=Ce(),r=Ce();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new uT(e,t.fromCache,i,r)}}class B${constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ni(e,t).next(s=>s||this.ki(e,t,r,i)).next(s=>s||this.Oi(e,t))}Ni(e,t){if(Iz(t))return w.resolve(null);let i=hi(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Fy(t,null,"F"),i=hi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=Ce(...s);return this.xi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.$i(t,a);return this.Mi(t,c,o,l.readTime)?this.Ni(e,Fy(t,null,"F")):this.Fi(e,c,t,l)}))})))}ki(e,t,i,r){return Iz(t)||r.isEqual(J.min())?this.Oi(e,t):this.xi.getDocuments(e,i).next(s=>{const o=this.$i(t,s);return this.Mi(t,o,i,r)?this.Oi(e,t):(DI()<=Le.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jI(t)),this.Fi(e,o,t,Wj(r,-1)))})}$i(e,t){let i=new st(Az(e));return t.forEach((r,s)=>{Rf(e,s)&&(i=i.add(s))}),i}Mi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Oi(e,t){return DI()<=Le.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",jI(t)),this.xi.getDocumentsMatchingQuery(e,t,$i.min())}Fi(e,t,i,r){return this.xi.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Dfe{constructor(e,t,i,r){this.persistence=e,this.Bi=t,this.serializer=r,this.Li=new Ht(he),this.qi=new Bo(s=>ll(s),Af),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(i)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F$(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function U$(n,e,t,i){return new Dfe(n,e,t,i)}function H$(n,e){return dT.apply(this,arguments)}function dT(){return dT=m(function*(n,e){const t=B(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Gi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=Ce();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(i,l).next(c=>({Qi:c,removedBatchIds:o,addedBatchIds:a}))})})}),dT.apply(this,arguments)}function j$(n){const e=B(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function z$(n,e,t){let i=Ce(),r=Ce();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=Di();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(J.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{zi:o,ji:r}})}function Tfe(n,e){const t=B(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function xu(n,e){const t=B(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ds.getTargetData(i,e).next(s=>s?(r=s,w.resolve(r)):t.Ds.allocateTargetId(i).next(o=>(r=new Ho(e,o,0,i.currentSequenceNumber),t.Ds.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Li.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Li=t.Li.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function Du(n,e,t){return hT.apply(this,arguments)}function hT(){return hT=m(function*(n,e,t){const i=B(n),r=i.Li.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!No(o))throw o;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.Li=i.Li.remove(e),i.qi.delete(r.target)}),hT.apply(this,arguments)}function Jy(n,e,t){const i=B(n);let r=J.min(),s=Ce();return i.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=B(a),d=u.qi.get(c);return void 0!==d?w.resolve(u.Li.get(d)):u.Ds.getTargetData(l,c)}(i,o,hi(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Bi.getDocumentsMatchingQuery(o,e,t?r:J.min(),t?s:Ce())).next(a=>(W$(i,Mz(e),a),{documents:a,Wi:s})))}function $$(n,e){const t=B(n),i=B(t.Ds),r=t.Li.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.ne(s,e).next(o=>o?o.target:null))}function q$(n,e){const t=B(n),i=t.Ui.get(e)||J.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Ki.getAllFromCollectionGroup(r,e,Wj(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(W$(t,e,r),r))}function W$(n,e,t){let i=n.Ui.get(e)||J.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ui.set(e,i)}function fT(){return fT=m(function*(n,e,t,i){const r=B(n);let s=Ce(),o=Di();for(const c of t){const u=e.Hi(c.metadata.name);c.document&&(s=s.add(u));const d=e.Ji(c);d.setReadTime(e.Yi(c.metadata.readTime)),o=o.insert(u,d)}const a=r.Ki.newChangeBuffer({trackRemovals:!0}),l=yield xu(r,(c=i,hi(mu(Ue.fromString(`__bundle__/docs/${c}`)))));var c;return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>z$(c,a,o).next(u=>(a.apply(c),u)).next(u=>r.Ds.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.Ds.addMatchingKeys(c,s,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,u.zi,u.ji)).next(()=>u.zi)))}),fT.apply(this,arguments)}function Afe(n,e){return pT.apply(this,arguments)}function pT(){return pT=m(function*(n,e,t=Ce()){const i=yield xu(n,hi(JI(e.bundledQuery))),r=B(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const o=Qt(e.readTime);if(i.snapshotVersion.compareTo(o)>=0)return r.xs.saveNamedQuery(s,e);const a=i.withResumeToken(hn.EMPTY_BYTE_STRING,o);return r.Li=r.Li.insert(a.targetId,a),r.Ds.updateTargetData(s,a).next(()=>r.Ds.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Ds.addMatchingKeys(s,t,i.targetId)).next(()=>r.xs.saveNamedQuery(s,e))})}),pT.apply(this,arguments)}function G$(n,e){return`firestore_clients_${n}_${e}`}function K$(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function mT(n,e){return`firestore_targets_${n}_${e}`}class ev{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let s,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(s=new S(r.error.code,r.error.message))),o?new ev(e,t,r.state,s):(Yt("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yf{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new S(i.error.code,i.error.message))),s?new Yf(e,i.state,r):(Yt("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tv{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=Ly();for(let o=0;r&&o<i.activeTargetIds.length;++o)r=Xj(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new tv(e,s):(Yt("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class gT{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new gT(t.clientId,t.onlineState):(Yt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _T{constructor(){this.activeTargetIds=Ly()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yT{constructor(e,t,i,r,s){this.window=e,this.Ws=t,this.persistenceKey=i,this.nr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new Ht(he),this.started=!1,this.ur=[];const o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.cr=G$(this.persistenceKey,this.nr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.rr=this.rr.insert(this.nr,new _T),this.hr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this._r=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return m(function*(){const t=yield e.syncEngine.bi();for(const r of t){if(r===e.nr)continue;const s=e.getItem(G$(e.persistenceKey,r));if(s){const o=tv.Zi(r,s);o&&(e.rr=e.rr.insert(o.clientId,o))}}e.mr();const i=e.storage.getItem(e.wr);if(i){const r=e.gr(i);r&&e.yr(r)}for(const r of e.ur)e.ir(r);e.ur=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(e){let t=!1;return this.rr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ir(e,"pending")}updateMutationState(e,t,i){this.Ir(e,t,i),this.Tr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(mT(this.persistenceKey,e));if(i){const r=Yf.Zi(e,i);r&&(t=r.state)}}return this.Er.tr(e),this.mr(),t}removeLocalQueryTarget(e){this.Er.er(e),this.mr()}isLocalQueryTarget(e){return this.Er.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(mT(this.persistenceKey,e))}updateQueryState(e,t,i){this.Ar(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Tr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Rr(e)}notifyBundleLoaded(e){this.vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return M("SharedClientState","READ",e,t),t}setItem(e,t){M("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){M("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ir(e){var t=this;const i=e;if(i.storageArea===this.storage){if(M("SharedClientState","EVENT",i.key,i.newValue),i.key===this.cr)return void Yt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable(m(function*(){if(t.started){if(null!==i.key)if(t.hr.test(i.key)){if(null==i.newValue){const r=t.br(i.key);return t.Pr(r,null)}{const r=t.Vr(i.key,i.newValue);if(r)return t.Pr(r.clientId,r)}}else if(t.lr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Cr(i.key,i.newValue);if(r)return t.Nr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.gr(i.newValue);if(r)return t.yr(r)}}else if(i.key===t.ar){const r=function(s){let o=qi.ct;if(null!=s)try{const a=JSON.parse(s);Y("number"==typeof a),o=a}catch(a){Yt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(i.newValue);r!==qi.ct&&t.sequenceNumberHandler(r)}else if(i.key===t._r){const r=t.kr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Or(s)))}}else t.ur.push(i)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(e,t,i){const r=new ev(this.currentUser,e,t,i),s=K$(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Xi())}Tr(e){const t=K$(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Rr(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.nr,onlineState:e}))}Ar(e,t,i){const r=mT(this.persistenceKey,e),s=new Yf(e,t,i);this.setItem(r,s.Xi())}vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}br(e){const t=this.hr.exec(e);return t?t[1]:null}Vr(e,t){const i=this.br(e);return tv.Zi(i,t)}Sr(e,t){const i=this.lr.exec(e),r=Number(i[1]);return ev.Zi(new En(void 0!==i[2]?i[2]:null),r,t)}Cr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return Yf.Zi(r,t)}gr(e){return gT.Zi(e)}kr(e){return JSON.parse(e)}Dr(e){var t=this;return m(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);M("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Nr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}Pr(e,t){const i=t?this.rr.insert(e,t):this.rr.remove(e),r=this.pr(this.rr),s=this.pr(i),o=[],a=[];return s.forEach(l=>{r.has(l)||o.push(l)}),r.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Fr(o,a).then(()=>{this.rr=i})}yr(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}pr(e){let t=Ly();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class Y${constructor(){this.Br=new _T,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,i){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new _T,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kfe{qr(e){}shutdown(){}}class Q${constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let nv=null;function vT(){return null===nv?nv=268435456+Math.round(2147483648*Math.random()):nv++,"0x"+nv.toString(16)}const Rfe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Nfe{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const Zn="WebChannelConnection";class Ofe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,i,r,s){const o=vT(),a=this.ao(e,t);M("RestConnection",`Sending RPC '${e}' ${o}:`,a,i);const l={};return this.ho(l,r,s),this.lo(e,a,l,i).then(c=>(M("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Jr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",i),c})}fo(e,t,i,r,s,o){return this.co(e,t,i,r,s)}ho(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+cu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ao(e,t){return`${this.ro}/v1/${t}:${Rfe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,i,r){const s=vT();return new Promise((o,a)=>{const l=new Ade;l.setWithCredentials(!0),l.listenOnce(Ide.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xI.NO_ERROR:const u=l.getResponseJson();M(Zn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case xI.TIMEOUT:M(Zn,`RPC '${e}' ${s} timed out`),a(new S(E.DEADLINE_EXCEEDED,"Request time out"));break;case xI.HTTP_ERROR:const d=l.getStatus();if(M(Zn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const _=g.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(_)>=0?_:E.UNKNOWN}(f.status);a(new S(p,f.message))}else a(new S(E.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new S(E.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{M(Zn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(r);M(Zn,`RPC '${e}' ${s} sending request:`,r),l.send(t,"POST",c,i,15)})}wo(e,t,i){const r=vT(),s=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Dde(),a=Sde(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new Mde({})),this.ho(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const c=s.join("");M(Zn,`Creating RPC '${e}' stream ${r}: ${c}`,l);const u=o.createWebChannel(c,l);let d=!1,h=!1;const f=new Nfe({Wr:g=>{h?M(Zn,`Not sending because RPC '${e}' stream ${r} is closed:`,g):(d||(M(Zn,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),M(Zn,`RPC '${e}' stream ${r} sending:`,g),u.send(g))},Hr:()=>u.close()}),p=(g,_,v)=>{g.listen(_,x=>{try{v(x)}catch(b){setTimeout(()=>{throw b},0)}})};return p(u,Dy.EventType.OPEN,()=>{h||M(Zn,`RPC '${e}' stream ${r} transport opened.`)}),p(u,Dy.EventType.CLOSE,()=>{h||(h=!0,M(Zn,`RPC '${e}' stream ${r} transport closed`),f.so())}),p(u,Dy.EventType.ERROR,g=>{h||(h=!0,Jr(Zn,`RPC '${e}' stream ${r} transport errored:`,g),f.so(new S(E.UNAVAILABLE,"The operation could not be completed")))}),p(u,Dy.EventType.MESSAGE,g=>{var _;if(!h){const v=g.data[0];Y(!!v);const b=v.error||(null===(_=v[0])||void 0===_?void 0:_.error);if(b){M(Zn,`RPC '${e}' stream ${r} received error:`,b);const O=b.status;let Q=function(ze){const rn=en[ze];if(void 0!==rn)return Kz(rn)}(O),G=b.message;void 0===Q&&(Q=E.INTERNAL,G="Unknown error status: "+O+" with message "+b.message),h=!0,f.so(new S(Q,G)),u.close()}else M(Zn,`RPC '${e}' stream ${r} received:`,v),f.io(v)}}),p(a,Tde.STAT_EVENT,g=>{g.stat===Uj.PROXY?M(Zn,`RPC '${e}' stream ${r} detected buffering proxy`):g.stat===Uj.NOPROXY&&M(Zn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.no()},0),f}}function X$(){return typeof window<"u"?window:null}function iv(){return typeof document<"u"?document:null}function Qf(n){return new zhe(n,!0)}class bT{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Ws=e,this.timerId=t,this._o=i,this.mo=r,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,t-i);r>0&&M("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Z${constructor(e,t,i,r,s,o,a,l){this.Ws=e,this.bo=i,this.Po=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new bT(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return m(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return m(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var i=this;return m(function*(){i.Bo(),i.Lo(),i.Co.cancel(),i.Vo++,4!==e?i.Co.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(Yt(t.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),i.Co.Eo()):t&&t.code===E.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Vo===t&&this.Ko(i,r)},i=>{e(()=>{const r=new S(E.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Go(r)})})}Ko(e,t){const i=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{i(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(r=>{i(()=>this.Go(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}ko(){var e=this;this.state=5,this.Co.Ao(m(function*(){e.state=0,e.start()}))}Go(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pfe extends Z${constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function Whe(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:z(),r=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(Y(void 0===c||"string"==typeof c),hn.fromBase64String(c||"")):(Y(void 0===c||c instanceof Uint8Array),hn.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?E.UNKNOWN:Kz(l.code);return new S(c,l.message||"")}(o);t=new Qz(i,r,s,a||null)}else if("documentChange"in e){const i=e.documentChange,r=is(n,i.document.name),s=Qt(i.document.updateTime),o=i.document.createTime?Qt(i.document.createTime):J.min(),a=new Dn({mapValue:{fields:i.document.fields}}),l=vt.newFoundDocument(r,s,o,a);t=new jy(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const i=e.documentDelete,r=is(n,i.document),s=i.readTime?Qt(i.readTime):J.min(),o=vt.newNoDocument(r,s);t=new jy([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const i=e.documentRemove,r=is(n,i.document);t=new jy([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return z();{const i=e.filter,s=new Vhe(i.count||0);t=new Yz(i.targetId,s)}}var l;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return J.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?Qt(s.readTime):J.min()}(e);return this.listener.zo(t,i)}jo(e){const t={};t.database=Uf(this.serializer),t.addTarget=function(r,s){let o;const a=s.target;return o=Ny(a)?{documents:o$(r,a)}:{query:ZI(r,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=e$(r,s.resumeToken):s.snapshotVersion.compareTo(J.min())>0&&(o.readTime=bu(r,s.snapshotVersion.toTimestamp())),o}(this.serializer,e);const i=function Khe(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return z()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Fo(t)}Wo(e){const t={};t.database=Uf(this.serializer),t.removeTarget=e,this.Fo(t)}}class Ffe extends Z${constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function Ghe(n,e){return n&&n.length>0?(Y(void 0!==e),n.map(t=>function(i,r){let s=Qt(i.updateTime?i.updateTime:r);return s.isEqual(J.min())&&(s=Qt(r)),new Nhe(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Qt(e.commitTime);return this.listener.Zo(i,t)}return Y(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=Uf(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Hf(this.serializer,i))};this.Fo(t)}}class Lfe extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.eu=!1}nu(){if(this.eu)throw new S(E.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.co(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new S(E.UNKNOWN,r.toString())})}fo(e,t,i,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(e,t,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new S(E.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class Bfe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Yt(t),this.ru=!1):M("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class Ufe{constructor(e,t,i,r,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(a=>{i.enqueueAndForget(m(function*(){var l;Gs(o)&&(M("RemoteStore","Restarting streams for network reachability change."),yield(l=m(function*(c){const u=B(c);u.du.add(4),yield Su(u),u.mu.set("Unknown"),u.du.delete(4),yield Xf(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.mu=new Bfe(i,r)}}function Xf(n){return CT.apply(this,arguments)}function CT(){return CT=m(function*(n){if(Gs(n))for(const e of n.wu)yield e(!0)}),CT.apply(this,arguments)}function Su(n){return ET.apply(this,arguments)}function ET(){return ET=m(function*(n){for(const e of n.wu)yield e(!1)}),ET.apply(this,arguments)}function rv(n,e){const t=B(n);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),ST(t)?DT(t):Tu(t).No()&&xT(t,e))}function Zf(n,e){const t=B(n),i=Tu(t);t.fu.delete(e),i.No()&&J$(t,e),0===t.fu.size&&(i.No()?i.$o():Gs(t)&&t.mu.set("Unknown"))}function xT(n,e){n.gu.Ot(e.targetId),Tu(n).jo(e)}function J$(n,e){n.gu.Ot(e),Tu(n).Wo(e)}function DT(n){n.gu=new Bhe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.fu.get(e)||null}),Tu(n).start(),n.mu.ou()}function ST(n){return Gs(n)&&!Tu(n).xo()&&n.fu.size>0}function Gs(n){return 0===B(n).du.size}function e3(n){n.gu=void 0}function Hfe(n){return IT.apply(this,arguments)}function IT(){return IT=m(function*(n){n.fu.forEach((e,t)=>{xT(n,e)})}),IT.apply(this,arguments)}function jfe(n,e){return TT.apply(this,arguments)}function TT(){return TT=m(function*(n,e){e3(n),ST(n)?(n.mu.au(e),DT(n)):n.mu.set("Unknown")}),TT.apply(this,arguments)}function zfe(n,e,t){return MT.apply(this,arguments)}function MT(){return MT=m(function*(n,e,t){if(n.mu.set("Online"),e instanceof Qz&&2===e.state&&e.cause)try{yield(i=m(function*(r,s){const o=s.cause;for(const a of s.targetIds)r.fu.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.fu.delete(a),r.gu.removeTarget(a))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield sv(n,i)}else if(e instanceof jy?n.gu.Kt(e):e instanceof Yz?n.gu.Jt(e):n.gu.zt(e),!t.isEqual(J.min()))try{const i=yield j$(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const o=r.gu.Xt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.fu.get(l);c&&r.fu.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=r.fu.get(a);if(!l)return;r.fu.set(a,l.withResumeToken(hn.EMPTY_BYTE_STRING,l.snapshotVersion)),J$(r,a);const c=new Ho(l.target,a,1,l.sequenceNumber);xT(r,c)}),r.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(i){M("RemoteStore","Failed to raise snapshot:",i),yield sv(n,i)}var i}),MT.apply(this,arguments)}function sv(n,e,t){return AT.apply(this,arguments)}function AT(){return AT=m(function*(n,e,t){if(!No(e))throw e;n.du.add(1),yield Su(n),n.mu.set("Offline"),t||(t=()=>j$(n.localStore)),n.asyncQueue.enqueueRetryable(m(function*(){M("RemoteStore","Retrying IndexedDB access"),yield t(),n.du.delete(1),yield Xf(n)}))}),AT.apply(this,arguments)}function t3(n,e){return e().catch(t=>sv(n,t,e))}function Iu(n){return kT.apply(this,arguments)}function kT(){return kT=m(function*(n){const e=B(n),t=qo(e);let i=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;$fe(e);)try{const r=yield Tfe(e.localStore,i);if(null===r){0===e.lu.length&&t.$o();break}i=r.batchId,qfe(e,r)}catch(r){yield sv(e,r)}n3(e)&&r3(e)}),kT.apply(this,arguments)}function $fe(n){return Gs(n)&&n.lu.length<10}function qfe(n,e){n.lu.push(e);const t=qo(n);t.No()&&t.Jo&&t.Yo(e.mutations)}function n3(n){return Gs(n)&&!qo(n).xo()&&n.lu.length>0}function r3(n){qo(n).start()}function Wfe(n){return RT.apply(this,arguments)}function RT(){return RT=m(function*(n){qo(n).tu()}),RT.apply(this,arguments)}function Gfe(n){return NT.apply(this,arguments)}function NT(){return NT=m(function*(n){const e=qo(n);for(const t of n.lu)e.Yo(t.mutations)}),NT.apply(this,arguments)}function Kfe(n,e,t){return OT.apply(this,arguments)}function OT(){return OT=m(function*(n,e,t){const i=n.lu.shift(),r=qI.from(i,e,t);yield t3(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Iu(n)}),OT.apply(this,arguments)}function Yfe(n,e){return PT.apply(this,arguments)}function PT(){return PT=m(function*(n,e){var t;e&&qo(n).Jo&&(yield(t=m(function*(i,r){if(Gz(s=r.code)&&s!==E.ABORTED){const o=i.lu.shift();qo(i).Oo(),yield t3(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Iu(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),n3(n)&&r3(n)}),PT.apply(this,arguments)}function s3(n,e){return FT.apply(this,arguments)}function FT(){return FT=m(function*(n,e){const t=B(n);t.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const i=Gs(t);t.du.add(3),yield Su(t),i&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield Xf(t)}),FT.apply(this,arguments)}function LT(n,e){return VT.apply(this,arguments)}function VT(){return VT=m(function*(n,e){const t=B(n);e?(t.du.delete(2),yield Xf(t)):e||(t.du.add(2),yield Su(t),t.mu.set("Unknown"))}),VT.apply(this,arguments)}function Tu(n){return n.yu||(n.yu=function(e,t,i){const r=B(e);return r.nu(),new Pfe(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{Jr:Hfe.bind(null,n),Zr:jfe.bind(null,n),zo:zfe.bind(null,n)}),n.wu.push(function(){var e=m(function*(t){t?(n.yu.Oo(),ST(n)?DT(n):n.mu.set("Unknown")):(yield n.yu.stop(),e3(n))});return function(t){return e.apply(this,arguments)}}())),n.yu}function qo(n){return n.pu||(n.pu=function(e,t,i){const r=B(e);return r.nu(),new Ffe(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{Jr:Wfe.bind(null,n),Zr:Yfe.bind(null,n),Xo:Gfe.bind(null,n),Zo:Kfe.bind(null,n)}),n.wu.push(function(){var e=m(function*(t){t?(n.pu.Oo(),yield Iu(n)):(yield n.pu.stop(),n.lu.length>0&&(M("RemoteStore",`Stopping write stream with ${n.lu.length} pending writes`),n.lu=[]))});return function(t){return e.apply(this,arguments)}}())),n.pu}class BT{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,i,r,s){const o=Date.now()+i,a=new BT(e,t,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mu(n,e){if(Yt("AsyncQueue",`${e}: ${n}`),No(n))return new S(E.UNAVAILABLE,`${e}: ${n}`);throw n}class Au{constructor(e){this.comparator=e?(t,i)=>e(t,i)||L.comparator(t.key,i.key):(t,i)=>L.comparator(t.key,i.key),this.keyedMap=Nf(),this.sortedSet=new Ht(this.comparator)}static emptySet(e){return new Au(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Au)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Au;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class o3{constructor(){this.Iu=new Ht(L.comparator)}track(e){const t=e.doc.key,i=this.Iu.get(t);i?0!==e.type&&3===i.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==i.type?this.Iu=this.Iu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Iu=this.Iu.remove(t):1===e.type&&2===i.type?this.Iu=this.Iu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):z():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,i)=>{e.push(i)}),e}}class ku{constructor(e,t,i,r,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new ku(e,t,Au.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Qfe{constructor(){this.Eu=void 0,this.listeners=[]}}class Xfe{constructor(){this.queries=new Bo(e=>Tz(e),kf),this.onlineState="Unknown",this.Au=new Set}}function UT(n,e){return HT.apply(this,arguments)}function HT(){return HT=m(function*(n,e){const t=B(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new Qfe),r)try{s.Eu=yield t.onListen(i)}catch(o){const a=Mu(o,`Initialization of query '${jI(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.listeners.push(e),e.Ru(t.onlineState),s.Eu&&e.vu(s.Eu)&&$T(t)}),HT.apply(this,arguments)}function jT(n,e){return zT.apply(this,arguments)}function zT(){return zT=m(function*(n,e){const t=B(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),zT.apply(this,arguments)}function Zfe(n,e){const t=B(n);let i=!1;for(const r of e){const o=t.queries.get(r.query);if(o){for(const a of o.listeners)a.vu(r)&&(i=!0);o.Eu=r}}i&&$T(t)}function Jfe(n,e,t){const i=B(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function $T(n){n.Au.forEach(e=>{e.next()})}class qT{constructor(e,t,i){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}vu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new ku(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=ku.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class epe{constructor(e,t){this.Nu=e,this.byteLength=t}ku(){return"metadata"in this.Nu}}class a3{constructor(e){this.serializer=e}Hi(e){return is(this.serializer,e)}Ji(e){return e.metadata.exists?s$(this.serializer,e.document,!1):vt.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}Yi(e){return Qt(e)}}class tpe{constructor(e,t,i){this.Ou=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=l3(e)}$u(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;const i=Ue.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,i=new a3(this.serializer);for(const r of e)if(r.metadata.queries){const s=i.Hi(r.metadata.name);for(const o of r.metadata.queries){const a=(t.get(o)||Ce()).add(s);t.set(o,a)}}return t}complete(){var e=this;return m(function*(){const t=yield function Mfe(n,e,t,i){return fT.apply(this,arguments)}(e.localStore,new a3(e.serializer),e.documents,e.Ou.id),i=e.Mu(e.documents);for(const r of e.queries)yield Afe(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Fu:e.collectionGroups,Bu:t}})()}}function l3(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class c3{constructor(e){this.key=e}}class u3{constructor(e){this.key=e}}class d3{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=Ce(),this.mutatedKeys=Ce(),this.Ku=Az(e),this.Gu=new Au(this.Ku)}get Qu(){return this.Lu}zu(e,t){const i=t?t.ju:new o3,r=t?t.Gu:this.Gu;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const h=r.get(u),f=Rf(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(i.track({type:3,doc:f}),_=!0):this.Wu(h,f)||(i.track({type:2,doc:f}),_=!0,(l&&this.Ku(f,l)>0||c&&this.Ku(f,c)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),_=!0):h&&!f&&(i.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{Gu:o,ju:i,Mi:a,mutatedKeys:s}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.ju.Tu();s.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return f(d)-f(h)}(c.type,u.type)||this.Ku(c.doc,u.doc)),this.Hu(i);const o=t?this.Ju():[],a=0===this.Uu.size&&this.current?1:0,l=a!==this.qu;return this.qu=a,0!==s.length||l?{snapshot:new ku(this.query,e.Gu,r,s,e.mutatedKeys,0===a,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new o3,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=Ce(),this.Gu.forEach(i=>{this.Zu(i.key)&&(this.Uu=this.Uu.add(i.key))});const t=[];return e.forEach(i=>{this.Uu.has(i)||t.push(new u3(i))}),this.Uu.forEach(i=>{e.has(i)||t.push(new c3(i))}),t}Xu(e){this.Lu=e.Wi,this.Uu=Ce();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return ku.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class npe{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class ipe{constructor(e){this.key=e,this.ec=!1}}class rpe{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Bo(a=>Tz(a),kf),this.ic=new Map,this.rc=new Set,this.oc=new Ht(L.comparator),this.uc=new Map,this.cc=new oT,this.ac={},this.hc=new Map,this.lc=_l.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function spe(n,e){return WT.apply(this,arguments)}function WT(){return WT=m(function*(n,e){const t=mM(n);let i,r;const s=t.sc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.tc();else{const o=yield xu(t.localStore,hi(e));t.isPrimaryClient&&rv(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield GT(t,e,i,"current"===a,o.resumeToken)}return r}),WT.apply(this,arguments)}function GT(n,e,t,i,r){return KT.apply(this,arguments)}function KT(){return KT=m(function*(n,e,t,i,r){n.dc=(d,h,f)=>{return(p=m(function*(g,_,v,x){let b=_.view.zu(v);b.Mi&&(b=yield Jy(g.localStore,_.query,!1).then(({documents:G})=>_.view.zu(G,b)));const O=x&&x.targetChanges.get(_.targetId),Q=_.view.applyChanges(b,g.isPrimaryClient,O);return rM(g,_.targetId,Q.Yu),Q.snapshot}),function(g,_,v,x){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield Jy(n.localStore,e,!0),o=new d3(e,s.Wi),a=o.zu(s.documents),l=Vf.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),c=o.applyChanges(a,n.isPrimaryClient,l);rM(n,t,c.Yu);const u=new npe(e,t,o);return n.sc.set(e,u),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),c.snapshot}),KT.apply(this,arguments)}function ope(n,e){return YT.apply(this,arguments)}function YT(){return YT=m(function*(n,e){const t=B(n),i=t.sc.get(e),r=t.ic.get(i.targetId);if(r.length>1)return t.ic.set(i.targetId,r.filter(s=>!kf(s,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Du(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Zf(t.remoteStore,i.targetId),Ru(t,i.targetId)}).catch(Ro))):(Ru(t,i.targetId),yield Du(t.localStore,i.targetId,!0))}),YT.apply(this,arguments)}function QT(){return QT=m(function*(n,e,t){const i=gM(n);try{const r=yield function(s,o){const a=B(s),l=Dt.now(),c=o.reduce((h,f)=>h.add(f.key),Ce());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Di(),p=Ce();return a.Ki.getEntries(h,c).next(g=>{f=g,f.forEach((_,v)=>{v.isValidDocument()||(p=p.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{u=g;const _=[];for(const v of o){const x=Phe(v,u.get(v.key).overlayedDocument);null!=x&&_.push(new Ws(v.key,x,pz(x.value.mapValue),St.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,_,o)}).next(g=>{d=g;const _=g.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,_)})}).then(()=>({batchId:d.batchId,changes:Rz(u)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new Ht(he)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(i,r.batchId,t),yield Ks(i,r.changes),yield Iu(i.remoteStore)}catch(r){const s=Mu(r,"Failed to persist write");t.reject(s)}}),QT.apply(this,arguments)}function h3(n,e){return XT.apply(this,arguments)}function XT(){return XT=m(function*(n,e){const t=B(n);try{const i=yield function Ife(n,e){const t=B(n),i=e.snapshotVersion;let r=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Ki.newChangeBuffer({trackRemovals:!0});r=t.Li;const a=[];e.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(t.Ds.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.Ds.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,_;e.targetMismatches.has(d)?f=f.withResumeToken(hn.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),g=f,_=u,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(t.Ds.updateTargetData(s,f))});let l=Di(),c=Ce();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(z$(s,o,e.documentUpdates).next(u=>{l=u.zi,c=u.ji})),!i.isEqual(J.min())){const u=t.Ds.getLastRemoteSnapshotVersion(s).next(d=>t.Ds.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Li=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const o=t.uc.get(s);o&&(Y(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.ec=!0:r.modifiedDocuments.size>0?Y(o.ec):r.removedDocuments.size>0&&(Y(o.ec),o.ec=!1))}),yield Ks(t,i,e)}catch(i){yield Ro(i)}}),XT.apply(this,arguments)}function f3(n,e,t){const i=B(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.sc.forEach((s,o)=>{const a=o.view.Ru(e);a.snapshot&&r.push(a.snapshot)}),function(s,o){const a=B(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Ru(o)&&(l=!0)}),l&&$T(a)}(i.eventManager,e),r.length&&i.nc.zo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function lpe(n,e,t){return ZT.apply(this,arguments)}function ZT(){return ZT=m(function*(n,e,t){const i=B(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.uc.get(e),s=r&&r.key;if(s){let o=new Ht(L.comparator);o=o.insert(s,vt.newNoDocument(s,J.min()));const a=Ce().add(s),l=new Lf(J.min(),new Map,new st(he),o,a);yield h3(i,l),i.oc=i.oc.remove(s),i.uc.delete(e),sM(i)}else yield Du(i.localStore,e,!1).then(()=>Ru(i,e,t)).catch(Ro)}),ZT.apply(this,arguments)}function cpe(n,e){return JT.apply(this,arguments)}function JT(){return JT=m(function*(n,e){const t=B(n),i=e.batch.batchId;try{const r=yield function Sfe(n,e){const t=B(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Ki.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=l.docVersions.get(f);Y(null!==g),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let a=Ce();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);iM(t,i,null),nM(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ks(t,r)}catch(r){yield Ro(r)}}),JT.apply(this,arguments)}function upe(n,e,t){return eM.apply(this,arguments)}function eM(){return eM=m(function*(n,e,t){const i=B(n);try{const r=yield function(s,o){const a=B(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(Y(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(i.localStore,e);iM(i,e,t),nM(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ks(i,r)}catch(r){yield Ro(r)}}),eM.apply(this,arguments)}function tM(){return tM=m(function*(n,e){const t=B(n);Gs(t.remoteStore)||M("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const o=B(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(t.localStore);if(-1===i)return void e.resolve();const r=t.hc.get(i)||[];r.push(e),t.hc.set(i,r)}catch(i){const r=Mu(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),tM.apply(this,arguments)}function nM(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function iM(n,e,t){const i=B(n);let r=i.ac[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.ac[i.currentUser.toKey()]=r}}function Ru(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ic.get(e))n.sc.delete(i),t&&n.nc.wc(i,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.hs(e).forEach(i=>{n.cc.containsKey(i)||p3(n,i)})}function p3(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(Zf(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),sM(n))}function rM(n,e,t){for(const i of t)i instanceof c3?(n.cc.addReference(i.key,e),hpe(n,i)):i instanceof u3?(M("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,e),n.cc.containsKey(i.key)||p3(n,i.key)):z()}function hpe(n,e){const t=e.key,i=t.path.canonicalString();n.oc.get(t)||n.rc.has(i)||(M("SyncEngine","New document in limbo: "+t),n.rc.add(i),sM(n))}function sM(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new L(Ue.fromString(e)),i=n.lc.next();n.uc.set(i,new ipe(t)),n.oc=n.oc.insert(t,i),rv(n.remoteStore,new Ho(hi(mu(t.path)),i,2,qi.ct))}}function Ks(n,e,t){return oM.apply(this,arguments)}function oM(){return oM=m(function*(n,e,t){const i=B(n),r=[],s=[],o=[];var a;i.sc.isEmpty()||(i.sc.forEach((a,l)=>{o.push(i.dc(l,e,t).then(c=>{if((c||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const u=uT.Di(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),i.nc.zo(r),yield(a=m(function*(l,c){const u=B(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Vi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Si,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!No(d))throw d;M("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.Li.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Li=u.Li.insert(h,g)}}}),function(l,c){return a.apply(this,arguments)})(i.localStore,s))}),oM.apply(this,arguments)}function fpe(n,e){return aM.apply(this,arguments)}function aM(){return aM=m(function*(n,e){const t=B(n);if(!t.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const i=yield H$(t.localStore,e);t.currentUser=e,(r=t).hc.forEach(o=>{o.forEach(a=>{a.reject(new S(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ks(t,i.Qi)}var r}),aM.apply(this,arguments)}function ppe(n,e){const t=B(n),i=t.uc.get(e);if(i&&i.ec)return Ce().add(i.key);{let r=Ce();const s=t.ic.get(e);if(!s)return r;for(const o of s){const a=t.sc.get(o);r=r.unionWith(a.view.Qu)}return r}}function mpe(n,e){return lM.apply(this,arguments)}function lM(){return lM=m(function*(n,e){const t=B(n),i=yield Jy(t.localStore,e.query,!0),r=e.view.Xu(i);return t.isPrimaryClient&&rM(t,e.targetId,r.Yu),r}),lM.apply(this,arguments)}function gpe(n,e){return cM.apply(this,arguments)}function cM(){return cM=m(function*(n,e){const t=B(n);return q$(t.localStore,e).then(i=>Ks(t,i))}),cM.apply(this,arguments)}function _pe(n,e,t,i){return uM.apply(this,arguments)}function uM(){return uM=m(function*(n,e,t,i){const r=B(n),s=yield function(o,a){const l=B(o),c=B(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",u=>c.In(u,a).next(d=>d?l.localDocuments.getDocuments(u,d):w.resolve(null)))}(r.localStore,e);var a;null!==s?("pending"===t?yield Iu(r.remoteStore):"acknowledged"===t||"rejected"===t?(iM(r,e,i||null),nM(r,e),a=e,B(B(r.localStore).mutationQueue).En(a)):z(),yield Ks(r,s)):M("SyncEngine","Cannot apply mutation batch with id: "+e)}),uM.apply(this,arguments)}function dM(){return dM=m(function*(n,e){const t=B(n);if(mM(t),gM(t),!0===e&&!0!==t.fc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield m3(t,i.toArray());t.fc=!0,yield LT(t.remoteStore,!0);for(const s of r)rv(t.remoteStore,s)}else if(!1===e&&!1!==t.fc){const i=[];let r=Promise.resolve();t.ic.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?i.push(o):r=r.then(()=>(Ru(t,o),Du(t.localStore,o,!0))),Zf(t.remoteStore,o)}),yield r,yield m3(t,i),function(s){const o=B(s);o.uc.forEach((a,l)=>{Zf(o.remoteStore,l)}),o.cc.ls(),o.uc=new Map,o.oc=new Ht(L.comparator)}(t),t.fc=!1,yield LT(t.remoteStore,!1)}}),dM.apply(this,arguments)}function m3(n,e,t){return hM.apply(this,arguments)}function hM(){return hM=m(function*(n,e,t){const i=B(n),r=[],s=[];for(const o of e){let a;const l=i.ic.get(o);if(l&&0!==l.length){a=yield xu(i.localStore,hi(l[0]));for(const c of l){const u=i.sc.get(c),d=yield mpe(i,u);d.snapshot&&s.push(d.snapshot)}}else{const c=yield $$(i.localStore,o);a=yield xu(i.localStore,c),yield GT(i,g3(c),o,!1,a.resumeToken)}r.push(a)}return i.nc.zo(s),r}),hM.apply(this,arguments)}function g3(n){return Sz(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function vpe(n){const e=B(n);return B(B(e.localStore).persistence).bi()}function bpe(n,e,t,i){return fM.apply(this,arguments)}function fM(){return fM=m(function*(n,e,t,i){const r=B(n);if(r.fc)return void M("SyncEngine","Ignoring unexpected query state notification.");const s=r.ic.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield q$(r.localStore,Mz(s[0])),a=Lf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,hn.EMPTY_BYTE_STRING);yield Ks(r,o,a);break}case"rejected":yield Du(r.localStore,e,!0),Ru(r,e,i);break;default:z()}}),fM.apply(this,arguments)}function wpe(n,e,t){return pM.apply(this,arguments)}function pM(){return pM=m(function*(n,e,t){const i=mM(n);if(i.fc){for(const r of e){if(i.ic.has(r)){M("SyncEngine","Adding an already active target "+r);continue}const s=yield $$(i.localStore,r),o=yield xu(i.localStore,s);yield GT(i,g3(s),o.targetId,!1,o.resumeToken),rv(i.remoteStore,o)}for(const r of t)i.ic.has(r)&&(yield Du(i.localStore,r,!1).then(()=>{Zf(i.remoteStore,r),Ru(i,r)}).catch(Ro))}}),pM.apply(this,arguments)}function mM(n){const e=B(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=h3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ppe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lpe.bind(null,e),e.nc.zo=Zfe.bind(null,e.eventManager),e.nc.wc=Jfe.bind(null,e.eventManager),e}function gM(n){const e=B(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cpe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=upe.bind(null,e),e}class ov{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return m(function*(){t.serializer=Qf(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return U$(this.persistence,new B$,e.initialUser,this.serializer)}createPersistence(e){return new L$(Xy.Fs,this.serializer)}createSharedClientState(e){return new Y$}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _M extends ov{constructor(e,t,i){super(),this.mc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return m(function*(){yield t().call(i,e),yield i.mc.initialize(i,e),yield gM(i.mc.syncEngine),yield Iu(i.mc.remoteStore),yield i.persistence.hi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return U$(this.persistence,new B$,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new dfe(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new Wde(t,this.persistence);return new qde(e.asyncQueue,i)}createPersistence(e){const t=cT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Si.withCacheSize(this.cacheSizeBytes):Si.DEFAULT;return new lT(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,X$(),iv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Y$}}class _3 extends _M{constructor(e,t){super(e,t,!1),this.mc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return m(function*(){yield t().call(i,e);const r=i.mc.syncEngine;i.sharedClientState instanceof yT&&(i.sharedClientState.syncEngine={$r:_pe.bind(null,r),Mr:bpe.bind(null,r),Fr:wpe.bind(null,r),bi:vpe.bind(null,r),Or:gpe.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.hi(function(){var s=m(function*(o){yield function ype(n,e){return dM.apply(this,arguments)}(i.mc.syncEngine,o),i.gcScheduler&&(o&&!i.gcScheduler.started?i.gcScheduler.start():o||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(o&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():o||i.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=X$();if(!yT.D(t))throw new S(E.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=cT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yT(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Nu{initialize(e,t){var i=this;return m(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>f3(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=fpe.bind(null,i.syncEngine),yield LT(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Xfe}createDatastore(e){const t=Qf(e.databaseInfo.databaseId),i=new Ofe(e.databaseInfo);return new Lfe(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=a=>f3(this.syncEngine,a,0),o=Q$.D()?new Q$:new kfe,new Ufe(t,i,r,s,o);var t,i,r,s,o}createSyncEngine(e,t){return function(i,r,s,o,a,l,c){const u=new rpe(i,r,s,o,a,l);return c&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=m(function*(t){const i=B(t);M("RemoteStore","RemoteStore shutting down."),i.du.add(5),yield Su(i),i._u.shutdown(),i.mu.set("Unknown")});return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}function y3(n,e=10240){let t=0;return{read:()=>m(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>m(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class av{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):Yt("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Epe{constructor(e,t){this.Ic=e,this.serializer=t,this.metadata=new dn,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(i=>{i&&i.ku()?this.metadata.resolve(i.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Nu)}`))},i=>this.metadata.reject(i))}close(){return this.Ic.cancel()}getMetadata(){var e=this;return m(function*(){return e.metadata.promise})()}_c(){var e=this;return m(function*(){return yield e.getMetadata(),e.Ec()})()}Ec(){var e=this;return m(function*(){const t=yield e.Ac();if(null===t)return null;const i=e.Tc.decode(t),r=Number(i);isNaN(r)&&e.Rc(`length string (${i}) is not valid number`);const s=yield e.vc(r);return new epe(JSON.parse(s),t.length+r)})()}bc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ac(){var e=this;return m(function*(){for(;e.bc()<0&&!(yield e.Pc()););if(0===e.buffer.length)return null;const t=e.bc();t<0&&e.Rc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}vc(e){var t=this;return m(function*(){for(;t.buffer.length<e;)(yield t.Pc())&&t.Rc("Reached the end of bundle when more is expected.");const i=t.Tc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Rc(e){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${e}`)}Pc(){var e=this;return m(function*(){const t=yield e.Ic.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class xpe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return m(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new S(E.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=m(function*(s,o){const a=B(s),l=Uf(a.serializer)+"/documents",c={documents:o.map(f=>Bf(a.serializer,f))},u=yield a.fo("BatchGetDocuments",l,c,o.length),d=new Map;u.forEach(f=>{const p=function qhe(n,e){return"found"in e?function(t,i){Y(!!i.found);const r=is(t,i.found.name),s=Qt(i.found.updateTime),o=i.found.createTime?Qt(i.found.createTime):J.min(),a=new Dn({mapValue:{fields:i.found.fields}});return vt.newFoundDocument(r,s,o,a)}(n,e):"missing"in e?function(t,i){Y(!!i.missing),Y(!!i.readTime);const r=is(t,i.missing),s=Qt(i.readTime);return vt.newNoDocument(r,s)}(n,e):z()}(a.serializer,f);d.set(p.key.toString(),p)});const h=[];return o.forEach(f=>{const p=d.get(f.toString());Y(!!p),h.push(p)}),h}),function(s,o){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new vu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return m(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=L.fromPath(r);e.mutations.push(new zI(s,e.precondition(s)))}),yield(i=m(function*(r,s){const o=B(r),a=Uf(o.serializer)+"/documents",l={writes:s.map(c=>Hf(o.serializer,c))};yield o.co("Commit",a,l)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw z();t=J.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new S(E.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(J.min())?St.exists(!1):St.updateTime(t):St.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(J.min()))throw new S(E.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return St.updateTime(t)}return St.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Dpe{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Vc=i.maxAttempts,this.Co=new bT(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var e=this;this.Co.Ao(m(function*(){const t=new xpe(e.datastore),i=e.Dc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Cc(s)}))}).catch(r=>{e.Cc(r)})}))}Dc(e){try{const t=this.updateFunction(e);return!xf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Cc(e){this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(e)}xc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Gz(t)}return!1}}class Spe{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=En.UNAUTHENTICATED,this.clientId=$j.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=m(function*(a){M("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(M("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Mu(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function lv(n,e){return yM.apply(this,arguments)}function yM(){return yM=m(function*(n,e){n.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=m(function*(s){i.isEqual(s)||(yield H$(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),yM.apply(this,arguments)}function vM(n,e){return bM.apply(this,arguments)}function bM(){return bM=m(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield wM(n);M("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>s3(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>s3(e.remoteStore,s)),n._onlineComponents=e}),bM.apply(this,arguments)}function v3(n){return"FirebaseError"===n.name?n.code===E.FAILED_PRECONDITION||n.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function wM(n){return CM.apply(this,arguments)}function CM(){return CM=m(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){M("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!v3(t))throw t;Jr("Error using user provided cache. Falling back to memory cache: "+t),yield lv(n,new ov)}}else M("FirestoreClient","Using default OfflineComponentProvider"),yield lv(n,new ov);return n._offlineComponents}),CM.apply(this,arguments)}function cv(n){return EM.apply(this,arguments)}function EM(){return EM=m(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(M("FirestoreClient","Using user provided OnlineComponentProvider"),yield vM(n,n._uninitializedComponentsProvider._online)):(M("FirestoreClient","Using default OnlineComponentProvider"),yield vM(n,new Nu))),n._onlineComponents}),EM.apply(this,arguments)}function b3(n){return wM(n).then(e=>e.persistence)}function uv(n){return wM(n).then(e=>e.localStore)}function xM(n){return cv(n).then(e=>e.remoteStore)}function DM(n){return cv(n).then(e=>e.syncEngine)}function Ou(n){return SM.apply(this,arguments)}function SM(){return SM=m(function*(n){const e=yield cv(n),t=e.eventManager;return t.onListen=spe.bind(null,e.syncEngine),t.onUnlisten=ope.bind(null,e.syncEngine),t}),SM.apply(this,arguments)}function C3(n,e,t={}){const i=new dn;return n.asyncQueue.enqueueAndForget(m(function*(){return function(r,s,o,a,l){const c=new av({next:d=>{s.enqueueAndForget(()=>jT(r,u));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new S(E.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?l.reject(new S(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new qT(mu(o.path),c,{includeMetadataChanges:!0,xu:!0});return UT(r,u)}(yield Ou(n),n.asyncQueue,e,t,i)})),i.promise}function E3(n,e,t={}){const i=new dn;return n.asyncQueue.enqueueAndForget(m(function*(){return function(r,s,o,a,l){const c=new av({next:d=>{s.enqueueAndForget(()=>jT(r,u)),d.fromCache&&"server"===a.source?l.reject(new S(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new qT(o,c,{includeMetadataChanges:!0,xu:!0});return UT(r,u)}(yield Ou(n),n.asyncQueue,e,t,i)})),i.promise}const x3=new Map;function IM(n,e,t){if(!t)throw new S(E.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function D3(n,e,t,i){if(!0===e&&!0===i)throw new S(E.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function S3(n){if(!L.isDocumentKey(n))throw new S(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function I3(n){if(L.isDocumentKey(n))throw new S(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":z()}function Pe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new S(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dv(n);throw new S(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function T3(n,e){if(e<=0)throw new S(E.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class M3{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new S(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new S(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,D3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jf{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new S(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new S(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M3(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Nde;switch(t.type){case"firstParty":return new Lde(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new S(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=x3.get(e);t&&(M("ComponentProvider","Removing Datastore"),x3.delete(e),t.terminate())}(this),Promise.resolve()}}class bt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}}class Hn{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Hn(this.firestore,e,this._query)}}class rs extends Hn{constructor(e,t,i){super(e,t,mu(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new L(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function k3(n,e,...t){if(n=ee(n),IM("collection","path",e),n instanceof Jf){const i=Ue.fromString(e,...t);return I3(i),new rs(n,null,i)}{if(!(n instanceof bt||n instanceof rs))throw new S(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ue.fromString(e,...t));return I3(i),new rs(n.firestore,null,i)}}function hv(n,e,...t){if(n=ee(n),1===arguments.length&&(e=$j.A()),IM("doc","path",e),n instanceof Jf){const i=Ue.fromString(e,...t);return S3(i),new bt(n,null,new L(i))}{if(!(n instanceof bt||n instanceof rs))throw new S(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ue.fromString(e,...t));return S3(i),new bt(n.firestore,n instanceof rs?n.converter:null,new L(i))}}function R3(n,e){return n=ee(n),e=ee(e),(n instanceof bt||n instanceof rs)&&(e instanceof bt||e instanceof rs)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function TM(n,e){return n=ee(n),e=ee(e),n instanceof Hn&&e instanceof Hn&&n.firestore===e.firestore&&kf(n._query,e._query)&&n.converter===e.converter}class Fpe{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new bT(this,"async_queue_retry"),this.qc=()=>{const t=iv();t&&M("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=iv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=iv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new dn;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return m(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!No(t))throw t;M("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(i=>{throw this.Mc=i,this.Fc=!1,Yt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(i)),i}).then(i=>(this.Fc=!1,i))));return this.Nc=t,t}enqueueAfterDelay(e,t,i){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const r=BT.createAndSchedule(this,e,t,i,s=>this.Qc(s));return this.$c.push(r),r}Uc(){this.Mc&&z()}verifyOperationInProgress(){}zc(){var e=this;return m(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function MM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Lpe{constructor(){this._progressObserver={},this._taskCompletionResolver=new dn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class wt extends Jf{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Fpe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||N3(this),this._firestoreClient.terminate()}}function Xt(n){return n._firestoreClient||N3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function N3(n){var e,t,i;const r=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new phe(n._databaseId,a,n._persistenceKey,(c=r).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams));var a,c;n._firestoreClient=new Spe(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function O3(n,e,t){const i=new dn;return n.asyncQueue.enqueue(m(function*(){try{yield lv(n,t),yield vM(n,e),i.resolve()}catch(r){const s=r;if(!v3(s))throw s;Jr("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function P3(n){if(n._initialized||n._terminated)throw new S(E.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ss{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ss(hn.fromBase64String(e))}catch(t){throw new S(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ss(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ys{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new S(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vl{constructor(e){this._methodName=e}}class fv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new S(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new S(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}const Kpe=/^__.*__$/;class Ype{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ws(e,this.data,this.fieldMask,t,this.fieldTransforms):new yu(e,this.data,t,this.fieldTransforms)}}class F3{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ws(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function L3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}class pv{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new pv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:i,ta:!1});return r.ea(e),r}na(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:i,ta:!1});return r.Jc(),r}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return _v(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(L3(this.Yc)&&Kpe.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class Qpe{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Qf(e)}ua(e,t,i,r=!1){return new pv({Yc:e,methodName:t,oa:i,path:Ut.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bl(n){const e=n._freezeSettings(),t=Qf(n._databaseId);return new Qpe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function mv(n,e,t,i,r,s={}){const o=n.ua(s.merge||s.mergeFields?2:0,e,t,r);NM("Data must be an object, but it was:",o,i);const a=U3(i,o);let l,c;if(s.merge)l=new xi(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=np(e,d,t);if(!o.contains(h))throw new S(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);j3(u,h)||u.push(h)}l=new xi(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Ype(new Dn(a),l,c)}class tp extends vl{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tp}}function V3(n,e,t){return new pv({Yc:3,oa:e.settings.oa,methodName:n._methodName,ta:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class AM extends vl{_toFieldTransform(e){return new Pf(e.path,new gu)}isEqual(e){return e instanceof AM}}class Xpe extends vl{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=V3(this,e,!0),i=this.ca.map(s=>wl(s,t)),r=new ul(i);return new Pf(e.path,r)}isEqual(e){return this===e}}class Zpe extends vl{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=V3(this,e,!0),i=this.ca.map(s=>wl(s,t)),r=new dl(i);return new Pf(e.path,r)}isEqual(e){return this===e}}class Jpe extends vl{constructor(e,t){super(e),this.aa=t}_toFieldTransform(e){const t=new _u(e.serializer,Fz(e.serializer,this.aa));return new Pf(e.path,t)}isEqual(e){return this===e}}function kM(n,e,t,i){const r=n.ua(1,e,t);NM("Data must be an object, but it was:",r,i);const s=[],o=Dn.empty();rl(i,(l,c)=>{const u=gv(e,l,t);c=ee(c);const d=r.na(u);if(c instanceof tp)s.push(u);else{const h=wl(c,d);null!=h&&(s.push(u),o.set(u,h))}});const a=new xi(s);return new F3(o,a,r.fieldTransforms)}function RM(n,e,t,i,r,s){const o=n.ua(1,e,t),a=[np(e,i,t)],l=[r];if(s.length%2!=0)throw new S(E.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(np(e,s[h])),l.push(s[h+1]);const c=[],u=Dn.empty();for(let h=a.length-1;h>=0;--h)if(!j3(c,a[h])){const f=a[h];let p=l[h];p=ee(p);const g=o.na(f);if(p instanceof tp)c.push(f);else{const _=wl(p,g);null!=_&&(c.push(f),u.set(f,_))}}const d=new xi(c);return new F3(u,d,o.fieldTransforms)}function B3(n,e,t,i=!1){return wl(t,n.ua(i?4:3,e))}function wl(n,e){if(H3(n=ee(n)))return NM("Unsupported field value:",e,n),U3(n,e);if(n instanceof vl)return function(t,i){if(!L3(i.Yc))throw i.ia(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ia(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const o of t){let a=wl(o,i.sa(s));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=ee(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Fz(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Dt.fromDate(t);return{timestampValue:bu(i.serializer,r)}}if(t instanceof Dt){const r=new Dt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:bu(i.serializer,r)}}if(t instanceof fv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ss)return{bytesValue:e$(i.serializer,t._byteString)};if(t instanceof bt){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:YI(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ia(`Unsupported field value: ${dv(t)}`)}(n,e)}function U3(n,e){const t={};return sz(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rl(n,(i,r)=>{const s=wl(r,e.Xc(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function H3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Dt||n instanceof fv||n instanceof ss||n instanceof bt||n instanceof vl)}function NM(n,e,t){if(!H3(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=dv(t);throw e.ia("an object"===i?n+" a custom object":n+" "+i)}var i}function np(n,e,t){if((e=ee(e))instanceof Ys)return e._internalPath;if("string"==typeof e)return gv(n,e);throw _v("Field path arguments must be of type string or ",n,!1,void 0,t)}const eme=new RegExp("[~\\*/\\[\\]]");function gv(n,e,t){if(e.search(eme)>=0)throw _v(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ys(...e.split("."))._internalPath}catch{throw _v(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _v(n,e,t,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new S(E.INVALID_ARGUMENT,a+n+l)}function j3(n,e){return n.some(t=>t.isEqual(e))}class ip{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new tme(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class tme extends ip{data(){return super.data()}}function yv(n,e){return"string"==typeof e?gv(n,e):e instanceof Ys?e._internalPath:e._delegate._internalPath}function z3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new S(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OM{}class rp extends OM{}function Wo(n,e,...t){let i=[];e instanceof OM&&i.push(e),i=i.concat(t),function(r){const s=r.filter(a=>a instanceof Pu).length,o=r.filter(a=>a instanceof sp).length;if(s>1||s>0&&o>0)throw new S(E.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class sp extends rp{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new sp(e,t,i)}_apply(e){const t=this._parse(e);return G3(e._query,t),new Hn(e.firestore,e.converter,HI(e._query,t))}_parse(e){const t=bl(e.firestore);return function(r,s,o,a,l,c,u){let d;if(l.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new S(E.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){W3(u,c);const h=[];for(const f of u)h.push(q3(a,r,f));d={arrayValue:{values:h}}}else d=q3(a,r,u)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||W3(u,c),d=B3(o,"where",u,"in"===c||"not-in"===c);return Oe.create(l,c,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Pu extends OM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Pu(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:it.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const o=r.getFlattenedFilters();for(const a of o)G3(s,a),s=HI(s,a)}(e._query,t),new Hn(e.firestore,e.converter,HI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class PM extends rp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new PM(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new S(E.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new S(E.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new fu(r,s);return function(a,l){if(null===BI(a)){const c=Py(a);null!==c&&K3(0,c,l.field)}}(i,o),o}(e._query,this._field,this._direction);return new Hn(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new qs(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class vv extends rp{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new vv(e,t,i)}_apply(e){return new Hn(e.firestore,e.converter,Fy(e._query,this._limit,this._limitType))}}class bv extends rp{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new bv(e,t,i)}_apply(e){const t=$3(e,this.type,this._docOrFields,this._inclusive);return new Hn(e.firestore,e.converter,(r=t,new qs((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class wv extends rp{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new wv(e,t,i)}_apply(e){const t=$3(e,this.type,this._docOrFields,this._inclusive);return new Hn(e.firestore,e.converter,(r=t,new qs((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function $3(n,e,t,i){if(t[0]=ee(t[0]),t[0]instanceof ip)return function(r,s,o,a,l){if(!a)throw new S(E.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const c=[];for(const u of cl(r))if(u.field.isKeyField())c.push(al(s,a.key));else{const d=a.data.field(u.field);if(RI(d))throw new S(E.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===d){const h=u.field.canonicalString();throw new S(E.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}c.push(d)}return new Vo(c,l)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=bl(n.firestore);return function(s,o,a,l,c,u){const d=s.explicitOrderBy;if(c.length>d.length)throw new S(E.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let f=0;f<c.length;f++){const p=c[f];if(d[f].field.isKeyField()){if("string"!=typeof p)throw new S(E.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof p}`);if(!UI(s)&&-1!==p.indexOf("/"))throw new S(E.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${p}' contains a slash.`);const g=s.path.child(Ue.fromString(p));if(!L.isDocumentKey(g))throw new S(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${g}' is not because it contains an odd number of segments.`);const _=new L(g);h.push(al(o,_))}else{const g=B3(a,l,p);h.push(g)}}return new Vo(h,u)}(n._query,n.firestore._databaseId,r,e,t,i)}}function q3(n,e,t){if("string"==typeof(t=ee(t))){if(""===t)throw new S(E.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UI(e)&&-1!==t.indexOf("/"))throw new S(E.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ue.fromString(t));if(!L.isDocumentKey(i))throw new S(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return al(n,new L(i))}if(t instanceof bt)return al(n,t._key);throw new S(E.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dv(t)}.`)}function W3(n,e){if(!Array.isArray(n)||0===n.length)throw new S(E.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function G3(n,e){if(e.isInequality()){const i=Py(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new S(E.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=BI(n);null!==s&&K3(0,r,s)}const t=function(i,r){for(const s of i)for(const o of s.getFlattenedFilters())if(r.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new S(E.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function K3(n,e,t){if(!t.isEqual(e))throw new S(E.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class FM{convertValue(e,t="none"){switch(ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw z()}}convertObject(e,t){const i={};return rl(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new fv(jt(e.latitude),jt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=az(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Sf(e));default:return null}}convertTimestamp(e){const t=Oo(e);return new Dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ue.fromString(e);Y(u$(i));const r=new Po(i.get(1),i.get(3)),s=new L(i.popFirst(5));return r.isEqual(t)||Yt(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function Cv(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class ume extends FM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ss(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,t)}}class Cl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qs extends ip{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new op(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(yv("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class op extends Qs{data(e={}){return super.data(e)}}class Go{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Cl(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new op(this._firestore,this._userDataWriter,i.key,i,new Cl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new S(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>({type:"added",doc:new op(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Cl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>r||3!==o.type).map(o=>{const a=new op(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Cl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:hme(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function hme(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}function Q3(n,e){return n instanceof Qs&&e instanceof Qs?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Go&&e instanceof Go&&n._firestore===e._firestore&&TM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Ko extends FM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ss(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,t)}}function X3(n,e,t){n=Pe(n,bt);const i=Pe(n.firestore,wt),r=Cv(n.converter,e,t);return Fu(i,[mv(bl(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,St.none())])}function Z3(n,e,t,...i){n=Pe(n,bt);const r=Pe(n.firestore,wt),s=bl(r);let o;return o="string"==typeof(e=ee(e))||e instanceof Ys?RM(s,"updateDoc",n._key,e,t,i):kM(s,"updateDoc",n._key,e),Fu(r,[o.toMutation(n._key,St.exists(!0))])}function J3(n,...e){var t,i,r;n=ee(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||MM(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(MM(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(i=d.error)||void 0===i?void 0:i.bind(d),e[o+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}let l,c,u;if(n instanceof bt)c=Pe(n.firestore,wt),u=mu(n._key.path),l={next:d=>{e[o]&&e[o](LM(c,n,d))},error:e[o+1],complete:e[o+2]};else{const d=Pe(n,Hn);c=Pe(d.firestore,wt),u=d._query;const h=new Ko(c);l={next:f=>{e[o]&&e[o](new Go(c,h,d,f))},error:e[o+1],complete:e[o+2]},z3(n._query)}return function(d,h,f,p){const g=new av(p),_=new qT(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return UT(yield Ou(d),_)})),()=>{g.yc(),d.asyncQueue.enqueueAndForget(m(function*(){return jT(yield Ou(d),_)}))}}(Xt(c),u,a,l)}function Fu(n,e){return function(t,i){const r=new dn;return t.asyncQueue.enqueueAndForget(m(function*(){return function ape(n,e,t){return QT.apply(this,arguments)}(yield DM(t),i,r)})),r.promise}(Xt(n),e)}function LM(n,e,t){const i=t.docs.get(e._key),r=new Ko(n);return new Qs(n,r,e._key,i,new Cl(t.hasPendingWrites,t.fromCache),e.converter)}const Tme={maxAttempts:5};class e4{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bl(e)}set(e,t,i){this._verifyNotCommitted();const r=Yo(e,this._firestore),s=Cv(r.converter,t,i),o=mv(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(o.toMutation(r._key,St.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Yo(e,this._firestore);let o;return o="string"==typeof(t=ee(t))||t instanceof Ys?RM(this._dataReader,"WriteBatch.update",s._key,t,i,r):kM(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,St.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Yo(e,this._firestore);return this._mutations=this._mutations.concat(new vu(t._key,St.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new S(E.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yo(n,e){if((n=ee(n)).firestore!==e)throw new S(E.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Mme extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=bl(e)}get(e){const t=Yo(e,this._firestore),i=new ume(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return z();const s=r[0];if(s.isFoundDocument())return new ip(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new ip(this._firestore,i,t._key,null,t.converter);throw z()})}set(e,t,i){const r=Yo(e,this._firestore),s=Cv(r.converter,t,i),o=mv(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,o),this}update(e,t,i,...r){const s=Yo(e,this._firestore);let o;return o="string"==typeof(t=ee(t))||t instanceof Ys?RM(this._dataReader,"Transaction.update",s._key,t,i,r):kM(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this}delete(e){const t=Yo(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Yo(e,this._firestore),i=new Ko(this._firestore);return super.get(e).then(r=>new Qs(this._firestore,i,t._key,r._document,new Cl(!1,!1),t.converter))}}!function(n,e=!0){cu=Do,Ps(new Ir("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),o=new wt(new Pde(t.getProvider("auth-internal")),new Vde(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new S(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Po(a.options.projectId,l)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Ui(Hj,"3.10.0",n),Ui(Hj,"3.10.0","esm2017")}();function VM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new S("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function n4(){if(typeof Uint8Array>"u")throw new S("unimplemented","Uint8Arrays are not available in this environment.")}function r4(){if(!function hhe(){return typeof atob<"u"}())throw new S("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ap{constructor(e){this._delegate=e}static fromBase64String(e){return r4(),new ap(ss.fromBase64String(e))}static fromUint8Array(e){return n4(),new ap(ss.fromUint8Array(e))}toBase64(){return r4(),this._delegate.toBase64()}toUint8Array(){return n4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function BM(n){return function Vme(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Bme{enableIndexedDbPersistence(e,t){return function Bpe(n,e){P3(n=Pe(n,wt));const t=Xt(n);if(t._uninitializedComponentsProvider)throw new S(E.FAILED_PRECONDITION,"SDK cache is already specified.");Jr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Nu;return O3(t,r,new _M(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Upe(n){P3(n=Pe(n,wt));const e=Xt(n);if(e._uninitializedComponentsProvider)throw new S(E.FAILED_PRECONDITION,"SDK cache is already specified.");Jr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Nu;return O3(e,i,new _3(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Hpe(n){if(n._initialized&&!n._terminated)throw new S(E.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new dn;return n._queue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{yield(t=m(function*(i){if(!Mr.D())return Promise.resolve();const r=i+"main";yield Mr.delete(r)}),function(i){return t.apply(this,arguments)})(cT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class s4{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Po||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Jr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function A3(n,e,t,i={}){var r;const s=(n=Pe(n,Jf))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Jr("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let o,a;if("string"==typeof i.mockUserToken)o=i.mockUserToken,a=En.MOCK_USER;else{o=PB(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new S(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new En(l)}n._authCredentials=new Ode(new jj(o,a))}}(this._delegate,e,t,i)}enableNetwork(){return function zpe(n){return function Ipe(n){return n.asyncQueue.enqueue(m(function*(){const e=yield b3(n),t=yield xM(n);return e.setNetworkEnabled(!0),function(i){const r=B(i);return r.du.delete(0),Xf(r)}(t)}))}(Xt(n=Pe(n,wt)))}(this._delegate)}disableNetwork(){return function $pe(n){return function Tpe(n){return n.asyncQueue.enqueue(m(function*(){const e=yield b3(n),t=yield xM(n);return e.setNetworkEnabled(!1),(i=m(function*(r){const s=B(r);s.du.add(0),yield Su(s),s.mu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Xt(n=Pe(n,wt)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,D3("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function jpe(n){return function(e){const t=new dn;return e.asyncQueue.enqueueAndForget(m(function*(){return function dpe(n,e){return tM.apply(this,arguments)}(yield DM(e),t)})),t.promise}(Xt(n=Pe(n,wt)))}(this._delegate)}onSnapshotsInSync(e){return function wme(n,e){return function kpe(n,e){const t=new av(e);return n.asyncQueue.enqueueAndForget(m(function*(){return i=yield Ou(n),r=t,B(i).Au.add(r),void r.next();var i,r})),()=>{t.yc(),n.asyncQueue.enqueueAndForget(m(function*(){return i=yield Ou(n),r=t,void B(i).Au.delete(r);var i,r}))}}(Xt(n=Pe(n,wt)),MM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new S("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Lu(this,k3(this._delegate,e))}catch(t){throw fi(t,"collection()","Firestore.collection()")}}doc(e){try{return new cr(this,hv(this._delegate,e))}catch(t){throw fi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new pi(this,function Ppe(n,e){if(n=Pe(n,Jf),IM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new S(E.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Hn(n,null,(t=e,new qs(Ue.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw fi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Ame(n,e,t){n=Pe(n,wt);const i=Object.assign(Object.assign({},Tme),t);return function(r){if(r.maxAttempts<1)throw new S(E.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,o){const a=new dn;return r.asyncQueue.enqueueAndForget(m(function*(){const l=yield function w3(n){return cv(n).then(e=>e.datastore)}(r);new Dpe(r.asyncQueue,l,o,s,a).run()})),a.promise}(Xt(n),r=>e(new Mme(n,r)),i)}(this._delegate,t=>e(new o4(this,t)))}batch(){return Xt(this._delegate),new a4(new e4(this._delegate,e=>Fu(this._delegate,e)))}loadBundle(e){return function qpe(n,e){const t=Xt(n=Pe(n,wt)),i=new Lpe;return function Rpe(n,e,t,i){const r=function(s,o){let a;return a="string"==typeof s?(new TextEncoder).encode(s):s,l=function(l,c){if(l instanceof Uint8Array)return y3(l,c);if(l instanceof ArrayBuffer)return y3(new Uint8Array(l),c);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),new Epe(l,o);var l}(t,Qf(e));n.asyncQueue.enqueueAndForget(m(function*(){!function Cpe(n,e,t){const i=B(n);var r;(r=m(function*(s,o,a){try{const l=yield o.getMetadata();if(yield function(h,f){const p=B(h),g=Qt(f.createTime);return p.persistence.runTransaction("hasNewerBundle","readonly",_=>p.xs.getBundleMetadata(_,f.id)).then(_=>!!_&&_.createTime.compareTo(g)>=0)}(s.localStore,l))return yield o.close(),a._completeWith({taskState:"Success",documentsLoaded:(h=l).totalDocuments,bytesLoaded:h.totalBytes,totalDocuments:h.totalDocuments,totalBytes:h.totalBytes}),Promise.resolve(new Set);a._updateProgress(l3(l));const c=new tpe(l,s.localStore,o.serializer);let u=yield o._c();for(;u;){const h=yield c.$u(u);h&&a._updateProgress(h),u=yield o._c()}const d=yield c.complete();return yield Ks(s,d.Bu,void 0),yield function(h,f){const p=B(h);return p.persistence.runTransaction("Save bundle","readwrite",g=>p.xs.saveBundleMetadata(g,f))}(s.localStore,l),a._completeWith(d.progress),Promise.resolve(d.Fu)}catch(l){return Jr("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}var h}),function(s,o,a){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield DM(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Wpe(n,e){return function Npe(n,e){return n.asyncQueue.enqueue(m(function*(){return function(t,i){const r=B(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.xs.getNamedQuery(s,i))}(yield uv(n),e)}))}(Xt(n=Pe(n,wt)),e).then(t=>t?new Hn(n,null,t.query):null)}(this._delegate,e).then(t=>t?new pi(this,t):null)}}class Ev extends FM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ap(new ss(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return cr.forKey(t,this.firestore,null)}}class o4{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ev(e)}get(e){const t=xl(e);return this._delegate.get(t).then(i=>new lp(this._firestore,new Qs(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=xl(e);return i?(VM("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=xl(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=xl(e);return this._delegate.delete(t),this}}class a4{constructor(e){this._delegate=e}set(e,t,i){const r=xl(e);return i?(VM("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=xl(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=xl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class El{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new op(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new cp(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=El.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new El(e,new Ev(e),t),r.set(t,s)),s}}El.INSTANCES=new WeakMap;class cr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ev(e)}static forPath(e,t,i){if(e.length%2!=0)throw new S("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new cr(t,new bt(t._delegate,i,new L(e)))}static forKey(e,t,i){return new cr(t,new bt(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Lu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Lu(this.firestore,k3(this._delegate,e))}catch(t){throw fi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=ee(e))instanceof bt&&R3(this._delegate,e)}set(e,t){t=VM("DocumentReference.set",t);try{return t?X3(this._delegate,e,t):X3(this._delegate,e)}catch(i){throw fi(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?Z3(this._delegate,e):Z3(this._delegate,e,t,...i)}catch(r){throw fi(r,"updateDoc()","DocumentReference.update()")}}delete(){return function vme(n){return Fu(Pe(n.firestore,wt),[new vu(n._key,St.none())])}(this._delegate)}onSnapshot(...e){const t=l4(e),i=c4(e,r=>new lp(this.firestore,new Qs(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return J3(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function pme(n){n=Pe(n,bt);const e=Pe(n.firestore,wt),t=Xt(e),i=new Ko(e);return function Mpe(n,e){const t=new dn;return n.asyncQueue.enqueueAndForget(m(function*(){return(i=m(function*(r,s,o){try{const a=yield function(l,c){const u=B(l);return u.persistence.runTransaction("read document","readonly",d=>u.localDocuments.getDocument(d,c))}(r,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new S(E.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=Mu(a,`Failed to get document '${s} from cache`);o.reject(l)}}),function(r,s,o){return i.apply(this,arguments)})(yield uv(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Qs(e,i,n._key,r,new Cl(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function mme(n){n=Pe(n,bt);const e=Pe(n.firestore,wt);return C3(Xt(e),n._key,{source:"server"}).then(t=>LM(e,n,t))}(this._delegate):function fme(n){n=Pe(n,bt);const e=Pe(n.firestore,wt);return C3(Xt(e),n._key).then(t=>LM(e,n,t))}(this._delegate),t.then(i=>new lp(this.firestore,new Qs(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new cr(this.firestore,this._delegate.withConverter(e?El.getInstance(this.firestore,e):null))}}function fi(n,e,t){return n.message=n.message.replace(e,t),n}function l4(n){for(const e of n)if("object"==typeof e&&!BM(e))return e;return{}}function c4(n,e){var t,i;let r;return r=BM(n[0])?n[0]:BM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class lp{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new cr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Q3(this._delegate,e._delegate)}}class cp extends lp{data(e){const t=this._delegate.data(e);return function Rde(n,e){n||z()}(void 0!==t),t}}class pi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ev(e)}where(e,t,i){try{return new pi(this.firestore,Wo(this._delegate,function nme(n,e,t){const i=e,r=yv("where",n);return sp._create(r,i,t)}(e,t,i)))}catch(r){throw fi(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new pi(this.firestore,Wo(this._delegate,function ime(n,e="asc"){const t=e,i=yv("orderBy",n);return PM._create(i,t)}(e,t)))}catch(i){throw fi(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new pi(this.firestore,Wo(this._delegate,function rme(n){return T3("limit",n),vv._create("limit",n,"F")}(e)))}catch(t){throw fi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new pi(this.firestore,Wo(this._delegate,function sme(n){return T3("limitToLast",n),vv._create("limitToLast",n,"L")}(e)))}catch(t){throw fi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new pi(this.firestore,Wo(this._delegate,function ome(...n){return bv._create("startAt",n,!0)}(...e)))}catch(t){throw fi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new pi(this.firestore,Wo(this._delegate,function ame(...n){return bv._create("startAfter",n,!1)}(...e)))}catch(t){throw fi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new pi(this.firestore,Wo(this._delegate,function lme(...n){return wv._create("endBefore",n,!1)}(...e)))}catch(t){throw fi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new pi(this.firestore,Wo(this._delegate,function cme(...n){return wv._create("endAt",n,!0)}(...e)))}catch(t){throw fi(t,"endAt()","Query.endAt()")}}isEqual(e){return TM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function _me(n){n=Pe(n,Hn);const e=Pe(n.firestore,wt),t=Xt(e),i=new Ko(e);return function Ape(n,e){const t=new dn;return n.asyncQueue.enqueueAndForget(m(function*(){return(i=m(function*(r,s,o){try{const a=yield Jy(r,s,!0),l=new d3(s,a.Wi),c=l.zu(a.documents),u=l.applyChanges(c,!1);o.resolve(u.snapshot)}catch(a){const l=Mu(a,`Failed to execute query '${s} against cache`);o.reject(l)}}),function(r,s,o){return i.apply(this,arguments)})(yield uv(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Go(e,i,n,r))}(this._delegate):"server"===e?.source?function yme(n){n=Pe(n,Hn);const e=Pe(n.firestore,wt),t=Xt(e),i=new Ko(e);return E3(t,n._query,{source:"server"}).then(r=>new Go(e,i,n,r))}(this._delegate):function gme(n){n=Pe(n,Hn);const e=Pe(n.firestore,wt),t=Xt(e),i=new Ko(e);return z3(n._query),E3(t,n._query).then(r=>new Go(e,i,n,r))}(this._delegate),t.then(i=>new UM(this.firestore,new Go(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=l4(e),i=c4(e,r=>new UM(this.firestore,new Go(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return J3(this._delegate,t,i)}withConverter(e){return new pi(this.firestore,this._delegate.withConverter(e?El.getInstance(this.firestore,e):null))}}class Hme{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new cp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class UM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new pi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new cp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Hme(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new cp(this._firestore,i))})}isEqual(e){return Q3(this._delegate,e._delegate)}}class Lu extends pi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new cr(this.firestore,e):null}doc(e){try{return new cr(this.firestore,void 0===e?hv(this._delegate):hv(this._delegate,e))}catch(t){throw fi(t,"doc()","CollectionReference.doc()")}}add(e){return function bme(n,e){const t=Pe(n.firestore,wt),i=hv(n),r=Cv(n.converter,e);return Fu(t,[mv(bl(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,St.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new cr(this.firestore,t))}isEqual(e){return R3(this._delegate,e._delegate)}withConverter(e){return new Lu(this.firestore,this._delegate.withConverter(e?El.getInstance(this.firestore,e):null))}}function xl(n){return Pe(n,bt)}class HM{constructor(...e){this._delegate=new Ys(...e)}static documentId(){return new HM(Ut.keyField().canonicalString())}isEqual(e){return(e=ee(e))instanceof Ys&&this._delegate._internalPath.isEqual(e._internalPath)}}class Dl{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Rme(){return new AM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Dl(e)}static delete(){const e=function kme(){return new tp("deleteField")}();return e._methodName="FieldValue.delete",new Dl(e)}static arrayUnion(...e){const t=function Nme(...n){return new Xpe("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Dl(t)}static arrayRemove(...e){const t=function Ome(...n){return new Zpe("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Dl(t)}static increment(e){const t=function Pme(n){return new Jpe("increment",n)}(e);return t._methodName="FieldValue.increment",new Dl(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jme={Firestore:s4,GeoPoint:fv,Timestamp:Dt,Blob:ap,Transaction:o4,WriteBatch:a4,DocumentReference:cr,DocumentSnapshot:lp,Query:pi,QueryDocumentSnapshot:cp,QuerySnapshot:UM,CollectionReference:Lu,FieldPath:HM,FieldValue:Dl,setLogLevel:function Ume(n){!function kde(n){ko.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function fn(n){return null!=n&&"false"!=`${n}`}function xv(n,e=0){return function qme(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Dv(n){return Array.isArray(n)?n:[n]}function tn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Xs(n){return n instanceof ve?n.nativeElement:n}let jM;!function $me(n){(function zme(n,e){n.INTERNAL.registerComponent(new Ir("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},jme)))})(n,(e,t)=>new s4(e,t,new Bme)),n.registerVersion("@firebase/firestore-compat","0.3.6")}(Gt);try{jM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{jM=!1}let Vu,pn=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function nee(n){return n===jL}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!jM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(C(xC))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const u4=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function d4(){if(Vu)return Vu;if("object"!=typeof document||!document)return Vu=new Set(u4),Vu;let n=document.createElement("input");return Vu=new Set(u4.filter(e=>(n.setAttribute("type",e),n.type===e))),Vu}let up,Sv,Sl,zM;function dp(n){return function Wme(){if(null==up&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>up=!0}))}finally{up=up||!1}return up}()?n:!!n.capture}function h4(){if(null==Sl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Sl=!1,Sl;if("scrollBehavior"in document.documentElement.style)Sl=!0;else{const n=Element.prototype.scrollTo;Sl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Sl}function hp(){if("object"!=typeof document||!document)return 0;if(null==Sv){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),Sv=0,0===n.scrollLeft&&(n.scrollLeft=1,Sv=0===n.scrollLeft?1:2),n.remove()}return Sv}function Qo(n){return n.composedPath?n.composedPath()[0]:n.target}function $M(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const f4=dp({passive:!0});let Yme=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return mr;const i=Xs(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new ue,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,f4),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",a,f4)}}),s}stopMonitoring(t){const i=Xs(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(C(pn),C(ne))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qme=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({}),n})();function p4(n){return vn((e,t)=>n<=t)}function m4(n,e=so){return n=n??rge,Nt((t,i)=>{let r,s=!0;t.subscribe(Ct(i,o=>{const a=e(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function rge(n,e){return n===e}function At(n){return Nt((e,t)=>{ti(n).subscribe(Ct(t,()=>t.complete(),ew)),!t.closed&&e.subscribe(t)})}class sge extends mn{constructor(e,t){super()}schedule(e,t=0){return this}}const Iv={setInterval(n,e,...t){const{delegate:i}=Iv;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Iv;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class qM extends sge{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return Iv.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Iv.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,sm(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const g4={now:()=>(g4.delegate||Date).now(),delegate:void 0};class fp{constructor(e,t=fp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}fp.now=g4.now;class WM extends fp{constructor(e,t=fp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const GM=new WM(qM),oge=GM;function KM(n,e=GM){return Nt((t,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}t.subscribe(Ct(i,c=>{s=c,o=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}const _4=new Set;let Bu,age=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):cge}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function lge(n){if(!_4.has(n))try{Bu||(Bu=document.createElement("style"),Bu.setAttribute("type","text/css"),document.head.appendChild(Bu)),Bu.sheet&&(Bu.sheet.insertRule(`@media ${n} {body{ }}`,0),_4.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(C(pn))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cge(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let YM=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new ue}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return y4(Dv(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=dE(y4(Dv(t)).map(o=>this._registerQuery(o).observable));return s=Hg(s.pipe(Ci(1)),s.pipe(p4(1),KM(0))),s.pipe(oe(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new nt(o=>{const a=l=>this._zone.run(()=>o.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(rh(i),oe(({matches:o})=>({query:t,matches:o})),At(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(C(age),C(ne))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function y4(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let w4=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function pge(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function fge(n){try{return n.frameElement}catch{return null}}(function Cge(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===E4(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=E4(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function bge(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function wge(n){return!function gge(n){return function yge(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function mge(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function _ge(n){return function vge(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||C4(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(C(pn))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function C4(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function E4(n){if(!C4(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Ege{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Ci(1)).subscribe(e)}}let xge=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new Ege(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(C(w4),C(ne),C(we))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function x4(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function D4(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Dge=new k("cdk-input-modality-detector-options"),Sge={ignoreKeys:[18,17,224,91,16]},Uu=dp({passive:!0,capture:!0});let Ige=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Vi(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Qo(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(x4(o)?"keyboard":"mouse"),this._mostRecentTarget=Qo(o))},this._onTouchstart=o=>{D4(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Qo(o))},this._options={...Sge,...s},this.modalityDetected=this._modality.pipe(p4(1)),this.modalityChanged=this.modalityDetected.pipe(m4()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Uu),r.addEventListener("mousedown",this._onMousedown,Uu),r.addEventListener("touchstart",this._onTouchstart,Uu)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Uu),document.removeEventListener("mousedown",this._onMousedown,Uu),document.removeEventListener("touchstart",this._onTouchstart,Uu))}}return n.\u0275fac=function(t){return new(t||n)(C(pn),C(ne),C(we),C(Dge,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tge=new k("liveAnnouncerElement",{providedIn:"root",factory:function Mge(){return null}}),Age=new k("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let kge=0,I4=(()=>{class n{constructor(t,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let s,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+kge++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}}return n.\u0275fac=function(t){return new(t||n)(C(Tge,8),C(ne),C(we),C(Age,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rge=new k("cdk-focus-monitor-default-options"),Tv=dp({passive:!0,capture:!0});let T4=(()=>{class n{constructor(t,i,r,s,o){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ue,this._rootNodeFocusAndBlurListener=a=>{for(let c=Qo(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,i=!1){const r=Xs(t);if(!this._platform.isBrowser||1!==r.nodeType)return W(null);const s=function Kme(n){if(function Gme(){if(null==zM){const n=typeof document<"u"?document.head:null;zM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return zM}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new ue,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Xs(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Xs(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=Qo(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Tv),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Tv)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(At(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Tv),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Tv),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(C(ne),C(pn),C(Ige),C(we,8),C(Rge,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const M4="cdk-high-contrast-black-on-white",A4="cdk-high-contrast-white-on-black",QM="cdk-high-contrast-active";let Nge=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=ye(YM).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(QM,M4,A4),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(QM,M4):2===i&&t.add(QM,A4)}}}return n.\u0275fac=function(t){return new(t||n)(C(pn),C(we))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Oge=new k("cdk-dir-doc",{providedIn:"root",factory:function Pge(){return ye(we)}}),Fge=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Il=(()=>{class n{constructor(t){this.value="ltr",this.change=new et,t&&(this.value=function Lge(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Fge.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(C(Oge,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({}),n})();const Hge=new k("mat-sanity-checks",{providedIn:"root",factory:function Uge(){return!0}});let nn=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!$M()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(C(Nge),C(Hge,8),C(we))},n.\u0275mod=We({type:n}),n.\u0275inj=je({imports:[pp,pp]}),n})();function N4(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=fn(e)}constructor(...e){super(...e),this._disabled=!1}}}function XM(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function jge(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=fn(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function zge(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}function $ge(n){return class extends n{constructor(...e){super(...e),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new nt(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(e){e.next(),e.complete()}}}let Wge=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Gge{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const O4=dp({passive:!0,capture:!0});class Kge{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Qo(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,O4)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,O4)))}}const P4={enterDuration:225,exitDuration:150},F4=dp({passive:!0,capture:!0}),L4=["mousedown","touchstart"],V4=["mouseup","mouseleave","touchend","touchcancel"];class gp{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Xs(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...P4,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const o=i.radius||function Qge(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===r.width&&0===r.height,g=new Gge(this,u,i,p);u.style.transform="scale3d(1, 1, 1)",g.state=0,i.persistent||(this._mostRecentTransientRipple=g);let _=null;return!p&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const v=()=>this._finishRippleTransition(g),x=()=>this._destroyRipple(g);u.addEventListener("transitionend",v),u.addEventListener("transitioncancel",x),_={onTransitionEnd:v,onTransitionCancel:x}}),this._activeRipples.set(g,_),(p||!c)&&this._finishRippleTransition(g),g}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...P4,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Xs(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,L4.forEach(i=>{gp._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{V4.forEach(t=>{this._triggerElement.addEventListener(t,this,F4)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=x4(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!D4(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(L4.forEach(t=>gp._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&V4.forEach(t=>e.removeEventListener(t,this,F4)))}}gp._eventManager=new Kge;const Xge=new k("mat-ripple-global-options");let B4=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new gp(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(y(ve),y(ne),y(pn),y(Xge,8),y(uo,8))},n.\u0275dir=I({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&Et("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Zge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({imports:[nn,nn]}),n})();class U4{}class Jge{}const Zs="*";function Js(n,e){return{type:7,name:n,definitions:e,options:{}}}function Ii(n,e=null){return{type:4,styles:e,timings:n}}function H4(n,e=null){return{type:2,steps:n,options:e}}function rt(n){return{type:6,styles:n,offset:null}}function jn(n,e,t){return{type:0,name:n,styles:e,options:t}}function mi(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function j4(n){Promise.resolve().then(n)}class _p{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){j4(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class z4{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?j4(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const ZM="!";let $4=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n_e=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Xs(t);return new nt(r=>{const o=this._observeElement(i).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new ue,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(C($4))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),i_e=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=fn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=xv(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new et,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(KM(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(y(n_e),y(ve),y(ne))},n.\u0275dir=I({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),r_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({providers:[$4]}),n})();const s_e=["matFormFieldNotchedOutline",""],o_e=["*"],a_e=["textField"],l_e=["iconPrefixContainer"],c_e=["textPrefixContainer"];function u_e(n,e){1&n&&mt(0,"span",19)}function d_e(n,e){if(1&n){const t=Vd();N(0,"label",17),gt("cdkObserveContent",function(){return _d(t),yd(_t(2)._refreshOutlineNotchWidth())}),Ge(1,1),be(2,u_e,1,0,"span",18),F()}if(2&n){const t=_t(2);X("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),Pt("for",t._control.id)("aria-owns",t._control.id),H(2),X("ngIf",!t.hideRequiredMarker&&t._control.required)}}function h_e(n,e){1&n&&be(0,d_e,3,6,"label",16),2&n&&X("ngIf",_t()._hasFloatingLabel())}function f_e(n,e){1&n&&mt(0,"div",20)}function p_e(n,e){}function m_e(n,e){1&n&&be(0,p_e,0,0,"ng-template",22),2&n&&(_t(2),X("ngTemplateOutlet",Ld(1)))}function g_e(n,e){if(1&n&&(N(0,"div",21),be(1,m_e,1,1,"ng-template",9),F()),2&n){const t=_t();X("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),H(1),X("ngIf",!t._forceDisplayInfixLabel())}}function __e(n,e){1&n&&(N(0,"div",23,24),Ge(2,2),F())}function y_e(n,e){1&n&&(N(0,"div",25,26),Ge(2,3),F())}function v_e(n,e){}function b_e(n,e){1&n&&be(0,v_e,0,0,"ng-template",22),2&n&&(_t(),X("ngTemplateOutlet",Ld(1)))}function w_e(n,e){1&n&&(N(0,"div",27),Ge(1,4),F())}function C_e(n,e){1&n&&(N(0,"div",28),Ge(1,5),F())}function E_e(n,e){1&n&&mt(0,"div",29)}function x_e(n,e){1&n&&(N(0,"div",30),Ge(1,6),F()),2&n&&X("@transitionMessages",_t()._subscriptAnimationState)}function D_e(n,e){if(1&n&&(N(0,"mat-hint",34),Ae(1),F()),2&n){const t=_t(2);X("id",t._hintLabelId),H(1),xs(t.hintLabel)}}function S_e(n,e){if(1&n&&(N(0,"div",31),be(1,D_e,2,2,"mat-hint",32),Ge(2,7),mt(3,"div",33),Ge(4,8),F()),2&n){const t=_t();X("@transitionMessages",t._subscriptAnimationState),H(1),X("ngIf",t.hintLabel)}}const I_e=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],T_e=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Av=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n,selectors:[["mat-label"]]}),n})(),M_e=0;const q4=new k("MatError");let JM=(()=>{class n{constructor(t,i){this.id="mat-mdc-error-"+M_e++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(ba("aria-live"),y(ve))},n.\u0275dir=I({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(t,i){2&t&&Hd("id",i.id)},inputs:{id:"id"},features:[ce([{provide:q4,useExisting:n}])]}),n})(),A_e=0,W4=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+A_e++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(Hd("id",i.id),Pt("align",null),Et("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const k_e=new k("MatPrefix"),G4=new k("MatSuffix");let R_e=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[ce([{provide:G4,useExisting:n}])]}),n})(),K4=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function N_e(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(y(ve))},n.\u0275dir=I({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&Et("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const Y4="mdc-line-ripple--active",kv="mdc-line-ripple--deactivating";let Q4=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(kv);"opacity"===r.propertyName&&o&&s.remove(Y4,kv)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(kv),t.add(Y4)}deactivate(){this._elementRef.nativeElement.classList.add(kv)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(y(ve),y(ne))},n.\u0275dir=I({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),X4=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(y(ve),y(ne))},n.\u0275cmp=Fe({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&Et("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:s_e,ngContentSelectors:o_e,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(bi(),mt(0,"div",0),N(1,"div",1),Ge(2),F(),mt(3,"div",2)),2&t&&(H(1),ir("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const O_e={transitionMessages:Js("transitionMessages",[jn("enter",rt({opacity:1,transform:"translateY(0%)"})),mi("void => enter",[rt({opacity:0,transform:"translateY(-5px)"}),Ii("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Z4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n}),n})();const J4=new k("MatFormField"),P_e=new k("MAT_FORM_FIELD_DEFAULT_OPTIONS");let eq=0,eA=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=fn(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,s,o,a,l,c){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=o,this._defaults=a,this._animationMode=l,this._document=c,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+eq++,this._hintLabelId="mat-mdc-hint-"+eq++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new ue,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=Boolean(a?.hideRequiredMarker),a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(At(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),cm(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(At(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(At(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,o=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(y(ve),y(qr),y(ne),y(Il),y(pn),y(P_e,8),y(uo,8),y(we))},n.\u0275cmp=Fe({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(an(r,Av,5),an(r,Av,7),an(r,Z4,5),an(r,k_e,5),an(r,G4,5),an(r,q4,5),an(r,W4,5)),2&t){let s;Se(s=Ie())&&(i._labelChildNonStatic=s.first),Se(s=Ie())&&(i._labelChildStatic=s.first),Se(s=Ie())&&(i._formFieldControl=s.first),Se(s=Ie())&&(i._prefixChildren=s),Se(s=Ie())&&(i._suffixChildren=s),Se(s=Ie())&&(i._errorChildren=s),Se(s=Ie())&&(i._hintChildren=s)}},viewQuery:function(t,i){if(1&t&&(Lt(a_e,5),Lt(l_e,5),Lt(c_e,5),Lt(K4,5),Lt(X4,5),Lt(Q4,5)),2&t){let r;Se(r=Ie())&&(i._textField=r.first),Se(r=Ie())&&(i._iconPrefixContainer=r.first),Se(r=Ie())&&(i._textPrefixContainer=r.first),Se(r=Ie())&&(i._floatingLabel=r.first),Se(r=Ie())&&(i._notchedOutline=r.first),Se(r=Ie())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&Et("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[ce([{provide:J4,useExisting:n}])],ngContentSelectors:T_e,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(bi(I_e),be(0,h_e,1,1,"ng-template",null,0,pg),N(2,"div",1,2),gt("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),be(4,f_e,1,0,"div",3),N(5,"div",4),be(6,g_e,2,3,"div",5),be(7,__e,3,0,"div",6),be(8,y_e,3,0,"div",7),N(9,"div",8),be(10,b_e,1,1,"ng-template",9),Ge(11),F(),be(12,w_e,2,0,"div",10),be(13,C_e,2,0,"div",11),F(),be(14,E_e,1,0,"div",12),F(),N(15,"div",13),be(16,x_e,2,1,"div",14),be(17,S_e,5,2,"div",15),F()),2&t&&(H(2),Et("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),H(2),X("ngIf",!i._hasOutline()&&!i._control.disabled),H(2),X("ngIf",i._hasOutline()),H(1),X("ngIf",i._hasIconPrefix),H(1),X("ngIf",i._hasTextPrefix),H(2),X("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),H(2),X("ngIf",i._hasTextSuffix),H(1),X("ngIf",i._hasIconSuffix),H(1),X("ngIf",!i._hasOutline()),H(1),Et("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),X("ngSwitch",i._getDisplayedMessages()),H(1),X("ngSwitchCase","error"),H(1),X("ngSwitchCase","hint"))},dependencies:[fo,XC,Ng,BL,i_e,W4,K4,X4,Q4],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[O_e.transitionMessages]},changeDetection:0}),n})(),tA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({imports:[nn,Na,r_e,nn]}),n})();const V_e=new k("MAT_INPUT_VALUE_ACCESSOR"),B_e=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let U_e=0;const H_e=zge(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new ue}});let nA=(()=>{class n extends H_e{get disabled(){return this._disabled}set disabled(t){this._disabled=fn(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(bh.required)??!1}set required(t){this._required=fn(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&d4().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=fn(t)}constructor(t,i,r,s,o,a,l,c,u,d){super(a,s,o,r),this._elementRef=t,this._platform=i,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+U_e++,this.focused=!1,this.stateChanges=new ue,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>d4().has(p)),this._iOSKeyupListener=p=>{const g=p.target;!g.value&&0===g.selectionStart&&0===g.selectionEnd&&(g.setSelectionRange(1,1),g.setSelectionRange(0,0))};const h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){B_e.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(y(ve),y(pn),y(Ns,10),y(C_,8),y(Ua,8),y(Wge),y(V_e,10),y(Yme),y(ne),y(J4,8))},n.\u0275dir=I({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&gt("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(Hd("id",i.id)("disabled",i.disabled)("required",i.required),Pt("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),Et("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[ce([{provide:Z4,useExisting:n}]),$,An]}),n})(),j_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({imports:[nn,tA,tA,Qme,nn]}),n})();class iA{}class Xo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Xo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Xo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Xo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class z_e{encodeKey(e){return rq(e)}encodeValue(e){return rq(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const q_e=/%(\d[a-f0-9])/gi,W_e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function rq(n){return encodeURIComponent(n).replace(q_e,(e,t)=>W_e[t]??e)}function Rv(n){return`${n}`}class Zo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new z_e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $_e(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Rv):[Rv(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Zo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Rv(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Rv(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class G_e{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function sq(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function oq(n){return typeof Blob<"u"&&n instanceof Blob}function aq(n){return typeof FormData<"u"&&n instanceof FormData}class yp{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function K_e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Xo),this.context||(this.context=new G_e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Zo,this.urlWithParams=t}serializeBody(){return null===this.body?null:sq(this.body)||oq(this.body)||aq(this.body)||function Y_e(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Zo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||aq(this.body)?null:oq(this.body)?this.body.type||null:sq(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Zo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new yp(t,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}}var zn=(()=>((zn=zn||{})[zn.Sent=0]="Sent",zn[zn.UploadProgress=1]="UploadProgress",zn[zn.ResponseHeader=2]="ResponseHeader",zn[zn.DownloadProgress=3]="DownloadProgress",zn[zn.Response=4]="Response",zn[zn.User=5]="User",zn))();class Q_e{constructor(e,t=200,i="OK"){this.headers=e.headers||new Xo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class rA extends Q_e{constructor(e={}){super(e),this.type=zn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new rA({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function sA(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let oA=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof yp)s=t;else{let l,c;l=r.headers instanceof Xo?r.headers:new Xo(r.headers),r.params&&(c=r.params instanceof Zo?r.params:new Zo({fromObject:r.params})),s=new yp(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=W(s).pipe(go(l=>this.handler.handle(l)));if(t instanceof yp||"events"===r.observe)return o;const a=o.pipe(vn(l=>l instanceof rA));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(oe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(oe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(oe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(oe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Zo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,sA(r,i))}post(t,i,r={}){return this.request("POST",t,sA(r,i))}put(t,i,r={}){return this.request("PUT",t,sA(r,i))}}return n.\u0275fac=function(t){return new(t||n)(C(iA))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const cye=["*"];let Ov;function vp(n){return function uye(){if(void 0===Ov&&(Ov=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Ov=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Ov}()?.createHTML(n)||n}function mq(n){return Error(`Unable to find icon with the name "${n}"`)}function gq(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function _q(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Tl{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let Pv=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new Tl(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const o=this._sanitizer.sanitize(Qe.HTML,r);if(!o)throw _q(r);const a=vp(o);return this._addSvgIconConfig(t,i,new Tl("",a,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Tl(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(Qe.HTML,i);if(!s)throw _q(i);const o=vp(s);return this._addSvgIconSetConfig(t,new Tl("",o,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(Qe.RESOURCE_URL,t);if(!i)throw gq(t);const r=this._cachedIconsByUrl.get(i);return r?W(Fv(r)):this._loadSvgIconFromConfig(new Tl(t,null)).pipe(cn(s=>this._cachedIconsByUrl.set(i,s)),oe(s=>Fv(s)))}getNamedSvgIcon(t,i=""){const r=yq(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(t,o):Oc(mq(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?W(Fv(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(oe(i=>Fv(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?W(r):M2(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(As(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Qe.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),W(null)})))).pipe(oe(()=>{const o=this._extractIconWithNameFromAnySet(t,i);if(!o)throw mq(t);return o}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(cn(i=>t.svgText=i),oe(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?W(null):this._fetchIcon(t).pipe(cn(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const a=this._svgElementFromString(vp("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(vp("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:o,value:a}=r[s];"id"!==o&&i.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function dye(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const o=this._sanitizer.sanitize(Qe.RESOURCE_URL,i);if(!o)throw gq(i);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(oe(c=>vp(c)),zg(()=>this._inProgressUrlFetches.delete(o)),UR());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(yq(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return fye(s)?new Tl(s.url,null,s.options):new Tl(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(C(oA,8),C(cE),C(we,8),C(ws))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fv(n){return n.cloneNode(!0)}function yq(n,e){return n+":"+e}function fye(n){return!(!n.url||!n.options)}const pye=XM(class{constructor(n){this._elementRef=n}}),mye=new k("MAT_ICON_DEFAULT_OPTIONS"),gye=new k("mat-icon-location",{providedIn:"root",factory:function _ye(){const n=ye(we),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),vq=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],yye=vq.map(n=>`[${n}]`).join(", "),vye=/^url\(['"]?#(.*?)['"]?\)$/;let Lv=(()=>{class n extends pye{get inline(){return this._inline}set inline(t){this._inline=fn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,s,o,a){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=o,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=mn.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(yye),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)vq.forEach(o=>{const a=i[s],l=a.getAttribute(o),c=l?l.match(vye):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Ci(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(y(ve),y(Pv),ba("aria-hidden"),y(gye),y(ws),y(mye,8))},n.\u0275cmp=Fe({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(Pt("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Et("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[$],ngContentSelectors:cye,decls:1,vars:0,template:function(t,i){1&t&&(bi(),Ge(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),bye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({imports:[nn,nn]}),n})();function wye(n,e){1&n&&(N(0,"span"),Ae(1,"Please enter your nickname"),F())}class Cye{isErrorState(e,t){return!!(e&&e.invalid&&(e.dirty||e.touched||t&&t.submitted))}}let Eye=(()=>{class n{constructor(t,i){this.router=t,this.formBuilder=i,this.nickname="",this.ref=Gt.database().ref("users/"),this.matcher=new Cye}ngOnInit(){localStorage.getItem("nickname")&&this.router.navigate(["/roomlist"]),this.loginForm=this.formBuilder.group({nickname:[null,bh.required]})}onFormSubmit(t){const i=t;this.ref.orderByChild("nickname").equalTo(i.nickname).once("value",r=>{r.exists()?(localStorage.setItem("nickname",i.nickname),this.router.navigate(["/roomlist"])):(Gt.database().ref("users/").push().set(i),localStorage.setItem("nickname",i.nickname),this.router.navigate(["/roomlist"]))})}}return n.\u0275fac=function(t){return new(t||n)(y(Pn),y(lx))},n.\u0275cmp=Fe({type:n,selectors:[["app-login"]],decls:14,vars:4,consts:[[1,"container"],[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","placeholder","Enter your nickname","formControlName","nickname",3,"errorStateMatcher"],[4,"ngIf"],[1,"button-row"],["type","submit","mat-fab","","color","primary",3,"disabled"]],template:function(t,i){if(1&t&&(N(0,"div",0)(1,"form",1),gt("ngSubmit",function(){return i.onFormSubmit(i.loginForm.value)}),N(2,"h2"),Ae(3,"Please login using your nickname"),F(),N(4,"mat-form-field",2)(5,"mat-label"),Ae(6,"Username"),F(),mt(7,"input",3),N(8,"mat-error"),be(9,wye,2,0,"span",4),F()(),N(10,"div",5)(11,"button",6)(12,"mat-icon"),Ae(13,"login"),F()()()()()),2&t){let r;H(1),X("formGroup",i.loginForm),H(6),X("errorStateMatcher",i.matcher),H(2),X("ngIf",!(null!=(r=i.loginForm.get("nickname"))&&r.valid)&&(null==(r=i.loginForm.get("nickname"))?null:r.touched)),H(2),X("disabled",!i.loginForm.valid)}},dependencies:[fo,E_,Va,wh,f_,Ua,Mh,nA,eA,Av,JM,Lv],styles:[".example-container[_ngcontent-%COMP%]{position:relative;padding:5px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.example-full-width[_ngcontent-%COMP%]:nth-last-child(0){margin-bottom:10px}.button-row[_ngcontent-%COMP%]{margin:10px 0}.mat-flat-button[_ngcontent-%COMP%]{margin:5px}"]}),n})();function lA(n){return n&&"function"==typeof n.connect&&!(n instanceof fE)}class bq{applyChanges(e,t,i,r,s){e.forEachOperation((o,a,l)=>{let c,u;if(null==o.previousIndex){const d=i(o,a,l);c=t.createEmbeddedView(d.templateRef,d.context,d.index),u=1}else null==l?(t.remove(a),u=3):(c=t.get(a),t.move(c,l),u=2);s&&s({context:c?.context,operation:u,record:o})})}detach(){}}const bp=new k("_ViewRepeater"),xye=["addListener","removeListener"],Dye=["addEventListener","removeEventListener"],Sye=["on","off"];function wp(n,e,t,i){if(qe(t)&&(i=t,t=void 0),i)return wp(n,e,t).pipe(uE(i));const[r,s]=function Mye(n){return qe(n.addEventListener)&&qe(n.removeEventListener)}(n)?Dye.map(o=>a=>n[o](e,a,t)):function Iye(n){return qe(n.addListener)&&qe(n.removeListener)}(n)?xye.map(Cq(n,e)):function Tye(n){return qe(n.on)&&qe(n.off)}(n)?Sye.map(Cq(n,e)):[];if(!r&&lw(n))return gn(o=>wp(o,e,t))(ti(n));if(!r)throw new TypeError("Invalid event target");return new nt(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function Cq(n,e){return t=>i=>n[t](e,i)}const Cp={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Cp;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new mn(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Cp;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Cp;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},Rye=new class kye extends WM{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Aye extends qM{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Cp.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(Cp.cancelAnimationFrame(t),e._scheduled=void 0)}});let cA,Nye=1;const Vv={};function Eq(n){return n in Vv&&(delete Vv[n],!0)}const Oye={setImmediate(n){const e=Nye++;return Vv[e]=!0,cA||(cA=Promise.resolve()),cA.then(()=>Eq(e)&&n()),e},clearImmediate(n){Eq(n)}},{setImmediate:Pye,clearImmediate:Fye}=Oye,Bv={setImmediate(...n){const{delegate:e}=Bv;return(e?.setImmediate||Pye)(...n)},clearImmediate(n){const{delegate:e}=Bv;return(e?.clearImmediate||Fye)(n)},delegate:void 0},Bye=new class Vye extends WM{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Lye extends qM{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Bv.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(Bv.clearImmediate(t),e._scheduled=void 0)}});function uA(n,e=GM){return function Uye(n){return Nt((e,t)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const c=r;r=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(Ct(t,c=>{i=!0,r=c,s||ti(n(c)).subscribe(s=Ct(t,a,l))},()=>{o=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>function jye(n=0,e,t=oge){let i=-1;return null!=e&&(PR(e)?t=e:i=e),new nt(r=>{let s=function Hye(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,e))}const zye=["contentWrapper"],$ye=["*"],qye=new k("VIRTUAL_SCROLL_STRATEGY");let Ep=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new ue,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new nt(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(uA(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):W()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(vn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Xs(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>wp(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(C(ne),C(pn),C(we,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xp=(()=>{class n{constructor(t,i,r,s){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new ue,this._elementScrolled=new nt(o=>this.ngZone.runOutsideAngular(()=>wp(this.elementRef.nativeElement,"scroll").pipe(At(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=hp()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==hp()?t.left=t.right:1==hp()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;h4()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?r:i:"end"==t&&(t=o?i:r),o&&2==hp()?t==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==hp()?t==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(y(ve),y(Ep),y(ne),y(Il,8))},n.\u0275dir=I({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),Dp=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new ue,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(uA(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(C(pn),C(ne),C(we,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xq=new k("VIRTUAL_SCROLLABLE");let Kye=(()=>{class n extends xp{constructor(t,i,r,s){super(t,i,r,s)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(y(ve),y(Ep),y(ne),y(Il,8))},n.\u0275dir=I({type:n,features:[$]}),n})();const Qye=typeof requestAnimationFrame<"u"?Rye:Bye;let Xye=(()=>{class n extends Kye{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=fn(t)}constructor(t,i,r,s,o,a,l,c){super(t,a,r,o),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=s,this.scrollable=c,this._platform=ye(pn),this._detachedSubject=new ue,this._renderedRangeSubject=new ue,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new nt(u=>this._scrollStrategy.scrolledIndexChange.subscribe(d=>Promise.resolve().then(()=>this.ngZone.run(()=>u.next(d))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=mn.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(rh(null),uA(0,Qye)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(At(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function Yye(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const s="horizontal"==this.orientation,o=s?"X":"Y";let l=`translate${o}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(l+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",s="right",o="rtl"==this.dir?.value;i="start"==t?o?s:r:"end"==t?o?r:s:t||("horizontal"===this.orientation?"left":"top");const a=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-a}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(y(ve),y(qr),y(ne),y(qye,8),y(Il,8),y(Ep),y(Dp),y(xq,8))},n.\u0275cmp=Fe({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&Lt(zye,7),2&t){let r;Se(r=Ie())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&Et("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[ce([{provide:xp,useFactory:(e,t)=>e||t,deps:[[new Vr,new Pm(xq)],n]}]),$,aC],ngContentSelectors:$ye,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(bi(),N(0,"div",0,1),Ge(2),F(),mt(3,"div",2)),2&t&&(H(3),ir("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),Uv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({}),n})(),dA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({imports:[pp,Uv,Xye,pp,Uv]}),n})();const Jye=[[["caption"]],[["colgroup"],["col"]]],eve=["caption","colgroup, col"];function hA(n){return class extends n{get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=fn(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}}}const zu=new k("CDK_TABLE");let $u=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(y(yn))},n.\u0275dir=I({type:n,selectors:[["","cdkCellDef",""]]}),n})(),qu=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(y(yn))},n.\u0275dir=I({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),Hv=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(y(yn))},n.\u0275dir=I({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class rve{}const sve=hA(rve);let eo=(()=>{class n extends sve{get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const i=this._stickyEnd;this._stickyEnd=fn(t),this._hasStickyChanged=i!==this._stickyEnd}constructor(t){super(),this._table=t,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(y(zu,8))},n.\u0275dir=I({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,i,r){if(1&t&&(an(r,$u,5),an(r,qu,5),an(r,Hv,5)),2&t){let s;Se(s=Ie())&&(i.cell=s.first),Se(s=Ie())&&(i.headerCell=s.first),Se(s=Ie())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[ce([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),$]}),n})();class fA{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let pA=(()=>{class n extends fA{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(y(eo),y(ve))},n.\u0275dir=I({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[$]}),n})(),mA=(()=>{class n extends fA{constructor(t,i){if(super(t,i),1===t._table?._elementRef.nativeElement.nodeType){const r=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(y(eo),y(ve))},n.\u0275dir=I({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[$]}),n})();class Sq{constructor(){this.tasks=[],this.endTasks=[]}}const gA=new k("_COALESCED_STYLE_SCHEDULER");let Iq=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new ue}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Sq,this._getScheduleObservable().pipe(At(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new Sq;for(const i of t.tasks)i();for(const i of t.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?zt(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Ci(1))}}return n.\u0275fac=function(t){return new(t||n)(C(ne))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),_A=(()=>{class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){const i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Sp?t.headerCell.template:this instanceof Ip?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(y(yn),y(Ss))},n.\u0275dir=I({type:n,features:[An]}),n})();class ove extends _A{}const ave=hA(ove);let Sp=(()=>{class n extends ave{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(y(yn),y(Ss),y(zu,8))},n.\u0275dir=I({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[$,An]}),n})();class lve extends _A{}const cve=hA(lve);let Ip=(()=>{class n extends cve{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(y(yn),y(Ss),y(zu,8))},n.\u0275dir=I({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[$,An]}),n})(),jv=(()=>{class n extends _A{constructor(t,i,r){super(t,i),this._table=r}}return n.\u0275fac=function(t){return new(t||n)(y(yn),y(Ss),y(zu,8))},n.\u0275dir=I({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[$]}),n})(),to=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(y(Nn))},n.\u0275dir=I({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),yA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Fe({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&Li(0,0)},dependencies:[to],encapsulation:2}),n})(),bA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Fe({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&Li(0,0)},dependencies:[to],encapsulation:2}),n})(),zv=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(y(yn))},n.\u0275dir=I({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const Tq=["top","bottom","left","right"];class uve{constructor(e,t,i,r,s=!0,o=!0,a){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=o,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const i=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,t)})}updateStickyColumns(e,t,i,r=!0){if(!e.length||!this._isBrowser||!t.some(h=>h)&&!i.some(h=>h))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=e[0],o=s.children.length,a=this._getCellWidths(s,r),l=this._getStickyStartColumnPositions(a,t),c=this._getStickyEndColumnPositions(a,i),u=t.lastIndexOf(!0),d=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const h="rtl"===this.direction,f=h?"right":"left",p=h?"left":"right";for(const g of e)for(let _=0;_<o;_++){const v=g.children[_];t[_]&&this._addStickyStyle(v,f,l[_],_===u),i[_]&&this._addStickyStyle(v,p,c[_],_===d)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===u?[]:a.slice(0,u+1).map((g,_)=>t[_]?g:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===d?[]:a.slice(d).map((g,_)=>i[_+d]?g:null).reverse()}))})}stickRows(e,t,i){if(!this._isBrowser)return;const r="bottom"===i?e.slice().reverse():e,s="bottom"===i?t.slice().reverse():t,o=[],a=[],l=[];for(let u=0,d=0;u<r.length;u++){if(!s[u])continue;o[u]=d;const h=r[u];l[u]=this._isNativeHtmlTable?Array.from(h.children):[h];const f=h.getBoundingClientRect().height;d+=f,a[u]=f}const c=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let u=0;u<r.length;u++){if(!s[u])continue;const d=o[u],h=u===c;for(const f of l[u])this._addStickyStyle(f,i,d,h)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:o,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:o,elements:l})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const i=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const r of t)e.style[r]="",e.classList.remove(this._borderCellCss[r]);Tq.some(r=>-1===t.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const r of Tq)e.style[r]&&(i+=t[r]);return i?`${i}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=e.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,t){const i=[];let r=0;for(let s=0;s<e.length;s++)t[s]&&(i[s]=r,r+=e[s]);return i}_getStickyEndColumnPositions(e,t){const i=[];let r=0;for(let s=e.length;s>0;s--)t[s]&&(i[s]=r,r+=e[s]);return i}}const wA=new k("CDK_SPL");let $v=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(y(Nn),y(ve))},n.\u0275dir=I({type:n,selectors:[["","rowOutlet",""]]}),n})(),qv=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(y(Nn),y(ve))},n.\u0275dir=I({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),Wv=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(y(Nn),y(ve))},n.\u0275dir=I({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),Gv=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(y(Nn),y(ve))},n.\u0275dir=I({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),Kv=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=fn(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=fn(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,i,r,s,o,a,l,c,u,d,h,f){this._differs=t,this._changeDetectorRef=i,this._elementRef=r,this._dir=o,this._platform=l,this._viewRepeater=c,this._coalescedStyleScheduler=u,this._viewportRuler=d,this._stickyPositioningListener=h,this._ngZone=f,this._onDestroy=new ue,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new et,this.viewChange=new Vi({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=a,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(At(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),lA(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(r,s,o)=>this._getEmbeddedViewArgs(r.item,o),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&ne.isInAngularZone()?this._ngZone.onStable.pipe(Ci(1),At(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=t.length?"":"none");const s=this._headerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,s,"top"),this._headerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=t.length?"":"none");const s=this._footerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,o)=>{this._addStickyColumnStyles([s],this._headerRowDefs[o])}),this._rowDefs.forEach(s=>{const o=[];for(let a=0;a<i.length;a++)this._renderRows[a].rowDef===s&&o.push(i[a]);this._addStickyColumnStyles(o,s)}),r.forEach((s,o)=>{this._addStickyColumnStyles([s],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const o=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let a=0;a<o.length;a++){let l=o[a];const c=this._cachedRenderRowsMap.get(l.data);c.has(l.rowDef)?c.get(l.rowDef).push(l):c.set(l.rowDef,[l]),t.push(l)}}return t}_getRenderRowsForData(t,i,r){return this._getRowDefs(t,i).map(o=>{const a=r&&r.has(o)?r.get(o):[];if(a.length){const l=a.shift();return l.dataIndex=i,l}return{data:t,rowDef:o,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Yv(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=Yv(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Yv(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Yv(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(o,a)=>o||!!a.getColumnsDiff(),i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(t){this._data=[],lA(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;lA(this.dataSource)?t=this.dataSource.connect(this):function Zye(n){return!!n&&(n instanceof nt||qe(n.lift)&&qe(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=W(this.dataSource)),this._renderChangeSubscription=t.pipe(At(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){const r=Array.from(i.columns||[]).map(a=>this._columnDefsByName.get(a)),s=r.map(a=>a.sticky),o=r.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const i=[];for(let r=0;r<t.viewContainer.length;r++){const s=t.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(t,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,t));else{let s=this._rowDefs.find(o=>o.when&&o.when(i,t))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(t,i){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:i}}_renderRow(t,i,r,s={}){const o=t.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),o}_renderCellTemplateForItem(t,i){for(let r of this._getCellTemplates(t))to.mostRecentCellOutlet&&to.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const o=t.get(i).context;o.count=r,o.first=0===i,o.last=i===r-1,o.even=i%2==0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[i].dataIndex,o.renderIndex=i):o.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,i=>{const r=this._columnDefsByName.get(i);return t.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const o of r.outlets)s.appendChild(o.elementRef.nativeElement);t.appendChild(s)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new uve(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:W()).pipe(At(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(t.templateRef),o=s.rootNodes[0];1===s.rootNodes.length&&o?.nodeType===this._document.ELEMENT_NODE&&(o.setAttribute("role","row"),o.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(t){return new(t||n)(y(Ss),y(qr),y(ve),ba("role"),y(Il,8),y(we),y(pn),y(bp),y(gA),y(Dp),y(wA,12),y(ne,8))},n.\u0275cmp=Fe({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,i,r){if(1&t&&(an(r,zv,5),an(r,eo,5),an(r,jv,5),an(r,Sp,5),an(r,Ip,5)),2&t){let s;Se(s=Ie())&&(i._noDataRow=s.first),Se(s=Ie())&&(i._contentColumnDefs=s),Se(s=Ie())&&(i._contentRowDefs=s),Se(s=Ie())&&(i._contentHeaderRowDefs=s),Se(s=Ie())&&(i._contentFooterRowDefs=s)}},viewQuery:function(t,i){if(1&t&&(Lt($v,7),Lt(qv,7),Lt(Wv,7),Lt(Gv,7)),2&t){let r;Se(r=Ie())&&(i._rowOutlet=r.first),Se(r=Ie())&&(i._headerRowOutlet=r.first),Se(r=Ie())&&(i._footerRowOutlet=r.first),Se(r=Ie())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,i){2&t&&Et("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[ce([{provide:zu,useExisting:n},{provide:bp,useClass:bq},{provide:gA,useClass:Iq},{provide:wA,useValue:null}])],ngContentSelectors:eve,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(bi(Jye),Ge(0),Ge(1,1),Li(2,0)(3,1)(4,2)(5,3))},dependencies:[$v,qv,Wv,Gv],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function Yv(n,e){return n.concat(Array.from(e))}let hve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({imports:[dA]}),n})();const fve=[[["caption"]],[["colgroup"],["col"]]],pve=["caption","colgroup, col"];let Aq=(()=>{class n extends Kv{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Be(n)))(i||n)}}(),n.\u0275cmp=Fe({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,i){2&t&&Et("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[ce([{provide:Kv,useExisting:n},{provide:zu,useExisting:n},{provide:gA,useClass:Iq},{provide:bp,useClass:bq},{provide:wA,useValue:null}]),$],ngContentSelectors:pve,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(bi(fve),Ge(0),Ge(1,1),Li(2,0)(3,1)(4,2)(5,3))},dependencies:[$v,qv,Wv,Gv],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),CA=(()=>{class n extends $u{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Be(n)))(i||n)}}(),n.\u0275dir=I({type:n,selectors:[["","matCellDef",""]],features:[ce([{provide:$u,useExisting:n}]),$]}),n})(),EA=(()=>{class n extends qu{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Be(n)))(i||n)}}(),n.\u0275dir=I({type:n,selectors:[["","matHeaderCellDef",""]],features:[ce([{provide:qu,useExisting:n}]),$]}),n})(),xA=(()=>{class n extends eo{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Be(n)))(i||n)}}(),n.\u0275dir=I({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[ce([{provide:eo,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),$]}),n})(),DA=(()=>{class n extends pA{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Be(n)))(i||n)}}(),n.\u0275dir=I({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[$]}),n})(),SA=(()=>{class n extends mA{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Be(n)))(i||n)}}(),n.\u0275dir=I({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[$]}),n})(),kq=(()=>{class n extends Sp{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Be(n)))(i||n)}}(),n.\u0275dir=I({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[ce([{provide:Sp,useExisting:n}]),$]}),n})(),Rq=(()=>{class n extends jv{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Be(n)))(i||n)}}(),n.\u0275dir=I({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[ce([{provide:jv,useExisting:n}]),$]}),n})(),Nq=(()=>{class n extends yA{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Be(n)))(i||n)}}(),n.\u0275cmp=Fe({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[ce([{provide:yA,useExisting:n}]),$],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&Li(0,0)},dependencies:[to],encapsulation:2}),n})(),Oq=(()=>{class n extends bA{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Be(n)))(i||n)}}(),n.\u0275cmp=Fe({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[ce([{provide:bA,useExisting:n}]),$],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&Li(0,0)},dependencies:[to],encapsulation:2}),n})(),xve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({imports:[nn,hve,nn]}),n})();const Sve=["determinateSpinner"];function Ive(n,e){if(1&n&&(Nw(),N(0,"svg",11),mt(1,"circle",12),F()),2&n){const t=_t();Pt("viewBox",t._viewBox()),H(1),ir("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),Pt("r",t._circleRadius())}}const Tve=XM(class{constructor(n){this._elementRef=n}},"primary"),Mve=new k("mat-progress-spinner-default-options",{providedIn:"root",factory:function Ave(){return{diameter:Pq}}}),Pq=100;let Rve=(()=>{class n extends Tve{constructor(t,i,r){super(t),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=Pq,this._noopAnimations="NoopAnimations"===i&&!!r&&!r._forceAnimations,r&&(r.color&&(this.color=this.defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,xv(t)))}get diameter(){return this._diameter}set diameter(t){this._diameter=xv(t)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=xv(t)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return n.\u0275fac=function(t){return new(t||n)(y(ve),y(uo,8),y(Mve))},n.\u0275cmp=Fe({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,i){if(1&t&&Lt(Sve,5),2&t){let r;Se(r=Ie())&&(i._determinateCircle=r.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:12,hostBindings:function(t,i){2&t&&(Pt("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),ir("width",i.diameter,"px")("height",i.diameter,"px"),Et("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===i.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[$],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,i){if(1&t&&(be(0,Ive,2,8,"ng-template",null,0,pg),N(2,"div",1,2),Nw(),N(4,"svg",3),mt(5,"circle",4),F()(),function C1(){!function g6(){pe.lFrame.currentNamespace=null}()}(),N(6,"div",5)(7,"div",6)(8,"div",7),Li(9,8),F(),N(10,"div",9),Li(11,8),F(),N(12,"div",10),Li(13,8),F()()()),2&t){const r=Ld(1);H(4),Pt("viewBox",i._viewBox()),H(1),ir("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),Pt("r",i._circleRadius()),H(4),X("ngTemplateOutlet",r),H(2),X("ngTemplateOutlet",r),H(2),X("ngTemplateOutlet",r)}},dependencies:[XC],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, transparent)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),Nve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({imports:[Na,nn]}),n})();const Ove=new k("MAT_SORT_DEFAULT_OPTIONS"),Pve=$ge(N4(class{}));let Fve=(()=>{class n extends Pve{get direction(){return this._direction}set direction(t){this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=fn(t)}constructor(t){super(),this._defaultOptions=t,this.sortables=new Map,this._stateChanges=new ue,this.start="asc",this._direction="",this.sortChange=new et}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let r=function Lve(n,e){let t=["asc","desc"];return"desc"==n&&t.reverse(),e||t.push(""),t}(t.start||this.start,t?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),s=r.indexOf(this.direction)+1;return s>=r.length&&(s=0),r[s]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(y(Ove,8))},n.\u0275dir=I({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[$,An]}),n})(),IA=(()=>{class n{constructor(){this.changes=new ue}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bve={provide:IA,deps:[[new Vr,new Ca,IA]],useFactory:function Vve(n){return n||new IA}};let Uve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({providers:[Bve],imports:[Na,nn]}),n})();function Hve(n,e){1&n&&mt(0,"mat-spinner")}function jve(n,e){if(1&n&&(N(0,"div",12),be(1,Hve,1,0,"mat-spinner",13),F()),2&n){const t=_t();H(1),X("ngIf",t.isLoadingResults)}}function zve(n,e){1&n&&(N(0,"th",14),Ae(1,"Room Name"),F())}function $ve(n,e){if(1&n&&(N(0,"td",15),Ae(1),F()),2&n){const t=e.$implicit;H(1),xs(t.roomname)}}function qve(n,e){1&n&&mt(0,"tr",16)}function Wve(n,e){if(1&n){const t=Vd();N(0,"tr",17),gt("click",function(){const s=_d(t).$implicit;return yd(_t().enterChatRoom(s.roomname))}),F()}}const Gve=function(){return["/addroom"]},Fq=n=>{const e=[];return n.forEach(t=>{const i=t.val();i.key=t.key,e.push(i)}),e};let Kve=(()=>{class n{constructor(t,i,r){this.route=t,this.router=i,this.datepipe=r,this.nickname="",this.displayedColumns=["roomname"],this.rooms=[],this.isLoadingResults=!0,this.nickname=JSON.parse(localStorage.getItem("nickname")),Gt.database().ref("rooms/").on("value",s=>{this.rooms=[],this.rooms=Fq(s),this.isLoadingResults=!1})}ngOnInit(){}enterChatRoom(t){const i={roomname:"",nickname:"",message:"",date:"",type:""};i.roomname=t,i.nickname=this.nickname,i.date=this.datepipe.transform(new Date,"dd/MM/yyyy HH:mm:ss"),i.message=`${this.nickname} enter the room`,i.type="join",Gt.database().ref("chats/").push().set(i),Gt.database().ref("roomusers/").orderByChild("roomname").equalTo(t).on("value",s=>{let o=[];o=Fq(s);const a=o.find(l=>l.nickname===this.nickname);if(void 0!==a)Gt.database().ref("roomusers/"+a.key).update({status:"online"});else{const l={roomname:"",nickname:"",status:""};l.roomname=t,l.nickname=this.nickname,l.status="online",Gt.database().ref("roomusers/").push().set(l)}}),this.router.navigate(["/chatroom",t])}logout(){localStorage.removeItem("nickname"),this.router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(y(Rs),y(Pn),y(eh))},n.\u0275cmp=Fe({type:n,selectors:[["app-roomlist"]],decls:20,vars:7,consts:[[1,"example-container","mat-elevation-z8"],["mat-flat-button","",3,"click"],["class","example-loading-shade",4,"ngIf"],[1,"button-row"],["mat-flat-button","","color","primary",3,"routerLink"],[1,"mat-elevation-z8"],["mat-table","","matSort","","matSortActive","roomname","matSortDisableClear","","matSortDirection","asc",1,"example-table",3,"dataSource"],["matColumnDef","roomname"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"example-loading-shade"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(t,i){1&t&&(N(0,"div",0)(1,"h3"),Ae(2),N(3,"button",1),gt("click",function(){return i.logout()}),N(4,"mat-icon"),Ae(5,"logout"),F()()(),N(6,"h2"),Ae(7,"Room List"),F(),be(8,jve,2,1,"div",2),N(9,"div",3)(10,"button",4)(11,"mat-icon"),Ae(12,"add"),F()()(),N(13,"div",5)(14,"table",6),xc(15,7),be(16,zve,2,0,"th",8),be(17,$ve,2,1,"td",9),Dc(),be(18,qve,1,0,"tr",10),be(19,Wve,1,0,"tr",11),F()()()),2&t&&(H(2),rr("",i.nickname," "),H(6),X("ngIf",i.isLoadingResults),H(2),X("routerLink",function dF(n,e,t){const i=ri()+n,r=T();return r[i]===me?Hr(r,i,t?e.call(t):e()):function Fd(n,e){return n[e]}(r,i)}(6,Gve)),H(4),X("dataSource",i.rooms),H(4),X("matHeaderRowDef",i.displayedColumns),H(1),X("matRowDefColumns",i.displayedColumns))},dependencies:[fo,u_,Lv,Aq,EA,kq,xA,CA,Rq,DA,SA,Nq,Oq,Rve,Fve],styles:[".example-container[_ngcontent-%COMP%]{position:relative;padding:10px}.example-table-container[_ngcontent-%COMP%]{position:relative;max-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.button-row[_ngcontent-%COMP%]{margin:10px 0}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.example-rate-limit-reached[_ngcontent-%COMP%]{color:#980000;max-width:360px;text-align:center}.mat-column-number[_ngcontent-%COMP%], .mat-column-state[_ngcontent-%COMP%]{max-width:64px}.mat-column-created[_ngcontent-%COMP%]{max-width:124px}"]}),n})();const Yve=["mat-button",""],Qve=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Xve=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Zve=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Jve=XM(N4(jge(class{constructor(n){this._elementRef=n}})));let ebe=(()=>{class n extends Jve{constructor(t,i,r,s){super(t),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=ye(T4),this._isFab=!1;const o=t.nativeElement.classList;for(const a of Zve)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{o.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){k0()},n.\u0275dir=I({type:n,viewQuery:function(t,i){if(1&t&&Lt(B4,5),2&t){let r;Se(r=Ie())&&(i.ripple=r.first)}},features:[$]}),n})(),nbe=(()=>{class n extends ebe{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(y(ve),y(pn),y(ne),y(uo,8))},n.\u0275cmp=Fe({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(Pt("disabled",i.disabled||null),Et("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[$],attrs:Yve,ngContentSelectors:Xve,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(bi(Qve),mt(0,"span",0),Ge(1),N(2,"span",1),Ge(3,1),F(),Ge(4,2),mt(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(Et("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),H(6),X("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[B4],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),rbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({imports:[nn,Zge,nn]}),n})();class TA{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class MA extends TA{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class Lq extends TA{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class sbe extends TA{constructor(e){super(),this.element=e instanceof ve?e.nativeElement:e}}class AA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof MA?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Lq?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof sbe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class obe extends AA{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||_n.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Vq=(()=>{class n extends AA{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new et,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=i.createComponent(s,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(y(Sa),y(Nn),y(we))},n.\u0275dir=I({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[$]}),n})(),Bq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({}),n})();const Uq=h4();class abe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=tn(-this._previousScrollPosition.left),e.style.top=tn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Uq&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Uq&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class lbe{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(vn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Hq{enable(){}disable(){}attach(){}}function kA(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function jq(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class cbe{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();kA(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ube=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Hq,this.close=o=>new lbe(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new abe(this._viewportRuler,this._document),this.reposition=o=>new cbe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(C(Ep),C(Dp),C(ne),C(we))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class zq{constructor(e){if(this.scrollStrategy=new Hq,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class dbe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let $q=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(C(we))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hbe=(()=>{class n extends $q{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(C(we),C(ne,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fbe=(()=>{class n extends $q{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Qo(s)},this._clickListener=s=>{const o=Qo(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(C(we),C(pn),C(ne,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qq=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||$M()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),$M()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(C(we),C(pn))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pbe{constructor(e,t,i,r,s,o,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new ue,this._attachments=new ue,this._detachments=new ue,this._locationChanges=mn.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new ue,this._outsidePointerEvents=new ue,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ci(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=tn(this._config.width),e.height=tn(this._config.height),e.minWidth=tn(this._config.minWidth),e.minHeight=tn(this._config.minHeight),e.maxWidth=tn(this._config.maxWidth),e.maxHeight=tn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Dv(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(At(cm(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Wq="cdk-overlay-connected-position-bounding-box",mbe=/([A-Za-z%]+)$/;class gbe{get positions(){return this._preferredPositions}constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ue,this._resizeSubscription=mn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(Wq),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ml(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Wq),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?o:a}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=Kq(t);let{x:o,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-i.height,p=this._subtractOverflows(s.width,0-o,o+s.width-i.width),g=this._subtractOverflows(s.height,h,f),_=p*g;return{visibleArea:_,isCompletelyWithinViewport:s.width*s.height===_,fitsInViewportVertically:g===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,o=Gq(this._overlayRef.getConfig().minHeight),a=Gq(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=Kq(t),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),a=Math.max(e.y+r.height-s.height,0),l=Math.max(s.top-i.top-e.y,0),c=Math.max(s.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-i.left-e.x:0,d=r.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new dbe(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=i.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,s=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-e.y+i.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const f=Math.min(i.right-e.x+i.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=tn(i.height),r.top=tn(i.top),r.bottom=tn(i.bottom),r.width=tn(i.width),r.left=tn(i.left),r.right=tn(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=tn(s)),o&&(r.maxWidth=tn(o))}this._lastBoundingBoxSize=i,Ml(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ml(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ml(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Ml(i,this._getExactOverlayY(t,e,u)),Ml(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=tn(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=tn(o.maxWidth):s&&(i.maxWidth="")),Ml(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=tn(s.y),r}_getExactOverlayX(e,t,i){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=tn(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jq(e,i),isOriginOutsideView:kA(e,i),isOverlayClipped:jq(t,i),isOverlayOutsideView:kA(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Dv(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof ve)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Ml(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Gq(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(mbe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function Kq(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Yq="cdk-global-overlay-wrapper";class _be{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Yq),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",g="";l?g="flex-start":"center"===u?(g="center",h?p=d:f=d):h?"left"===u||"end"===u?(g="flex-end",f=d):("right"===u||"start"===u)&&(g="flex-start",p=d):"left"===u||"start"===u?(g="flex-start",f=d):("right"===u||"end"===u)&&(g="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,t.justifyContent=g,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Yq),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let ybe=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new _be}flexibleConnectedTo(t){return new gbe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(C(Dp),C(we),C(pn),C(qq))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vbe=0,Qv=(()=>{class n{constructor(t,i,r,s,o,a,l,c,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new zq(t);return o.direction=o.direction||this._directionality.value,new pbe(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+vbe++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Rc)),new obe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(C(ube),C(qq),C(Sa),C(ybe),C(hbe),C(_n),C(ne),C(we),C(Il),C(Eg),C(fbe),C(uo,8))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cbe={provide:new k("cdk-connected-overlay-scroll-strategy"),deps:[Qv],useFactory:function wbe(n){return()=>n.scrollStrategies.reposition()}};let Ebe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({providers:[Qv,Cbe],imports:[pp,Bq,dA,dA]}),n})();function xbe(n,e){if(1&n){const t=Vd();N(0,"div",2)(1,"button",3),gt("click",function(){return _d(t),yd(_t().action())}),Ae(2),F()()}if(2&n){const t=_t();H(2),rr(" ",t.data.action," ")}}const Dbe=["label"];function Sbe(n,e){}const Ibe=Math.pow(2,31)-1;class RA{constructor(e,t){this._overlayRef=t,this._afterDismissed=new ue,this._afterOpened=new ue,this._onAction=new ue,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,Ibe))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const Qq=new k("MatSnackBarData");class Xv{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let Tbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),n})(),Mbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),n})(),Abe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=I({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),n})(),kbe=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(y(RA),y(Qq))},n.\u0275cmp=Fe({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(t,i){1&t&&(N(0,"div",0),Ae(1),F(),be(2,xbe,3,1,"div",1)),2&t&&(H(1),rr(" ",i.data.message,"\n"),H(1),X("ngIf",i.hasAction))},dependencies:[fo,nbe,Tbe,Mbe,Abe],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),n})();const Rbe={snackBarState:Js("state",[jn("void, hidden",rt({transform:"scale(0.8)",opacity:0})),jn("visible",rt({transform:"scale(1)",opacity:1})),mi("* => visible",Ii("150ms cubic-bezier(0, 0, 0.2, 1)")),mi("* => void, * => hidden",Ii("75ms cubic-bezier(0.4, 0.0, 1, 1)",rt({opacity:0})))])};let Nbe=0,Obe=(()=>{class n extends AA{constructor(t,i,r,s,o){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._document=ye(we),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ue,this._onExit=new ue,this._onEnter=new ue,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Nbe++,this.attachDomPortal=a=>{this._assertNotAttached();const l=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),l},this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Ci(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i)),this._exposeToModals()}_exposeToModals(){const t=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");this._trackedModals.add(s),o?-1===o.indexOf(t)&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const i=t.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(y(ne),y(ve),y(qr),y(pn),y(Xv))},n.\u0275dir=I({type:n,viewQuery:function(t,i){if(1&t&&Lt(Vq,7),2&t){let r;Se(r=Ie())&&(i._portalOutlet=r.first)}},features:[$]}),n})(),Pbe=(()=>{class n extends Obe{_afterPortalAttached(){super._afterPortalAttached();const t=this._label.nativeElement,i="mdc-snackbar__label";t.classList.toggle(i,!t.querySelector(`.${i}`))}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Be(n)))(i||n)}}(),n.\u0275cmp=Fe({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,i){if(1&t&&Lt(Dbe,7),2&t){let r;Se(r=Ie())&&(i._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(t,i){1&t&&ig("@state.done",function(s){return i.onAnimationEnd(s)}),2&t&&og("@state",i._animationState)},features:[$],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(N(0,"div",0)(1,"div",1,2)(3,"div",3),be(4,Sbe,0,0,"ng-template",4),F(),mt(5,"div"),F()()),2&t&&(H(5),Pt("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[Vq],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Rbe.snackBarState]}}),n})(),Xq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({imports:[Ebe,Bq,Na,rbe,nn,nn]}),n})();const Zq=new k("mat-snack-bar-default-options",{providedIn:"root",factory:function Fbe(){return new Xv}});let Lbe=(()=>{class n{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,i,r,s,o,a){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const s={...this._defaultConfig,...r};return s.data={message:t,action:i},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const s=_n.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:Xv,useValue:i}]}),o=new MA(this.snackBarContainerComponent,i.viewContainerRef,s),a=t.attach(o);return a.instance.snackBarConfig=i,a.instance}_attach(t,i){const r={...new Xv,...this._defaultConfig,...i},s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),a=new RA(o,s);if(t instanceof yn){const l=new Lq(t,null,{$implicit:r.data,snackBarRef:a});a.instance=o.attachTemplatePortal(l)}else{const l=this._createInjector(r,a),c=new MA(t,void 0,l),u=o.attachComponentPortal(c);a.instance=u.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(At(s.detachments())).subscribe(l=>{s.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new zq;i.direction=t.direction;let r=this._overlay.position().global();const s="rtl"===t.direction,o="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,a=!o&&"center"!==t.horizontalPosition;return o?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return _n.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:RA,useValue:i},{provide:Qq,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(C(Qv),C(I4),C(_n),C(YM),C(n,12),C(Zq))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),Vbe=(()=>{class n extends Lbe{constructor(t,i,r,s,o,a){super(t,i,r,s,o,a),this.simpleSnackBarComponent=kbe,this.snackBarContainerComponent=Pbe,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(C(Qv),C(I4),C(_n),C(YM),C(n,12),C(Zq))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:Xq}),n})();function Bbe(n,e){1&n&&(N(0,"span"),Ae(1,"Enter room name"),F())}class Ube{isErrorState(e,t){return!!(e&&e.invalid&&(e.dirty||e.touched||t&&t.submitted))}}let Hbe=(()=>{class n{constructor(t,i,r,s){this.router=t,this.route=i,this.formBuilder=r,this.snackBar=s,this.nickname="",this.roomname="",this.ref=Gt.database().ref("rooms/"),this.matcher=new Ube}ngOnInit(){this.roomForm=this.formBuilder.group({roomname:[null,bh.required]})}onFormSubmit(t){const i=t;this.ref.orderByChild("roomname").equalTo(i.roomname).once("value",r=>{r.exists()?this.snackBar.open("Room name already exist!"):(Gt.database().ref("rooms/").push().set(i),this.router.navigate(["/roomlist"]))})}}return n.\u0275fac=function(t){return new(t||n)(y(Pn),y(Rs),y(lx),y(Vbe))},n.\u0275cmp=Fe({type:n,selectors:[["app-addroom"]],decls:14,vars:4,consts:[[1,"container"],[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","placeholder","Enter room name","formControlName","roomname",3,"errorStateMatcher"],[4,"ngIf"],[1,"button-row"],["type","submit","mat-fab","","color","primary",3,"disabled"]],template:function(t,i){if(1&t&&(N(0,"div",0)(1,"form",1),gt("ngSubmit",function(){return i.onFormSubmit(i.roomForm.value)}),N(2,"h2"),Ae(3,"Please enter new Room"),F(),N(4,"mat-form-field",2)(5,"mat-label"),Ae(6,"Room Name"),F(),mt(7,"input",3),N(8,"mat-error"),be(9,Bbe,2,0,"span",4),F()(),N(10,"div",5)(11,"button",6)(12,"mat-icon"),Ae(13,"save"),F()()()()()),2&t){let r;H(1),X("formGroup",i.roomForm),H(6),X("errorStateMatcher",i.matcher),H(2),X("ngIf",!(null!=(r=i.roomForm.get("roomname"))&&r.valid)&&(null==(r=i.roomForm.get("roomname"))?null:r.touched)),H(2),X("disabled",!i.roomForm.valid)}},dependencies:[fo,E_,Va,wh,f_,Ua,Mh,nA,eA,Av,JM,Lv],styles:[".example-container[_ngcontent-%COMP%]{position:relative;padding:5px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.example-full-width[_ngcontent-%COMP%]:nth-last-child(0){margin-bottom:10px}.button-row[_ngcontent-%COMP%]{margin:10px 0}.mat-flat-button[_ngcontent-%COMP%]{margin:5px}"]}),n})();const jbe=["*"],Gbe=new k("MAT_CARD_CONFIG");let Jq=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(y(Gbe,8))},n.\u0275cmp=Fe({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,i){2&t&&Et("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:jbe,decls:1,vars:0,template:function(t,i){1&t&&(bi(),Ge(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),awe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({imports:[nn,Na,nn]}),n})();const eW=["*"],lwe=["content"];function cwe(n,e){if(1&n){const t=Vd();N(0,"div",2),gt("click",function(){return _d(t),yd(_t()._onBackdropClicked())}),F()}2&n&&Et("mat-drawer-shown",_t()._isShowingBackdrop())}function uwe(n,e){1&n&&(N(0,"mat-drawer-content"),Ge(1,2),F())}const dwe=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],hwe=["mat-drawer","mat-drawer-content","*"],fwe={transformDrawer:Js("transform",[jn("open, open-instant",rt({transform:"none",visibility:"visible"})),jn("void",rt({"box-shadow":"none",visibility:"hidden"})),mi("void => open-instant",Ii("0ms")),mi("void <=> open, open-instant => void",Ii("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},pwe=new k("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function mwe(){return!1}}),tW=new k("MAT_DRAWER_CONTAINER");let Zv=(()=>{class n extends xp{constructor(t,i,r,s,o){super(r,s,o),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(y(qr),y(at(()=>iW)),y(ve),y(Ep),y(ne))},n.\u0275cmp=Fe({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&ir("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[ce([{provide:xp,useExisting:n}]),$],ngContentSelectors:eW,decls:1,vars:0,template:function(t,i){1&t&&(bi(),Ge(0))},encapsulation:2,changeDetection:0}),n})(),nW=(()=>{class n{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=fn(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=fn(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(fn(t))}constructor(t,i,r,s,o,a,l,c){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=o,this._interactivityChecker=a,this._doc=l,this._container=c,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ue,this._animationEnd=new ue,this._animationState="void",this.openedChange=new et(!0),this._openedStream=this.openedChange.pipe(vn(u=>u),oe(()=>{})),this.openedStart=this._animationStarted.pipe(vn(u=>u.fromState!==u.toState&&0===u.toState.indexOf("open")),mE(void 0)),this._closedStream=this.openedChange.pipe(vn(u=>!u),oe(()=>{})),this.closedStart=this._animationStarted.pipe(vn(u=>u.fromState!==u.toState&&"void"===u.toState),mE(void 0)),this._destroyed=new ue,this.onPositionChanged=new et,this._modeChanged=new ue,this.openedChange.subscribe(u=>{u?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{wp(this._elementRef.nativeElement,"keydown").pipe(vn(u=>27===u.keyCode&&!this.disableClose&&!function ige(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(u)),At(this._destroyed)).subscribe(u=>this._ngZone.run(()=>{this.close(),u.stopPropagation(),u.preventDefault()}))}),this._animationEnd.pipe(m4((u,d)=>u.fromState===d.fromState&&u.toState===d.toState)).subscribe(u=>{const{fromState:d,toState:h}=u;(0===h.indexOf("open")&&"void"===d||"void"===h&&0===d.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(Ci(1)).subscribe(o=>s(o?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(y(ve),y(xge),y(T4),y(pn),y(ne),y(w4),y(we,8),y(tW,8))},n.\u0275cmp=Fe({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&Lt(lwe,5),2&t){let r;Se(r=Ie())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&ig("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&t&&(Pt("align",null),og("@transform",i._animationState),Et("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:eW,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(bi(),N(0,"div",0,1),Ge(2),F())},dependencies:[xp],encapsulation:2,data:{animation:[fwe.transformDrawer]},changeDetection:0}),n})(),iW=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=fn(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:fn(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,r,s,o,a=!1,l){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=l,this._drawers=new hg,this.backdropClick=new et,this._destroyed=new ue,this._doCheckSubject=new ue,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ue,t&&t.change.pipe(At(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(At(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}ngAfterContentInit(){this._allDrawers.changes.pipe(rh(this._allDrawers),At(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(rh(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(KM(10),At(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(vn(i=>i.fromState!==i.toState),At(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(At(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(At(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Ci(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(At(cm(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(y(Il,8),y(ve),y(ne),y(qr),y(Dp),y(pwe),y(uo,8))},n.\u0275cmp=Fe({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(an(r,Zv,5),an(r,nW,5)),2&t){let s;Se(s=Ie())&&(i._content=s.first),Se(s=Ie())&&(i._allDrawers=s)}},viewQuery:function(t,i){if(1&t&&Lt(Zv,5),2&t){let r;Se(r=Ie())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&Et("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[ce([{provide:tW,useExisting:n}])],ngContentSelectors:hwe,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(bi(dwe),be(0,cwe,1,2,"div",0),Ge(1),Ge(2,1),be(3,uwe,2,0,"mat-drawer-content",1)),2&t&&(X("ngIf",i.hasBackdrop),H(3),X("ngIf",!i._content))},dependencies:[fo,Zv],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),gwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({imports:[Na,nn,Uv,Uv,nn]}),n})();const _we=["chatcontent"];function ywe(n,e){if(1&n&&(N(0,"mat-card",4)(1,"mat-icon"),Ae(2,"person"),F(),N(3,"span",17),Ae(4),F()()),2&n){const t=e.$implicit;H(4),xs(t.nickname)}}function vwe(n,e){if(1&n&&(N(0,"div",21)(1,"span",22),Ae(2),cC(3,"date"),F(),N(4,"span",23),Ae(5),F()()),2&n){const t=_t().$implicit;H(2),xs(uC(3,2,t.date,"short")),H(3),xs(t.message)}}function bwe(n,e){1&n&&(N(0,"span",29),Ae(1,"Me"),F())}function wwe(n,e){if(1&n&&(N(0,"span",29),Ae(1),F()),2&n){const t=_t(2).$implicit;H(1),xs(t.nickname)}}const Cwe=function(n,e){return{"right-bubble":n,"left-bubble":e}};function Ewe(n,e){if(1&n&&(N(0,"div",24)(1,"div",25),be(2,bwe,2,0,"span",26),be(3,wwe,2,1,"span",26),N(4,"span",27),Ae(5),cC(6,"date"),F(),N(7,"p",28),Ae(8),F()()()),2&n){const t=_t().$implicit,i=_t();H(1),X("ngClass",function hF(n,e,t,i,r){return pF(T(),ri(),n,e,t,i,r)}(8,Cwe,t.nickname===i.nickname,t.nickname!==i.nickname)),H(1),X("ngIf",t.nickname===i.nickname),H(1),X("ngIf",t.nickname!==i.nickname),H(2),rr(" at ",uC(6,5,t.date,"short"),""),H(3),xs(t.message)}}function xwe(n,e){if(1&n&&(N(0,"div",18),be(1,vwe,6,5,"div",19),be(2,Ewe,9,11,"ng-template",null,20,pg),F()),2&n){const t=e.$implicit,i=Ld(3);H(1),X("ngIf","join"===t.type||"exit"===t.type)("ngIfElse",i)}}function Dwe(n,e){1&n&&(N(0,"span"),Ae(1,"Enter your message"),F())}class Swe{isErrorState(e,t){return!!(e&&e.invalid&&(e.dirty||e.touched||t&&t.submitted))}}const NA=n=>{const e=[];return n.forEach(t=>{const i=t.val();i.key=t.key,e.push(i)}),e},Iwe=[{path:"login",component:Eye},{path:"roomlist",component:Kve},{path:"addroom",component:Hbe},{path:"chatbox/:roomname",component:(()=>{class n{constructor(t,i,r,s){this.router=t,this.route=i,this.formBuilder=r,this.datepipe=s,this.nickname="",this.roomname="",this.message="",this.users=[],this.chats=[],this.matcher=new Swe,this.nickname=JSON.parse(localStorage.getItem("nickname")),this.roomname=this.route.snapshot.params.roomname,Gt.database().ref("chats/").on("value",o=>{this.chats=[],this.chats=NA(o),setTimeout(()=>this.scrolltop=this.chatcontent.nativeElement.scrollHeight,500)}),Gt.database().ref("roomusers/").orderByChild("roomname").equalTo(this.roomname).on("value",o=>{const a=NA(o);this.users=a.filter(l=>"online"===l.status)})}ngOnInit(){this.chatForm=this.formBuilder.group({message:[null,bh.required]})}onFormSubmit(t){const i=t;i.roomname=this.roomname,i.nickname=this.nickname,i.date=this.datepipe.transform(new Date,"dd/MM/yyyy HH:mm:ss"),i.type="message",Gt.database().ref("chats/").push().set(i),this.chatForm=this.formBuilder.group({message:[null,bh.required]})}exitChat(){const t={roomname:"",nickname:"",message:"",date:"",type:""};t.roomname=this.roomname,t.nickname=this.nickname,t.date=this.datepipe.transform(new Date,"dd/MM/yyyy HH:mm:ss"),t.message=`${this.nickname} leave the room`,t.type="exit",Gt.database().ref("chats/").push().set(t),Gt.database().ref("roomusers/").orderByChild("roomname").equalTo(this.roomname).on("value",r=>{let s=[];s=NA(r);const o=s.find(a=>a.nickname===this.nickname);void 0!==o&&Gt.database().ref("roomusers/"+o.key).update({status:"offline"})}),this.router.navigate(["/roomlist"])}}return n.\u0275fac=function(t){return new(t||n)(y(Pn),y(Rs),y(lx),y(eh))},n.\u0275cmp=Fe({type:n,selectors:[["app-chatroom"]],viewQuery:function(t,i){if(1&t&&Lt(_we,5),2&t){let r;Se(r=Ie())&&(i.chatcontent=r.first)}},decls:22,vars:7,consts:[[1,"example-container","mat-elevation-z8"],[1,"drawer-container"],["mode","side","opened","",1,"left-drawer"],[1,"users-pane"],[1,"users-card"],["type","button","mat-button","","matSuffix","","mat-icon-button","","aria-label","Exit",3,"click"],["class","users-card",4,"ngFor","ngForOf"],[1,"chat-pane"],[1,"chat-content",3,"scrollTop"],["chatcontent",""],["class","message-box",4,"ngFor","ngForOf"],[1,"sticky-footer"],[1,"message-form",3,"formGroup","ngSubmit"],[1,"message-form-field"],["matInput","","placeholder","Enter message here","formControlName","message",3,"errorStateMatcher"],[4,"ngIf"],["type","submit","mat-button","","matSuffix","","mat-icon-button","","aria-label","Send",3,"disabled"],[1,"username"],[1,"message-box"],["class","chat-status","text-center","",4,"ngIf","ngIfElse"],["message",""],["text-center","",1,"chat-status"],[1,"chat-date"],[1,"chat-content-center"],[1,"chat-message"],[1,"right-bubble",3,"ngClass"],["class","msg-name",4,"ngIf"],[1,"msg-date"],["text-wrap",""],[1,"msg-name"]],template:function(t,i){1&t&&(N(0,"div",0)(1,"mat-drawer-container",1)(2,"mat-drawer",2)(3,"div",3)(4,"mat-card",4)(5,"button",5),gt("click",function(){return i.exitChat()}),N(6,"mat-icon"),Ae(7,"logout"),F()()(),be(8,ywe,5,1,"mat-card",6),F()(),N(9,"mat-drawer-content",7)(10,"div",8,9),be(12,xwe,4,2,"div",10),F(),N(13,"footer",11)(14,"form",12),gt("ngSubmit",function(){return i.onFormSubmit(i.chatForm.value)}),N(15,"mat-form-field",13),mt(16,"input",14),N(17,"mat-error"),be(18,Dwe,2,0,"span",15),F(),N(19,"button",16)(20,"mat-icon"),Ae(21,"send"),F()()()()()()()()),2&t&&(H(8),X("ngForOf",i.users),H(2),X("scrollTop",i.scrolltop),H(2),X("ngForOf",i.chats),H(2),X("formGroup",i.chatForm),H(2),X("errorStateMatcher",i.matcher),H(2),X("ngIf",!i.chatForm.get("message").valid&&i.chatForm.get("message").touched),H(1),X("disabled",!i.chatForm.valid))},dependencies:[NL,FL,fo,E_,Va,wh,f_,Ua,Mh,nA,eA,JM,R_e,Lv,Jq,nW,iW,Zv,eh],styles:['.example-container[_ngcontent-%COMP%]{display:flex;padding:10px}.drawer-container[_ngcontent-%COMP%]{position:absolute;inset:0}.left-drawer[_ngcontent-%COMP%]{width:200px}.users-pane[_ngcontent-%COMP%]{height:500px}.users-card[_ngcontent-%COMP%]{margin:5px 20px}.username[_ngcontent-%COMP%]{position:absolute;margin-top:5px;margin-left:10px}footer.sticky-footer[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;padding:10px;background-color:#fff;border-top:solid 1px #efefef}.message-form[_ngcontent-%COMP%]{margin-left:200px}.message-form-field[_ngcontent-%COMP%]{width:94%;margin:0 4% 0 2%}.message-box[_ngcontent-%COMP%]{float:left;width:98%;margin:5px 0 0 2%}.chat-message[_ngcontent-%COMP%]{width:80%;min-height:40px}.chat-message[_ngcontent-%COMP%]   .right-bubble[_ngcontent-%COMP%]{position:relative;background:#dcf8c6;border-top-left-radius:.4em;border-bottom-left-radius:.4em;border-bottom-right-radius:.4em;padding:5px 10px 10px;left:15%}.chat-message[_ngcontent-%COMP%]   .right-bubble[_ngcontent-%COMP%]   span.msg-name[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:green}.chat-message[_ngcontent-%COMP%]   .right-bubble[_ngcontent-%COMP%]   span.msg-date[_ngcontent-%COMP%]{font-size:10px}.chat-message[_ngcontent-%COMP%]   .right-bubble[_ngcontent-%COMP%]:after{content:"";position:absolute;right:0;top:13px;width:0;height:0;border:27px solid transparent;border-left-color:#dcf8c6;border-right:0;border-top:0;margin-top:-13.5px;margin-right:-27px}.chat-message[_ngcontent-%COMP%]   .left-bubble[_ngcontent-%COMP%]{position:relative;background:lightblue;border-top-right-radius:.4em;border-bottom-left-radius:.4em;border-bottom-right-radius:.4em;padding:5px 10px 10px;left:5%}.chat-message[_ngcontent-%COMP%]   .left-bubble[_ngcontent-%COMP%]   span.msg-name[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#00f}.chat-message[_ngcontent-%COMP%]   .left-bubble[_ngcontent-%COMP%]   span.msg-date[_ngcontent-%COMP%]{font-size:10px}.chat-message[_ngcontent-%COMP%]   .left-bubble[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:13px;width:0;height:0;border:27px solid transparent;border-right-color:#add8e6;border-left:0;border-top:0;margin-top:-13.5px;margin-left:-27px}.chat-message[_ngcontent-%COMP%]   .chat-status[_ngcontent-%COMP%]{min-height:49px}.chat-message[_ngcontent-%COMP%]   .chat-status[_ngcontent-%COMP%]   .chat-date[_ngcontent-%COMP%]{display:block;font-size:10px;font-style:italic;color:#fff;text-shadow:0px -1px 0px #222,0px 1px 0px #aaa;height:15px;left:10%;right:10%}.chat-message[_ngcontent-%COMP%]   .chat-status[_ngcontent-%COMP%]   .chat-content-center[_ngcontent-%COMP%]{padding:5px 10px;background-color:#e1e1f7;border-radius:6px;font-size:12px;color:#555;height:34px;left:10%;right:10%}.chat-content[_ngcontent-%COMP%]{overflow-y:scroll;height:600px}']}),n})()},{path:"",redirectTo:"/login",pathMatch:"full"}];let Twe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({imports:[I2.forRoot(Iwe),I2]}),n})();Ui("firebase","9.19.1","app");const rW="@firebase/database";let OA="";class Rwe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Fn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Rh(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Nwe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Sr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const oW=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Rwe(e)}}catch{}return new Nwe},Al=oW("localStorage"),PA=oW("sessionStorage"),Wu=new Oh("@firebase/database"),aW=function(){let n=1;return function(){return n++}}(),lW=function(n){const e=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,V(i<n.length,"Surrogate pair missing trail surrogate."),r=65536+(s<<10)+(n.charCodeAt(i)-56320)}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e}(n),t=new sse;t.update(e);const i=t.digest();return ux.encodeByteArray(i)},Tp=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=Tp.apply(null,i):e+="object"==typeof i?Fn(i):i,e+=" "}return e};let kl=null,cW=!0;const In=function(...n){if(!0===cW&&(cW=!1,null===kl&&!0===PA.get("logging_enabled")&&function(n,e){V(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Wu.logLevel=Le.VERBOSE,kl=Wu.log.bind(Wu),e&&PA.set("logging_enabled",!0)):"function"==typeof n?kl=n:(kl=null,PA.remove("logging_enabled"))}(!0)),kl){const e=Tp.apply(null,n);kl(e)}},Mp=function(n){return function(...e){In(n,...e)}},FA=function(...n){const e="FIREBASE INTERNAL ERROR: "+Tp(...n);Wu.error(e)},os=function(...n){const e=`FIREBASE FATAL ERROR: ${Tp(...n)}`;throw Wu.error(e),new Error(e)},Jn=function(...n){const e="FIREBASE WARNING: "+Tp(...n);Wu.warn(e)},Jv=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ea="[MIN_NAME]",no="[MAX_NAME]",Rl=function(n,e){if(n===e)return 0;if(n===ea||e===no)return-1;if(e===ea||n===no)return 1;{const t=fW(n),i=fW(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},Fwe=function(n,e){return n===e?0:n<e?-1:1},Ap=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Fn(e))},LA=function(n){if("object"!=typeof n||null===n)return Fn(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=Fn(e[i]),t+=":",t+=LA(n[e[i]]);return t+="}",t},dW=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Tn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const hW=function(n){V(!Jv(n),"Invalid JSON number");const i=1023;let r,s,o,a,l;0===n?(s=0,o=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=a+i,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},Uwe=new RegExp("^-?(0*)\\d{1,10}$"),fW=function(n){if(Uwe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Gu=function(n){try{n()}catch(e){setTimeout(()=>{throw Jn("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},zwe=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},kp=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class $we{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Jn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class qwe{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(In("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jn(e)}}let Rp=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const yW=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wW="websocket",CW="long_polling";class BA{constructor(e,t,i,r,s=!1,o="",a=!1,l=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Al.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Al.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function EW(n,e,t){let i;if(V("string"==typeof e,"typeof type must == string"),V("object"==typeof t,"typeof params must == object"),e===wW)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==CW)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Wwe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Tn(t,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}class Gwe{constructor(){this.counters_={}}incrementCounter(e,t=1){Sr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return function Hre(n){return Ah(void 0,n)}(this.counters_)}}const UA={},HA={};function jA(n){const e=n.toString();return UA[e]||(UA[e]=new Gwe),UA[e]}class Ywe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Gu(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ta{constructor(e,t,i,r,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mp(e),this.stats_=jA(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),EW(t,CW,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ywe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if(Os()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zA((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&yW.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ta.forceAllow_=!0}static forceDisallow(){ta.forceDisallow_=!0}static isAvailable(){return!(Os()||!ta.forceAllow_&&(ta.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Fn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=OB(t),r=dW(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Os())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Fn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class zA{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Os())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=aW(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=zA.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){In("frame writing exception"),a.stack&&In(a.stack),In(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||In("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const o=this.pendingSegs.shift();i=i+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){Os()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{In("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let tb=null;typeof MozWebSocket<"u"?tb=MozWebSocket:typeof WebSocket<"u"&&(tb=WebSocket);let Ku=(()=>{class n{constructor(t,i,r,s,o,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mp(this.connId),this.stats_=jA(i),this.connURL=n.connectionURL_(i,a,l,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,o){const a={v:"5"};return!Os()&&typeof location<"u"&&location.hostname&&yW.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),s&&(a.ac=s),o&&(a.p=o),EW(t,wW,a)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Al.set("previous_websocket_failure",!0);try{let r;if(Os()){r={headers:{"User-Agent":`Firebase/5/${OA}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new tb(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==tb&&!n.forceDisallow_}static previouslyFailed(){return Al.isInMemoryStorage||!0===Al.get("previous_websocket_failure")}markConnectionHealthy(){Al.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Rh(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(V(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=Fn(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=dW(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),AW=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ta,Ku]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=Ku&&Ku.isAvailable();let r=i&&!Ku.previouslyFailed();if(t.webSocketOnly&&(i||Jn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ku];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class LW{constructor(e,t,i,r,s,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mp("c:"+this.id+":"),this.transportManager_=new AW(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=kp(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Ap("t",e),i=Ap("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Ap("t",e),i=Ap("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Ap("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?FA("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):FA("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Jn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),kp(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):kp(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Al.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class VW{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class BW{constructor(e){this.allowedEvents_=e,this.listeners_={},V(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){V(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class nb extends BW{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!dx()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new nb}getInitialEvent(e){return V("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const UW=32,HW=768;class tt{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ke(){return new tt("")}function Te(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function na(n){return n.pieces_.length-n.pieceNum_}function lt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new tt(n.pieces_,e)}function qA(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Np(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function jW(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new tt(e,0)}function It(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof tt)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new tt(t,0)}function Me(n){return n.pieceNum_>=n.pieces_.length}function gi(n,e){const t=Te(n),i=Te(e);if(null===t)return e;if(t===i)return gi(lt(n),lt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function WA(n,e){if(na(n)!==na(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function ur(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(na(n)>na(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class y0e{constructor(e,t){this.errorPrefix_=t,this.parts_=Np(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=R_(this.parts_[i]);zW(this)}}function zW(n){if(n.byteLength_>HW)throw new Error(n.errorPrefix_+"has a key path longer than "+HW+" bytes ("+n.byteLength_+").");if(n.parts_.length>UW)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+UW+") or object contains a cycle "+Nl(n))}function Nl(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class GA extends BW{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new GA}getInitialEvent(e){return V("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Op=1e3;let rb,Ol=(()=>{class n extends VW{constructor(t,i,r,s,o,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=Mp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Op,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Os())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");GA.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&nb.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,o={r:s,a:t,b:i};this.log_(Fn(o)),V(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new I_,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?i.resolve(l):i.reject(l)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),V(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),V(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r};t.tag&&(o.q=i._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(r,s),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&Sr(t,"w")){const r=Wc(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();Jn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=M_(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=function(n){const t=M_(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),V(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const o={p:t};s&&(o.q=r,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const o={p:i,d:r};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,o){this.initConnection_();const a={p:i,d:r};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Fn(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):FA("Unrecognized action received from server: "+Fn(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){V(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Op,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Op,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Op),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return m(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};t.realtime_={close:u,sendRequest:function(f){V(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);l?In("getToken() completed but was canceled"):(In("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=p&&p.token,c=new LW(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,g=>{Jn(g+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),l||(t.repoInfo_.nodeAdmin&&Jn(f),u())}}})()}interrupt(t){In("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){In("Resuming connection for reason: "+t),delete this.interruptReasons_[t],fx(this.interruptReasons_)&&(this.reconnectDelay_=Op,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(o=>LA(o)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new tt(t).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(i),o.delete(i),0===o.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){In("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){In("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";Os()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+OA.replace(/\./g,"-")]=1,dx()?t["framework.cordova"]=1:T_()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=nb.getInstance().currentlyOnline();return fx(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Re{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Re(e,t)}}class ib{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Re(ea,e),r=new Re(ea,t);return 0!==this.compare(i,r)}minPost(){return Re.MIN}}class WW extends ib{static get __EMPTY_NODE(){return rb}static set __EMPTY_NODE(e){rb=e}compare(e,t){return Rl(e.name,t.name)}isDefinedOn(e){throw qc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Re.MIN}maxPost(){return new Re(no,rb)}makePost(e,t){return V("string"==typeof e,"KeyIndex indexValue must always be a string."),new Re(e,rb)}toString(){return".key"}}const as=new WW;class sb{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let YA,Ar=(()=>{class n{constructor(t,i,r,s,o){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??Ti.EMPTY_NODE,this.right=o??Ti.EMPTY_NODE}copy(t,i,r,s,o){return new n(t??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const o=r(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===o?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ti.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Ti.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ti{constructor(e,t=Ti.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ti(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ar.BLACK,null,null))}remove(e){return new Ti(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ar.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new sb(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new sb(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new sb(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new sb(this.root_,null,this.comparator_,!0,e)}}function S0e(n,e){return Rl(n.name,e.name)}function KA(n,e){return Rl(n,e)}Ti.EMPTY_NODE=new class D0e{copy(e,t,i,r,s){return this}insert(e,t,i){return new Ar(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const GW=function(n){return"number"==typeof n?"number:"+hW(n):"string:"+n},KW=function(n){if(n.isLeafNode()){const e=n.val();V("string"==typeof e||"number"==typeof e||"object"==typeof e&&Sr(e,".sv"),"Priority must be a string or number.")}else V(n===YA||n.isEmpty(),"priority of unexpected type.");V(n===YA||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let YW,QW,XW,Yu=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,V(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),KW(this.priorityNode_)}static set __childrenNodeConstructor(t){YW=t}static get __childrenNodeConstructor(){return YW}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Me(t)?this:".priority"===Te(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Te(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:(V(".priority"!==r||1===na(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(lt(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+GW(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?hW(this.value_):this.value_,this.lazyHash_=lW(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(V(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),o=n.VALUE_TYPE_ORDER.indexOf(r);return V(s>=0,"Unknown leaf type: "+i),V(o>=0,"Unknown leaf type: "+r),s===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const dt=new class A0e extends ib{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?Rl(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Re.MIN}maxPost(){return new Re(no,new Yu("[PRIORITY-POST]",XW))}makePost(e,t){const i=QW(e);return new Re(t,new Yu("[PRIORITY-POST]",i))}toString(){return".priority"}},k0e=Math.log(2);class R0e{constructor(e){this.count=parseInt(Math.log(e+1)/k0e,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ob=function(n,e,t,i){n.sort(e);const r=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=n[l],h=t?t(d):d,new Ar(h,d.node,Ar.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=r(l,f),g=r(f+1,c);return d=n[f],h=t?t(d):d,new Ar(h,d.node,Ar.BLACK,p,g)}},a=function(l){let c=null,u=null,d=n.length;const h=function(p,g){const _=d-p,v=d;d-=p;const x=r(_+1,v),b=n[_],O=t?t(b):b;f(new Ar(O,b.node,g,null,x))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),_=Math.pow(2,l.count-(p+1));g?h(_,Ar.BLACK):(h(_,Ar.BLACK),h(_,Ar.RED))}return u}(new R0e(n.length));return new Ti(i||e,a)};let QA;const Qu={};class io{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return V(Qu&&dt,"ChildrenNode.ts has not been loaded"),QA=QA||new io({".priority":Qu},{".priority":dt}),QA}get(e){const t=Wc(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ti?t:null}hasIndex(e){return Sr(this.indexSet_,e.toString())}addIndex(e,t){V(e!==as,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(Re.Wrap);let a,o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();a=r?ob(i,e.getCompare()):Qu;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new io(u,c)}addToIndexes(e,t){const i=A_(this.indexes_,(r,s)=>{const o=Wc(this.indexSet_,s);if(V(o,"Missing index implementation for "+s),r===Qu){if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(Re.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),ob(a,o.getCompare())}return Qu}{const a=t.get(e.name);let l=r;return a&&(l=l.remove(new Re(e.name,a))),l.insert(e,e.node)}});return new io(i,this.indexSet_)}removeFromIndexes(e,t){const i=A_(this.indexes_,r=>{if(r===Qu)return r;{const s=t.get(e.name);return s?r.remove(new Re(e.name,s)):r}});return new io(i,this.indexSet_)}}let Pp,_e=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&KW(this.priorityNode_),this.children_.isEmpty()&&V(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Pp||(Pp=new n(new Ti(KA),null,io.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pp}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?Pp:i}}getChild(t){const i=Te(t);return null===i?this:this.getImmediateChild(i).getChild(lt(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if(V(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Re(t,i);let s,o;i.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),o=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?Pp:this.priorityNode_;return new n(s,a,o)}}updateChild(t,i){const r=Te(t);if(null===r)return i;{V(".priority"!==Te(t)||1===na(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(lt(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,o=!0;if(this.forEachChild(dt,(a,l)=>{i[a]=l.val(t),r++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*r){const a=[];for(const l in i)a[l]=i[l];return a}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+GW(this.getPriority().val())+":"),this.forEachChild(dt,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":lW(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new Re(t,i));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Re(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Re(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Re.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Re.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Fp?-1:0}withIndex(t){if(t===as||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===as||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(dt),s=i.getIterator(dt);let o=r.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===as?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Fp=new class N0e extends _e{constructor(){super(new Ti(KA),_e.EMPTY_NODE,io.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return _e.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Re,{MIN:{value:new Re(ea,_e.EMPTY_NODE)},MAX:{value:new Re(no,Fp)}}),WW.__EMPTY_NODE=_e.EMPTY_NODE,Yu.__childrenNodeConstructor=_e,function I0e(n){YA=n}(Fp),function M0e(n){XW=n}(Fp);const O0e=!0;function kt(n,e=null){if(null===n)return _e.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),V(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Yu(n,kt(e));if(n instanceof Array||!O0e){let t=_e.EMPTY_NODE;return Tn(n,(i,r)=>{if(Sr(n,i)&&"."!==i.substring(0,1)){const s=kt(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(kt(e))}{const t=[];let i=!1;if(Tn(n,(o,a)=>{if("."!==o.substring(0,1)){const l=kt(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),t.push(new Re(o,l)))}}),0===t.length)return _e.EMPTY_NODE;const s=ob(t,S0e,o=>o.name,KA);if(i){const o=ob(t,dt.getCompare());return new _e(s,kt(e),new io({".priority":o},{".priority":dt}))}return new _e(s,kt(e),io.Default)}}!function T0e(n){QW=n}(kt);class XA extends ib{constructor(e){super(),this.indexPath_=e,V(!Me(e)&&".priority"!==Te(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?Rl(e.name,t.name):s}makePost(e,t){const i=kt(e),r=_e.EMPTY_NODE.updateChild(this.indexPath_,i);return new Re(t,r)}maxPost(){const e=_e.EMPTY_NODE.updateChild(this.indexPath_,Fp);return new Re(no,e)}toString(){return Np(this.indexPath_,0).join("/")}}const ZA=new class P0e extends ib{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Rl(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Re.MIN}maxPost(){return Re.MAX}makePost(e,t){const i=kt(e);return new Re(t,i)}toString(){return".value"}};function Vp(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class ek{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=dt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return V(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return V(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ea}hasEnd(){return this.endSet_}getIndexEndValue(){return V(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return V(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:no}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return V(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===dt}copy(){const e=new ek;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function JW(n){const e={};if(n.isDefault())return e;let t;if(n.index_===dt?t="$priority":n.index_===ZA?t="$value":n.index_===as?t="$key":(V(n.index_ instanceof XA,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Fn(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=Fn(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Fn(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Fn(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Fn(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function e5(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==dt&&(e.i=n.index_.toString()),e}class lb extends VW{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Mp("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(V(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=lb.getListenId_(e,i),a={};this.listens_[o]=a;const l=JW(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,i),Wc(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",r(h,null)}})}unlisten(e,t){const i=lb.getListenId_(e,t);delete this.listens_[i]}get(e){const t=JW(e._queryParams),i=e._path.toString(),r=new I_;return this.restRequest_(i+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+za(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Rh(a.responseText)}catch{Jn("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else 401!==a.status&&404!==a.status&&Jn("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}class z0e{constructor(){this.rootNode_=_e.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function cb(){return{value:null,children:new Map}}function Zu(n,e,t){if(Me(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Te(e);n.children.has(i)||n.children.set(i,cb()),Zu(n.children.get(i),e=lt(e),t)}}function rk(n,e,t){null!==n.value?t(e,n.value):function $0e(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{rk(r,new tt(e.toString()+"/"+i),t)})}class q0e{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Tn(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class K0e{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new q0e(e);const i=1e4+2e4*Math.random();kp(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Tn(e,(r,s)=>{s>0&&Sr(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),kp(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var dr=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(dr||(dr={})),dr))();function ak(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class ub{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=dr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Me(this.path)){if(null!=this.affectedTree.value)return V(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new tt(e));return new ub(Ke(),t,this.revert)}}return V(Te(this.path)===e,"operationForChild called for unrelated child."),new ub(lt(this.path),this.affectedTree,this.revert)}}class Pl{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=dr.OVERWRITE}operationForChild(e){return Me(this.path)?new Pl(this.source,Ke(),this.snap.getImmediateChild(e)):new Pl(this.source,lt(this.path),this.snap)}}class Ju{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=dr.MERGE}operationForChild(e){if(Me(this.path)){const t=this.children.subtree(new tt(e));return t.isEmpty()?null:t.value?new Pl(this.source,Ke(),t.value):new Ju(this.source,Ke(),t)}return V(Te(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ju(this.source,lt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ia{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Me(e))return this.isFullyInitialized()&&!this.filtered_;const t=Te(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Hp(n,e,t,i,r,s){const o=i.filter(a=>a.type===t);o.sort((a,l)=>function Z0e(n,e,t){if(null==e.childName||null==t.childName)throw qc("Should only compare child_ events.");const i=new Re(e.childName,e.snapshotNode),r=new Re(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,a,l)),o.forEach(a=>{const l=function X0e(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function db(n,e){return{eventCache:n,serverCache:e}}function jp(n,e,t,i){return db(new ia(e,t,i),n.serverCache)}function n5(n,e,t,i){return db(n.eventCache,new ia(e,t,i))}function hb(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Fl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let lk;class ht{constructor(e,t=(()=>(lk||(lk=new Ti(Fwe)),lk))()){this.value=e,this.children=t}static fromObject(e){let t=new ht(null);return Tn(e,(i,r)=>{t=t.set(new tt(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Ke(),value:this.value};if(Me(e))return null;{const i=Te(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(lt(e),t);return null!=s?{path:It(new tt(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Me(e))return this;{const t=Te(e),i=this.children.get(t);return null!==i?i.subtree(lt(e)):new ht(null)}}set(e,t){if(Me(e))return new ht(t,this.children);{const i=Te(e),s=(this.children.get(i)||new ht(null)).set(lt(e),t),o=this.children.insert(i,s);return new ht(this.value,o)}}remove(e){if(Me(e))return this.children.isEmpty()?new ht(null):new ht(null,this.children);{const t=Te(e),i=this.children.get(t);if(i){const r=i.remove(lt(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new ht(null):new ht(this.value,s)}return this}}get(e){if(Me(e))return this.value;{const t=Te(e),i=this.children.get(t);return i?i.get(lt(e)):null}}setTree(e,t){if(Me(e))return t;{const i=Te(e),s=(this.children.get(i)||new ht(null)).setTree(lt(e),t);let o;return o=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new ht(this.value,o)}}fold(e){return this.fold_(Ke(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(It(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Ke(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(Me(e))return null;{const s=Te(e),o=this.children.get(s);return o?o.findOnPath_(lt(e),It(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ke(),t)}foreachOnPath_(e,t,i){if(Me(e))return this;{this.value&&i(t,this.value);const r=Te(e),s=this.children.get(r);return s?s.foreachOnPath_(lt(e),It(t,r),i):new ht(null)}}foreach(e){this.foreach_(Ke(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(It(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class kr{constructor(e){this.writeTree_=e}static empty(){return new kr(new ht(null))}}function zp(n,e,t){if(Me(e))return new kr(new ht(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const o=gi(r,e);return s=s.updateChild(o,t),new kr(n.writeTree_.set(r,s))}{const r=new ht(t),s=n.writeTree_.setTree(e,r);return new kr(s)}}}function ck(n,e,t){let i=n;return Tn(t,(r,s)=>{i=zp(i,It(e,r),s)}),i}function r5(n,e){if(Me(e))return kr.empty();{const t=n.writeTree_.setTree(e,new ht(null));return new kr(t)}}function uk(n,e){return null!=Ll(n,e)}function Ll(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(gi(t.path,e)):null}function s5(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(dt,(i,r)=>{e.push(new Re(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Re(i,r.value))}),e}function ra(n,e){if(Me(e))return n;{const t=Ll(n,e);return new kr(null!=t?new ht(t):n.writeTree_.subtree(e))}}function dk(n){return n.writeTree_.isEmpty()}function ed(n,e){return o5(Ke(),n.writeTree_,e)}function o5(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?(V(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=o5(It(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(It(n,".priority"),i)),t}}function fb(n,e){return d5(e,n)}function rCe(n,e){if(n.snap)return ur(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&ur(It(n.path,t),e))return!0;return!1}function oCe(n){return n.visible}function a5(n,e,t){let i=kr.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const o=s.path;let a;if(s.snap)ur(t,o)?(a=gi(t,o),i=zp(i,a,s.snap)):ur(o,t)&&(a=gi(o,t),i=zp(i,Ke(),s.snap.getChild(a)));else{if(!s.children)throw qc("WriteRecord should have .snap or .children");if(ur(t,o))a=gi(t,o),i=ck(i,a,s.children);else if(ur(o,t))if(a=gi(o,t),Me(a))i=ck(i,Ke(),s.children);else{const l=Wc(s.children,Te(a));if(l){const c=l.getChild(lt(a));i=zp(i,Ke(),c)}}}}}return i}function l5(n,e,t,i,r){if(i||r){const s=ra(n.visibleWrites,e);return!r&&dk(s)?t:r||null!=t||uk(s,Ke())?ed(a5(n.allWrites,function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(ur(c.path,e)||ur(e,c.path))},e),t||_e.EMPTY_NODE):null}{const s=Ll(n.visibleWrites,e);if(null!=s)return s;{const o=ra(n.visibleWrites,e);return dk(o)?t:null!=t||uk(o,Ke())?ed(o,t||_e.EMPTY_NODE):null}}}function pb(n,e,t,i){return l5(n.writeTree,n.treePath,e,t,i)}function hk(n,e){return function aCe(n,e,t){let i=_e.EMPTY_NODE;const r=Ll(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(dt,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(t){const s=ra(n.visibleWrites,e);return t.forEachChild(dt,(o,a)=>{const l=ed(ra(s,new tt(o)),a);i=i.updateImmediateChild(o,l)}),s5(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}return s5(ra(n.visibleWrites,e)).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}(n.writeTree,n.treePath,e)}function c5(n,e,t,i){return function lCe(n,e,t,i,r){V(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=It(e,t);if(uk(n.visibleWrites,s))return null;{const o=ra(n.visibleWrites,s);return dk(o)?r.getChild(t):ed(o,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function mb(n,e){return function uCe(n,e){return Ll(n.visibleWrites,e)}(n.writeTree,It(n.treePath,e))}function fk(n,e,t){return function cCe(n,e,t,i){const r=It(e,t),s=Ll(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?ed(ra(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function u5(n,e){return d5(It(n.treePath,e),n.writeTree)}function d5(n,e){return{treePath:n,writeTree:e}}class pCe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;V("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),V(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,Vp(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,function Lp(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,function Xu(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw qc("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,Vp(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const h5=new class mCe{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class pk{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new ia(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fk(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Fl(this.viewCache_),s=function fCe(n,e,t,i,r,s){return function dCe(n,e,t,i,r,s,o){let a;const l=ra(n.visibleWrites,e),c=Ll(l,Ke());if(null!=c)a=c;else{if(null==t)return[];a=ed(l,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let f=h.getNext();for(;f&&u.length<r;)0!==d(f,i)&&u.push(f),f=h.getNext();return u}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function f5(n,e,t,i,r,s){const o=e.eventCache;if(null!=mb(i,t))return e;{let a,l;if(Me(t))if(V(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Fl(e),d=hk(i,c instanceof _e?c:_e.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=pb(i,Fl(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Te(t);if(".priority"===c){V(1===na(t),"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=c5(i,t,u,l);a=null!=d?n.filter.updatePriority(u,d):o.getNode()}else{const u=lt(t);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=c5(i,t,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(c).updateChild(u,h):o.getNode().getImmediateChild(c)}else d=fk(i,c,e.serverCache);a=null!=d?n.filter.updateChild(o.getNode(),c,d,u,r,s):o.getNode()}}return jp(e,a,o.isFullyInitialized()||Me(t),n.filter.filtersNodes())}}function gb(n,e,t,i,r,s,o,a){const l=e.serverCache;let c;const u=o?n.filter:n.filter.getIndexedFilter();if(Me(t))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(t,i);c=u.updateFullNode(l.getNode(),f,null)}else{const f=Te(t);if(!l.isCompleteForPath(t)&&na(t)>1)return e;const p=lt(t),_=l.getNode().getImmediateChild(f).updateChild(p,i);c=".priority"===f?u.updatePriority(l.getNode(),_):u.updateChild(l.getNode(),f,_,p,h5,null)}const d=n5(e,c,l.isFullyInitialized()||Me(t),u.filtersNodes());return f5(n,d,t,r,new pk(r,d,s),a)}function mk(n,e,t,i,r,s,o){const a=e.eventCache;let l,c;const u=new pk(r,e,s);if(Me(t))c=n.filter.updateFullNode(e.eventCache.getNode(),i,o),l=jp(e,c,!0,n.filter.filtersNodes());else{const d=Te(t);if(".priority"===d)c=n.filter.updatePriority(e.eventCache.getNode(),i),l=jp(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=lt(t),f=a.getNode().getImmediateChild(d);let p;if(Me(h))p=i;else{const g=u.getCompleteChild(d);p=null!=g?".priority"===qA(h)&&g.getChild(jW(h)).isEmpty()?g:g.updateChild(h,i):_e.EMPTY_NODE}l=f.equals(p)?e:jp(e,n.filter.updateChild(a.getNode(),d,p,h,u,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function p5(n,e){return n.eventCache.isCompleteForChild(e)}function m5(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function gk(n,e,t,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=Me(t)?i:new ht(null).setTree(t,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=m5(0,e.serverCache.getNode().getImmediateChild(d),h);l=gb(n,l,new tt(d),p,r,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const g=m5(0,e.serverCache.getNode().getImmediateChild(d),h);l=gb(n,l,new tt(d),g,r,s,o,a)}}),l}function ICe(n,e){const t=Fl(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Me(e)&&!t.getImmediateChild(Te(e)).isEmpty())?t.getChild(e):null}function y5(n,e,t,i){e.type===dr.MERGE&&null!==e.source.queryId&&(V(Fl(n.viewCache_),"We should always have a full cache before handling merges"),V(hb(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function yCe(n,e,t,i,r){const s=new pCe;let o,a;if(t.type===dr.OVERWRITE){const c=t;c.source.fromUser?o=mk(n,e,c.path,c.snap,i,r,s):(V(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Me(c.path),o=gb(n,e,c.path,c.snap,i,r,a,s))}else if(t.type===dr.MERGE){const c=t;c.source.fromUser?o=function bCe(n,e,t,i,r,s,o){let a=e;return i.foreach((l,c)=>{const u=It(t,l);p5(e,Te(u))&&(a=mk(n,a,u,c,r,s,o))}),i.foreach((l,c)=>{const u=It(t,l);p5(e,Te(u))||(a=mk(n,a,u,c,r,s,o))}),a}(n,e,c.path,c.children,i,r,s):(V(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=gk(n,e,c.path,c.children,i,r,a,s))}else if(t.type===dr.ACK_USER_WRITE){const c=t;o=c.revert?function ECe(n,e,t,i,r,s){let o;if(null!=mb(i,t))return e;{const a=new pk(i,e,r),l=e.eventCache.getNode();let c;if(Me(t)||".priority"===Te(t)){let u;if(e.serverCache.isFullyInitialized())u=pb(i,Fl(e));else{const d=e.serverCache.getNode();V(d instanceof _e,"serverChildren would be complete if leaf node"),u=hk(i,d)}c=n.filter.updateFullNode(l,u,s)}else{const u=Te(t);let d=fk(i,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?n.filter.updateChild(l,u,d,lt(t),a,s):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(l,u,_e.EMPTY_NODE,lt(t),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=pb(i,Fl(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=mb(i,Ke()),jp(e,c,o,n.filter.filtersNodes())}}(n,e,c.path,i,r,s):function wCe(n,e,t,i,r,s,o){if(null!=mb(r,t))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=i.value){if(Me(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return gb(n,e,t,l.getNode().getChild(t),r,s,a,o);if(Me(t)){let c=new ht(null);return l.getNode().forEachChild(as,(u,d)=>{c=c.set(new tt(u),d)}),gk(n,e,t,c,r,s,a,o)}return e}{let c=new ht(null);return i.foreach((u,d)=>{const h=It(t,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),gk(n,e,t,c,r,s,a,o)}}(n,e,c.path,c.affectedTree,i,r,s)}else{if(t.type!==dr.LISTEN_COMPLETE)throw qc("Unknown operation type: "+t.type);o=function CCe(n,e,t,i,r){const s=e.serverCache;return f5(n,n5(e,s.getNode(),s.isFullyInitialized()||Me(t),s.isFiltered()),t,i,h5,r)}(n,e,t.path,i,s)}const l=s.getChanges();return function vCe(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=hb(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(function ZW(n){return{type:"value",snapshotNode:n}}(hb(e)))}}(e,o,l),{viewCache:o,changes:l}}(n.processor_,r,e,t,i);return function _Ce(n,e){V(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),V(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),V(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function v5(n,e,t,i){return function Q0e(n,e,t,i){const r=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function F0e(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),Hp(n,r,"child_removed",e,i,t),Hp(n,r,"child_added",e,i,t),Hp(n,r,"child_moved",s,i,t),Hp(n,r,"child_changed",e,i,t),Hp(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let _b,vb;function _k(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return V(null!=s,"SyncTree gave us an op for an invalid query."),y5(s,e,t,i)}{let s=[];for(const o of n.views.values())s=s.concat(y5(o,e,t,i));return s}}function sa(n,e){let t=null;for(const i of n.views.values())t=t||ICe(i,e);return t}class D5{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ht(null),this.pendingWriteTree_=function hCe(){return{visibleWrites:kr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function yk(n,e,t,i,r){return function eCe(n,e,t,i,r){V(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=zp(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?td(n,new Pl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function aa(n,e,t=!1){const i=function nCe(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function iCe(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);V(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,o=n.allWrites.length-1;for(;r&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&rCe(a,i.path)?r=!1:ur(i.path,a.path)&&(s=!0)),o--}return!!r&&(s?(function sCe(n){n.visibleWrites=a5(n.allWrites,oCe,Ke()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=r5(n.visibleWrites,i.path):Tn(i.children,l=>{n.visibleWrites=r5(n.visibleWrites,It(i.path,l))}),!0))}(n.pendingWriteTree_,e)){let s=new ht(null);return null!=i.snap?s=s.set(Ke(),!0):Tn(i.children,o=>{s=s.set(new tt(o),!0)}),td(n,new ub(i.path,s,t))}return[]}function $p(n,e,t){return td(n,new Pl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function wb(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const c=sa(a,gi(o,e));if(c)return c});return l5(r,e,s,t,!0)}function td(n,e){return I5(e,n.syncPointTree_,null,fb(n.pendingWriteTree_,Ke()))}function I5(n,e,t,i){if(Me(n.path))return T5(n,e,t,i);{const r=e.get(Ke());null==t&&null!=r&&(t=sa(r,Ke()));let s=[];const o=Te(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const c=t?t.getImmediateChild(o):null,u=u5(i,o);s=s.concat(I5(a,l,c,u))}return r&&(s=s.concat(_k(r,n,i,t))),s}}function T5(n,e,t,i){const r=e.get(Ke());null==t&&null!=r&&(t=sa(r,Ke()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,c=u5(i,o),u=n.operationForChild(o);u&&(s=s.concat(T5(u,a,l,c)))}),r&&(s=s.concat(_k(r,n,i,t))),s}function bk(n,e){return n.tagToQueryMap.get(e)}function wk(n){const e=n.indexOf("$");return V(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new tt(n.substr(0,e))}}function Ck(n,e,t){const i=n.syncPointTree_.get(e);return V(i,"Missing sync point for query tag that we're tracking"),_k(i,t,fb(n.pendingWriteTree_,e),null)}class Ek{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Ek(t)}node(){return this.node_}}class xk{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=It(this.path_,e);return new xk(this.syncTree_,t)}node(){return wb(this.syncTree_,this.path_)}}const KCe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},A5=function(n,e,t){return n&&"object"==typeof n?(V(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?YCe(n[".sv"],e,t):"object"==typeof n[".sv"]?QCe(n[".sv"],e):void V(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},YCe=function(n,e,t){if("timestamp"===n)return t.timestamp;V(!1,"Unexpected server value: "+n)},QCe=function(n,e,t){n.hasOwnProperty("increment")||V(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&V(!1,"Unexpected increment value: "+i);const r=e.node();if(V(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!=typeof o?i:o+i},k5=function(n,e,t,i){return Sk(e,new xk(t,n),i)},Dk=function(n,e,t){return Sk(n,new Ek(e),t)};function Sk(n,e,t){const i=n.getPriority().val(),r=A5(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=A5(o.getValue(),e,t);return a!==o.getValue()||r!==o.getPriority().val()?new Yu(a,kt(r)):n}{const o=n;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new Yu(r))),o.forEachChild(dt,(a,l)=>{const c=Sk(l,e.getImmediateChild(a),t);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class Ik{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function Eb(n,e){let t=e instanceof tt?e:new tt(e),i=n,r=Te(t);for(;null!==r;){const s=Wc(i.node.children,r)||{children:{},childCount:0};i=new Ik(r,i,s),t=lt(t),r=Te(t)}return i}function Vl(n){return n.node.value}function Tk(n,e){n.node.value=e,Mk(n)}function R5(n){return n.node.childCount>0}function xb(n,e){Tn(n.node.children,(t,i)=>{e(new Ik(t,n,i))})}function N5(n,e,t,i){t&&!i&&e(n),xb(n,r=>{N5(r,e,!0,i)}),t&&i&&e(n)}function Gp(n){return new tt(null===n.parent?n.name:Gp(n.parent)+"/"+n.name)}function Mk(n){null!==n.parent&&function JCe(n,e,t){const i=function XCe(n){return void 0===Vl(n)&&!R5(n)}(t),r=Sr(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,Mk(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,Mk(n))}(n.parent,n.name,n)}const eEe=/[\[\].#$\/\u0000-\u001F\u007F]/,tEe=/[\[\].#$\u0000-\u001F\u007F]/,Ak=10485760,Db=function(n){return"string"==typeof n&&0!==n.length&&!eEe.test(n)},Yp=function(n,e,t){const i=t instanceof tt?new y0e(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Nl(i));if("function"==typeof e)throw new Error(n+"contains a function "+Nl(i)+" with contents = "+e.toString());if(Jv(e))throw new Error(n+"contains "+e.toString()+" "+Nl(i));if("string"==typeof e&&e.length>Ak/3&&R_(e)>Ak)throw new Error(n+"contains a string greater than "+Ak+" utf8 bytes "+Nl(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(Tn(e,(o,a)=>{if(".value"===o)r=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Db(o)))throw new Error(n+" contains an invalid key ("+o+") "+Nl(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function v0e(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=R_(e),zW(n)})(i,o),Yp(n,a,i),function b0e(n){const e=n.parts_.pop();n.byteLength_-=R_(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Nl(i)+" in addition to actual children.")}},F5=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Db(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!tEe.test(n)}(n)}(t))throw new Error(function k_(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class sEe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Wi(n,e,t){(function Sb(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!WA(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)})(n,t),function V5(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(oEe(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,i=>ur(i,e)||ur(e,i))}function oEe(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();kl&&In("event: "+t.toString()),Gu(i)}}}const B5="repo_interrupt",aEe=25;class lEe{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sEe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=cb(),this.transactionQueueTree_=new Ik,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function U5(n){const t=n.infoData_.getNode(new tt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Xp(n){return KCe({timestamp:U5(n)})}function H5(n,e,t,i,r){n.dataUpdateCount++;const s=new tt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(r)if(i){const l=A_(t,c=>kt(c));o=function jCe(n,e,t,i){const r=bk(n,i);if(r){const s=wk(r),o=s.path,a=s.queryId,l=gi(o,e),c=ht.fromObject(t);return Ck(n,o,new Ju(ak(a),l,c))}return[]}(n.serverSyncTree_,s,l,r)}else{const l=kt(t);o=function S5(n,e,t,i){const r=bk(n,i);if(null!=r){const s=wk(r),o=s.path,a=s.queryId,l=gi(o,e);return Ck(n,o,new Pl(ak(a),l,t))}return[]}(n.serverSyncTree_,s,l,r)}else if(i){const l=A_(t,c=>kt(c));o=function BCe(n,e,t){const i=ht.fromObject(t);return td(n,new Ju({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,l)}else{const l=kt(t);o=$p(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=id(n,s)),Wi(n.eventQueue_,a,o)}function j5(n,e){Nk(n,"connected",e),!1===e&&function fEe(n){nd(n,"onDisconnectEvents");const e=Xp(n),t=cb();rk(n.onDisconnect_,Ke(),(r,s)=>{const o=k5(r,s,n.serverSyncTree_,e);Zu(t,r,o)});let i=[];rk(t,Ke(),(r,s)=>{i=i.concat($p(n.serverSyncTree_,r,s));const o=function Lk(n,e){const t=Gp(q5(n,e)),i=Eb(n.transactionQueueTree_,e);return function ZCe(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{Vk(n,r)}),Vk(n,i),N5(i,r=>{Vk(n,r)}),t}(n,r);id(n,o)}),n.onDisconnect_=cb(),Wi(n.eventQueue_,Ke(),i)}(n)}function Nk(n,e,t){const i=new tt("/.info/"+e),r=kt(t);n.infoData_.updateSnapshot(i,r);const s=$p(n.infoSyncTree_,i,r);Wi(n.eventQueue_,i,s)}function Ib(n){return n.nextWriteId_++}function nd(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),In(t,...e)}function Fk(n,e,t){return wb(n.serverSyncTree_,e,t)||_e.EMPTY_NODE}function Tb(n,e=n.transactionQueueTree_){if(e||Mb(n,e),Vl(e)){const t=W5(n,e);V(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function bEe(n,e,t){const i=t.map(c=>c.currentWriteId),r=Fk(n,e,i);let s=r;const o=r.hash();for(let c=0;c<t.length;c++){const u=t[c];V(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=gi(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;n.server_.put(l.toString(),a,c=>{nd(n,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(aa(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();Mb(n,Eb(n.transactionQueueTree_,e)),Tb(n,n.transactionQueueTree_),Wi(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)Gu(d[h])}else{if("datastale"===c)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{Jn("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}id(n,e)}},o)}(n,Gp(e),t)}else R5(e)&&xb(e,t=>{Tb(n,t)})}function id(n,e){const t=q5(n,e),i=Gp(t);return function wEe(n,e,t){if(0===e.length)return;const i=[];let r=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=gi(t,l.path);let d,u=!1;if(V(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,r=r.concat(aa(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=aEe)u=!0,d="maxretry",r=r.concat(aa(n.serverSyncTree_,l.currentWriteId,!0));else{const h=Fk(n,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Yp("transaction failed: Data returned ",f,l.path);let p=kt(f);"object"==typeof f&&null!=f&&Sr(f,".priority")||(p=p.updatePriority(h.getPriority()));const _=l.currentWriteId,v=Xp(n),x=Dk(p,h,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=x,l.currentWriteId=Ib(n),o.splice(o.indexOf(_),1),r=r.concat(yk(n.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),r=r.concat(aa(n.serverSyncTree_,_,!0))}else u=!0,d="nodata",r=r.concat(aa(n.serverSyncTree_,l.currentWriteId,!0))}Wi(n.eventQueue_,t,r),r=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&i.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}Mb(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)Gu(i[a]);Tb(n,n.transactionQueueTree_)}(n,W5(n,t),i),i}function q5(n,e){let t,i=n.transactionQueueTree_;for(t=Te(e);null!==t&&void 0===Vl(i);)i=Eb(i,t),t=Te(e=lt(e));return i}function W5(n,e){const t=[];return G5(n,e,t),t.sort((i,r)=>i.order-r.order),t}function G5(n,e,t){const i=Vl(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);xb(e,r=>{G5(n,r,t)})}function Mb(n,e){const t=Vl(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,Tk(e,t.length>0?t:void 0)}xb(e,i=>{Mb(n,i)})}function Vk(n,e){const t=Vl(e);if(t){const i=[];let r=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?(V(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(V(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),r=r.concat(aa(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&i.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Tk(e,void 0):t.length=s+1,Wi(n.eventQueue_,Gp(e),r);for(let o=0;o<i.length;o++)Gu(i[o])}}const Bk=function(n,e){const t=xEe(n),i=t.namespace;return"firebase.com"===t.domain&&os(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&os("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Jn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new BA(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new tt(t.pathString)}},xEe=function(n){let e="",t="",i="",r="",s="",o=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(r=function CEe(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(u,d)));const h=function EEe(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Jn(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),t=e.substring(p+1),s=i}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:t,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};class Gi{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Me(this._path)?null:qA(this._path)}get ref(){return new Rr(this._repo,this._path)}get _queryIdentifier(){const e=e5(this._queryParams),t=LA(e);return"{}"===t?"default":t}get _queryObject(){return e5(this._queryParams)}isEqual(e){if(!((e=ee(e))instanceof Gi))return!1;const t=this._repo===e._repo,i=WA(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function g0e(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Rr extends Gi{constructor(e,t){super(e,t,new ek,!1)}get parent(){const e=jW(this._path);return null===e?null:new Rr(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function ACe(n){V(!_b,"__referenceConstructor has already been defined"),_b=n})(Rr),function PCe(n){V(!vb,"__referenceConstructor has already been defined"),vb=n}(Rr);const VEe="FIREBASE_DATABASE_EMULATOR_HOST",Hk={};let eG=!1;class $Ee{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function cEe(n,e,t){if(n.stats_=jA(n.repoInfo_),n.forceRestClient_||zwe())n.server_=new lb(n.repoInfo_,(i,r,s,o)=>{H5(n,i,r,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>j5(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fn(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Ol(n.repoInfo_,e,(i,r,s,o)=>{H5(n,i,r,s,o)},i=>{j5(n,i)},i=>{!function uEe(n,e){Tn(e,(t,i)=>{Nk(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Kwe(n,e){const t=n.toString();return HA[t]||(HA[t]=e()),HA[t]}(n.repoInfo_,()=>new K0e(n.stats_,n.server_)),n.infoData_=new z0e,n.infoSyncTree_=new D5({startListening:(i,r,s,o)=>{let a=[];const l=n.infoData_.getNode(i._path);return l.isEmpty()||(a=$p(n.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Nk(n,"connected",!1),n.serverSyncTree_=new D5({startListening:(i,r,s,o)=>(n.server_.listen(i,s,r,(a,l)=>{const c=o(a,l);Wi(n.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Rr(this._repo,Ke())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function HEe(n,e){const t=Hk[e];(!t||t[n.key]!==n)&&os(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function $5(n){n.persistentConnection_&&n.persistentConnection_.interrupt(B5)}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&os("Cannot call "+e+" on a deleted database.")}}Ol.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Ol.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function GEe(n){(function kwe(n){OA=n})(Do),Ps(new Ir("database",(e,{instanceIdentifier:t})=>function UEe(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||os("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),In("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=Bk(s,r),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env[VEe]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=Bk(s,r),a=o.repoInfo):l=!o.repoInfo.secure;const u=r&&l?new Rp(Rp.OWNER):new qwe(n.name,n.options,e);F5("Invalid Firebase Database URL",o),Me(o.path)||os("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function jEe(n,e,t,i){let r=Hk[e.name];r||(r={},Hk[e.name]=r);let s=r[n.toURLString()];return s&&os("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new lEe(n,eG,t,i),r[n.toURLString()]=s,s}(a,n,u,new $we(n.name,t));return new $Ee(d,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),Ui(rW,"0.14.4",n),Ui(rW,"0.14.4","esm2017")}();let QEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Fe({type:n,selectors:[["app-header"]],decls:3,vars:0,consts:[["href","/"],["src","./assets/logo_large.png","alt","EspenVentures KlG",1,"center"]],template:function(t,i){1&t&&(N(0,"header")(1,"a",0),mt(2,"img",1),F()())},styles:["header[_ngcontent-%COMP%]{height:120px;background-color:#fff;color:#fff;border-bottom:2px solid rgb(0,0,0)}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-left:10px;margin-top:10px;height:100px}h1[_ngcontent-%COMP%]{font-size:large}h2[_ngcontent-%COMP%]{font-size:medium}h3[_ngcontent-%COMP%]{font-size:small}"]}),n})(),XEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Fe({type:n,selectors:[["app-footer"]],decls:10,vars:0,consts:[[1,"Company"],[1,"kontakt"],["href","https://espenventures.com/about-us/","target","_self"]],template:function(t,i){1&t&&(N(0,"footer")(1,"div",0)(2,"h3"),Ae(3,"EspenVentures KlG"),F()(),N(4,"div",1)(5,"a",2),Ae(6,"Kontakt"),F()(),N(7,"div",0)(8,"h1"),Ae(9,"Copyright \xa9 2023"),F()()())},styles:["footer[_ngcontent-%COMP%]{height:100px;background-color:#00802f;color:#fff;border-top:2px solid rgb(0,0,0)}h1[_ngcontent-%COMP%]{font-size:small;text-align:center}h2[_ngcontent-%COMP%]{font-size:medium}h3[_ngcontent-%COMP%]{font-size:small;text-align:center;margin-top:1px}a[_ngcontent-%COMP%]:link, a[_ngcontent-%COMP%]:visited{text-decoration:none;color:#fff}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{text-decoration:underline;color:#fff}.kontakt[_ngcontent-%COMP%]{display:block;font-size:small;text-align:center;margin-left:auto;margin-right:auto;z-index:9999;font-weight:700}"]}),n})(),ZEe=(()=>{class n{constructor(){this.chatMessage=""}addMessage(t){console.log(t),alert(t),this.chatMessage=""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Fe({type:n,selectors:[["app-chatbar"]],decls:6,vars:3,consts:[[1,"chat-container"],["type","text","placeholder","Schreiben...",1,"form-control","chat-input",3,"ngModel","ngModelChange","keyup.enter"],[1,"btn","btn-default","send-button",3,"disabled","click"]],template:function(t,i){1&t&&(N(0,"div",0)(1,"textarea",1),gt("ngModelChange",function(s){return i.chatMessage=s})("keyup.enter",function(){return i.addMessage(i.chatMessage)}),F(),N(2,"button",2),gt("click",function(){return i.addMessage(i.chatMessage)}),Ae(3," Senden\n"),F()(),N(4,"p"),Ae(5),F()),2&t&&(H(1),X("ngModel",i.chatMessage),H(1),X("disabled",!i.chatMessage),H(3),rr(" ",i.chatMessage," "))},dependencies:[Va,wh,tx],styles:[".chat-container[_ngcontent-%COMP%]{display:flex;align-items:center;border:1px solid #ccc;border-radius:5px;padding:10px}.chat-input[_ngcontent-%COMP%]{flex:1;height:38px;font-size:16px;border:none}.send-button[_ngcontent-%COMP%]{height:38px;font-size:16px;margin-left:10px;border-radius:0 5px 5px 0}"]}),n})();const nG={apiKey:"AIzaSyBLm6nzB_PQUKDG6LjT7UybuE6m6I1h770",authDomain:"chatapp-95178.firebaseapp.com",databaseURL:"https://chatapp-95178-default-rtdb.europe-west1.firebasedatabase.app",projectId:"chatapp-95178",storageBucket:"chatapp-95178.appspot.com",messagingSenderId:"434978678153",appId:"1:434978678153:web:f50b772befdaddbe58ed58"};!function qEe(n=YB(),e){const t=xx(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=(n=>{const e=(n=>{var e,t;return null===(t=null===(e=S_())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),i]:[e.substring(0,t),i]})("database");i&&function WEe(n,e,t,i={}){(n=ee(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&os("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&os('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Rp(Rp.OWNER);else if(i.mockUserToken){const o="string"==typeof i.mockUserToken?i.mockUserToken:PB(i.mockUserToken,n.app.options.projectId);s=new Rp(o)}!function BEe(n,e,t,i){n.repoInfo_=new BA(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(t,...i)}}(O_(nG));let exe=(()=>{class n{constructor(){this.title="webapp",Gt.initializeApp(nG)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Fe({type:n,selectors:[["app-root"]],decls:24,vars:0,consts:[["id","wrap"],["id","header"],[1,"container"],[1,"row"],[1,"col"],["id","main"],["id","footer"]],template:function(t,i){1&t&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),mt(5,"app-header"),F()()()(),N(6,"div",5)(7,"div",2)(8,"div",3)(9,"div",4)(10,"main")(11,"div",2),mt(12,"router-outlet"),F()()()()()(),N(13,"div",5)(14,"div",2)(15,"div",3)(16,"div",4)(17,"main"),mt(18,"app-chatbar"),F()()()()(),N(19,"div",6)(20,"div",2)(21,"div",3)(22,"div",4),mt(23,"app-footer"),F()()()()())},dependencies:[AE,QEe,XEe,ZEe],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}#wrap[_ngcontent-%COMP%]{min-height:100%}#footer[_ngcontent-%COMP%]{position:top;clear:both}#main[_ngcontent-%COMP%]{overflow:auto;padding-bottom:180px}#footer[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;margin-top:-180px;height:180px;clear:both}.container[_ngcontent-%COMP%]{padding:20px}"]}),n})();function iG(n){return new D(3e3,!1)}function Pxe(){return typeof window<"u"&&typeof window.document<"u"}function jk(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ua(n){switch(n.length){case 0:return new _p;case 1:return n[0];default:return new z4(n)}}function rG(n,e,t,i,r=new Map,s=new Map){const o=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((p,g)=>{let _=g,v=p;if("offset"!==g)switch(_=e.normalizePropertyName(_,o),v){case ZM:v=r.get(g);break;case Zs:v=s.get(g);break;default:v=e.normalizeStyleValue(g,_,v,o)}f.set(_,v)}),h||a.push(f),c=f,l=d}),o.length)throw function Exe(n){return new D(3502,!1)}();return a}function zk(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&$k(t,"start",n)));break;case"done":n.onDone(()=>i(t&&$k(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&$k(t,"destroy",n)))}}function $k(n,e,t){const s=qk(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function qk(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Ki(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function sG(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Wk=(n,e)=>!1,oG=(n,e,t)=>[],aG=null;function Gk(n){const e=n.parentNode||n.host;return e===aG?null:e}(jk()||typeof Element<"u")&&(Pxe()?(aG=(()=>document.documentElement)(),Wk=(n,e)=>{for(;e;){if(e===n)return!0;e=Gk(e)}return!1}):Wk=(n,e)=>n.contains(e),oG=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Ul=null,lG=!1;const cG=Wk,uG=oG;let dG=(()=>{class n{validateStyleProperty(t){return function Lxe(n){Ul||(Ul=function Vxe(){return typeof document<"u"?document.body:null}()||{},lG=!!Ul.style&&"WebkitAppearance"in Ul.style);let e=!0;return Ul.style&&!function Fxe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ul.style,!e&&lG&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ul.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return cG(t,i)}getParentElement(t){return Gk(t)}query(t,i,r){return uG(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,a=[],l){return new _p(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})(),Kk=(()=>{class n{}return n.NOOP=new dG,n})();const Bxe=1e3,Yk="ng-enter",Nb="ng-leave",Ob="ng-trigger",Pb=".ng-trigger",fG="ng-animating",Qk=".ng-animating";function ro(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Xk(parseFloat(e[1]),e[2])}function Xk(n,e){return"s"===e?n*Bxe:n}function Fb(n,e,t){return n.hasOwnProperty("duration")?n:function Hxe(n,e,t){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(iG()),{duration:0,delay:0,easing:""};r=Xk(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=Xk(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function txe(){return new D(3100,!1)}()),a=!0),s<0&&(e.push(function nxe(){return new D(3101,!1)}()),a=!0),a&&e.splice(l,0,iG())}return{duration:r,delay:s,easing:o}}(n,e,t)}function em(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function pG(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function da(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function gG(n,e,t){return t?e+":"+t+";":""}function _G(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=gG(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=gG(0,qxe(t),n.style[t]));n.setAttribute("style",e)}function us(n,e,t){n.style&&(e.forEach((i,r)=>{const s=Jk(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),jk()&&_G(n))}function Hl(n,e){n.style&&(e.forEach((t,i)=>{const r=Jk(i);n.style[r]=""}),jk()&&_G(n))}function tm(n){return Array.isArray(n)?1==n.length?n[0]:H4(n):n}const Zk=new RegExp("{{\\s*(.+?)\\s*}}","g");function yG(n){let e=[];if("string"==typeof n){let t;for(;t=Zk.exec(n);)e.push(t[1]);Zk.lastIndex=0}return e}function nm(n,e,t){const i=n.toString(),r=i.replace(Zk,(s,o)=>{let a=e[o];return null==a&&(t.push(function rxe(n){return new D(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function Lb(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const $xe=/-+([a-z0-9])/g;function Jk(n){return n.replace($xe,(...e)=>e[1].toUpperCase())}function qxe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Yi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function sxe(n){return new D(3004,!1)}()}}function vG(n,e){return window.getComputedStyle(n)[e]}const Ub="*";function Xxe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Zxe(n,e,t){if(":"==n[0]){const l=function Jxe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function vxe(n){return new D(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function yxe(n){return new D(3015,!1)}()),e;const r=i[1],s=i[2],o=i[3];e.push(bG(r,o));"<"==s[0]&&!(r==Ub&&o==Ub)&&e.push(bG(o,r))}(i,t,e)):t.push(n),t}const Hb=new Set(["true","1"]),jb=new Set(["false","0"]);function bG(n,e){const t=Hb.has(n)||jb.has(n),i=Hb.has(e)||jb.has(e);return(r,s)=>{let o=n==Ub||n==r,a=e==Ub||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?Hb.has(n):jb.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?Hb.has(e):jb.has(e)),o&&a}}const eDe=new RegExp("s*:selfs*,?","g");function eR(n,e,t,i){return new tDe(n).build(e,t,i)}class tDe{constructor(e){this._driver=e}build(e,t,i){const r=new rDe(t);return this._resetContextStyleTimingState(r),Yi(this,tm(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function axe(){return new D(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(function lxe(){return new D(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{yG(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(Lb(s.values()),t.errors.push(function cxe(n,e){return new D(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Yi(this,tm(e.animation),t);return{type:1,matchers:Xxe(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:jl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Yi(this,i,t)),options:jl(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=i;const a=Yi(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:s,options:jl(e.options)}}visitAnimate(e,t){const i=function oDe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return tR(Fb(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=tR(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=Fb(t,e);return tR(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:rt({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=rt(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Zs?i.push(a):t.errors.push(new D(3002,!1)):i.push(pG(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(t.errors.push(function dxe(n,e,t,i,r){return new D(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),t.options&&function zxe(n,e,t){const i=e.params||{},r=yG(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function ixe(n){return new D(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function hxe(){return new D(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(v=>{const x=this._makeStyleAst(v,t);let b=null!=x.offset?x.offset:function sDe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(x.styles),O=0;return null!=b&&(s++,O=x.offset=b),l=l||O<0||O>1,a=a||O<c,c=O,o.push(O),x});l&&t.errors.push(function fxe(){return new D(3012,!1)}()),a&&t.errors.push(function pxe(){return new D(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function mxe(){return new D(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,_=g.duration;return u.forEach((v,x)=>{const b=h>0?x==f?1:h*x:o[x],O=b*_;t.currentTime=p+g.delay+O,g.duration=O,this._validateStyleAst(v,t),v.offset=b,i.styles.push(v)}),i}visitReference(e,t){return{type:8,animation:Yi(this,tm(e.animation),t),options:jl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:jl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:jl(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function nDe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(eDe,"")),n=n.replace(/@\*/g,Pb).replace(/@\w+/g,t=>Pb+"-"+t.slice(1)).replace(/:animating/g,Qk),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Ki(t.collectedStyles,t.currentQuerySelector,new Map);const a=Yi(this,tm(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:jl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function gxe(){return new D(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Fb(e.timings,t.errors,!0);return{type:12,animation:Yi(this,tm(e.animation),t),timings:i,options:null}}}class rDe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function jl(n){return n?(n=em(n)).params&&(n.params=function iDe(n){return n?em(n):null}(n.params)):n={},n}function tR(n,e,t){return{duration:n,delay:e,easing:t}}function nR(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class zb{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const cDe=new RegExp(":enter","g"),dDe=new RegExp(":leave","g");function iR(n,e,t,i,r,s=new Map,o=new Map,a,l,c=[]){return(new hDe).buildKeyframes(n,e,t,i,r,s,o,a,l,c)}class hDe{buildKeyframes(e,t,i,r,s,o,a,l,c,u=[]){c=c||new zb;const d=new rR(e,t,c,r,s,u,[]);d.options=l;const h=l.delay?ro(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),Yi(this,i,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const _=f[g];if(_.element===t){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[nR(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const o="number"==typeof s?s:ro(nm(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?ro(i.duration):null,a=null!=i.delay?ro(i.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Yi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=$b);const o=ro(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Yi(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?ro(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Yi(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Fb(t.params?nm(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?ro(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=$b);let o=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),Yi(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Yi(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const $b={};class rR{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$b,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new qb(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=ro(i.duration)),null!=i.delay&&(r.delay=ro(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=nm(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new rR(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=$b,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new fDe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(cDe,"."+this._enterClassName)).replace(dDe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function _xe(n){return new D(3014,!1)}()),a}}class qb{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new qb(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Zs),this._currentKeyframe.set(t,Zs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},o=function pDe(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,Zs)}else da(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=nm(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Zs),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=da(a,new Map,this._backFill);c.forEach((u,d)=>{u===ZM?e.add(d):u===Zs&&t.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const s=e.size?Lb(e.values()):[],o=t.size?Lb(t.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return nR(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class fDe extends qb{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,a=t/o,l=da(e[0]);l.set("offset",0),s.push(l);const c=da(e[0]);c.set("offset",EG(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=da(e[d]);const f=h.get("offset");h.set("offset",EG((t+f*i)/o)),s.push(h)}i=o,t=0,r="",e=s}return nR(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function EG(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class sR{}const mDe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class gDe extends sR{normalizePropertyName(e,t){return Jk(e)}normalizeStyleValue(e,t,i,r){let s="";const o=i.toString().trim();if(mDe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function oxe(n,e){return new D(3005,!1)}())}return o+s}}function xG(n,e,t,i,r,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const oR={};class DG{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function _De(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||oR,p=this.buildStyles(i,a&&a.params||oR,d),g=l&&l.params||oR,_=this.buildStyles(r,g,d),v=new Set,x=new Map,b=new Map,O="void"===r,Q={params:yDe(g,h),delay:this.ast.options?.delay},G=u?[]:iR(e,t,this.ast.animation,s,o,p,_,Q,c,d);let ze=0;if(G.forEach(Qi=>{ze=Math.max(Qi.duration+Qi.delay,ze)}),d.length)return xG(t,this._triggerName,i,r,O,p,_,[],[],x,b,ze,d);G.forEach(Qi=>{const Nr=Qi.element,UG=Ki(x,Nr,new Set);Qi.preStyleProps.forEach(zl=>UG.add(zl));const rm=Ki(b,Nr,new Set);Qi.postStyleProps.forEach(zl=>rm.add(zl)),Nr!==t&&v.add(Nr)});const rn=Lb(v.values());return xG(t,this._triggerName,i,r,O,p,_,G,rn,x,b,ze)}}function yDe(n,e){const t=em(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class vDe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=em(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=nm(o,r,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(a,o)})}),i}}class wDe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new vDe(r.style,r.options&&r.options.params||{},i))}),SG(this.states,"true","1"),SG(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new DG(e,r,this.states))}),this.fallbackTransition=function CDe(n,e,t){return new DG(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function SG(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const EDe=new zb;class xDe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],s=eR(this._driver,t,i,r);if(i.length)throw function xxe(n){return new D(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=rG(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=iR(this._driver,t,s,Yk,Nb,new Map,new Map,i,EDe,r),o.forEach(u=>{const d=Ki(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function Dxe(){return new D(3300,!1)}()),o=[]),r.length)throw function Sxe(n){return new D(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Zs))})});const c=ua(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Ixe(n){return new D(3301,!1)}();return t}listen(e,t,i,r){const s=qk(t,"","","");return zk(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const IG="ng-animate-queued",aR="ng-animate-disabled",MDe=[],TG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ADe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hr="__ng_removed";class lR{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function ODe(n){return n??null}(i?e.value:e),i){const s=em(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const im="void",cR=new lR(im);class kDe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,fr(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Txe(n,e){return new D(3302,!1)}();if(null==i||0==i.length)throw function Mxe(n){return new D(3303,!1)}();if(!function PDe(n){return"start"==n||"done"==n}(i))throw function Axe(n,e){return new D(3400,!1)}();const s=Ki(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);const a=Ki(this._engine.statesByElement,e,new Map);return a.has(t)||(fr(e,Ob),fr(e,Ob+"-"+t),a.set(t,cR)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function kxe(n){return new D(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),o=new uR(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(fr(e,Ob),fr(e,Ob+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new lR(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=cR),c.value!==im&&l.value===c.value){if(!function VDe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const g=[],_=s.matchStyles(l.value,l.params,g),v=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Hl(e,_),us(e,v)})}return}const h=Ki(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(fr(e,IG),o.onStart(()=>{sd(e,IG)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const _=this._engine.playersByElement.get(e);if(_){let v=_.indexOf(o);v>=0&&_.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Pb,!0);i.forEach(r=>{if(r[hr])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,im,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&ua(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||cR,u=new lR(im),d=new uR(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[hr];(!s||s===TG)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){fr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=qk(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,zk(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class RDe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new kDe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(Wb(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Wb(t))return;const s=t[hr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),fr(e,aR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),sd(e,aR))}removeNode(e,t,i,r){if(Wb(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[hr]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return Wb(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Pb,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Qk,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ua(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[hr];if(t&&t.setForRemoval){if(e[hr]=TG,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(aR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)fr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?ua(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Rxe(n){return new D(3402,!1)}()}_flushAnimations(e,t){const i=new zb,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(q=>{u.add(q);const te=this.driver.query(q,".ng-animate-queued",!0);for(let le=0;le<te.length;le++)u.add(te[le])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=kG(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((q,te)=>{const le=Yk+g++;p.set(te,le),q.forEach($e=>fr($e,le))});const _=[],v=new Set,x=new Set;for(let q=0;q<this.collectedLeaveElements.length;q++){const te=this.collectedLeaveElements[q],le=te[hr];le&&le.setForRemoval&&(_.push(te),v.add(te),le.hasAnimation?this.driver.query(te,".ng-star-inserted",!0).forEach($e=>v.add($e)):x.add(te))}const b=new Map,O=kG(h,Array.from(v));O.forEach((q,te)=>{const le=Nb+g++;b.set(te,le),q.forEach($e=>fr($e,le))}),e.push(()=>{f.forEach((q,te)=>{const le=p.get(te);q.forEach($e=>sd($e,le))}),O.forEach((q,te)=>{const le=b.get(te);q.forEach($e=>sd($e,le))}),_.forEach(q=>{this.processLeaveNode(q)})});const Q=[],G=[];for(let q=this._namespaceList.length-1;q>=0;q--)this._namespaceList[q].drainQueuedTransitions(t).forEach(le=>{const $e=le.player,Mn=le.element;if(Q.push($e),this.collectedEnterElements.length){const ei=Mn[hr];if(ei&&ei.setForMove){if(ei.previousTriggersValues&&ei.previousTriggersValues.has(le.triggerName)){const $l=ei.previousTriggersValues.get(le.triggerName),pr=this.statesByElement.get(le.element);if(pr&&pr.has(le.triggerName)){const Yb=pr.get(le.triggerName);Yb.value=$l,pr.set(le.triggerName,Yb)}}return void $e.destroy()}}const ds=!d||!this.driver.containsElement(d,Mn),Xi=b.get(Mn),ha=p.get(Mn),Rt=this._buildInstruction(le,i,ha,Xi,ds);if(Rt.errors&&Rt.errors.length)return void G.push(Rt);if(ds)return $e.onStart(()=>Hl(Mn,Rt.fromStyles)),$e.onDestroy(()=>us(Mn,Rt.toStyles)),void r.push($e);if(le.isFallbackTransition)return $e.onStart(()=>Hl(Mn,Rt.fromStyles)),$e.onDestroy(()=>us(Mn,Rt.toStyles)),void r.push($e);const zG=[];Rt.timelines.forEach(ei=>{ei.stretchStartingKeyframe=!0,this.disabledNodes.has(ei.element)||zG.push(ei)}),Rt.timelines=zG,i.append(Mn,Rt.timelines),o.push({instruction:Rt,player:$e,element:Mn}),Rt.queriedElements.forEach(ei=>Ki(a,ei,[]).push($e)),Rt.preStyleProps.forEach((ei,$l)=>{if(ei.size){let pr=l.get($l);pr||l.set($l,pr=new Set),ei.forEach((Yb,fR)=>pr.add(fR))}}),Rt.postStyleProps.forEach((ei,$l)=>{let pr=c.get($l);pr||c.set($l,pr=new Set),ei.forEach((Yb,fR)=>pr.add(fR))})});if(G.length){const q=[];G.forEach(te=>{q.push(function Nxe(n,e){return new D(3505,!1)}())}),Q.forEach(te=>te.destroy()),this.reportError(q)}const ze=new Map,rn=new Map;o.forEach(q=>{const te=q.element;i.has(te)&&(rn.set(te,te),this._beforeAnimationBuild(q.player.namespaceId,q.instruction,ze))}),r.forEach(q=>{const te=q.element;this._getPreviousPlayers(te,!1,q.namespaceId,q.triggerName,null).forEach($e=>{Ki(ze,te,[]).push($e),$e.destroy()})});const Qi=_.filter(q=>NG(q,l,c)),Nr=new Map;AG(Nr,this.driver,x,c,Zs).forEach(q=>{NG(q,l,c)&&Qi.push(q)});const rm=new Map;f.forEach((q,te)=>{AG(rm,this.driver,new Set(q),l,ZM)}),Qi.forEach(q=>{const te=Nr.get(q),le=rm.get(q);Nr.set(q,new Map([...Array.from(te?.entries()??[]),...Array.from(le?.entries()??[])]))});const zl=[],HG=[],jG={};o.forEach(q=>{const{element:te,player:le,instruction:$e}=q;if(i.has(te)){if(u.has(te))return le.onDestroy(()=>us(te,$e.toStyles)),le.disabled=!0,le.overrideTotalTime($e.totalTime),void r.push(le);let Mn=jG;if(rn.size>1){let Xi=te;const ha=[];for(;Xi=Xi.parentNode;){const Rt=rn.get(Xi);if(Rt){Mn=Rt;break}ha.push(Xi)}ha.forEach(Rt=>rn.set(Rt,Mn))}const ds=this._buildAnimation(le.namespaceId,$e,ze,s,rm,Nr);if(le.setRealPlayer(ds),Mn===jG)zl.push(le);else{const Xi=this.playersByElement.get(Mn);Xi&&Xi.length&&(le.parentPlayer=ua(Xi)),r.push(le)}}else Hl(te,$e.fromStyles),le.onDestroy(()=>us(te,$e.toStyles)),HG.push(le),u.has(te)&&r.push(le)}),HG.forEach(q=>{const te=s.get(q.element);if(te&&te.length){const le=ua(te);q.setRealPlayer(le)}}),r.forEach(q=>{q.parentPlayer?q.syncPlayerEvents(q.parentPlayer):q.destroy()});for(let q=0;q<_.length;q++){const te=_[q],le=te[hr];if(sd(te,Nb),le&&le.hasAnimation)continue;let $e=[];if(a.size){let ds=a.get(te);ds&&ds.length&&$e.push(...ds);let Xi=this.driver.query(te,Qk,!0);for(let ha=0;ha<Xi.length;ha++){let Rt=a.get(Xi[ha]);Rt&&Rt.length&&$e.push(...Rt)}}const Mn=$e.filter(ds=>!ds.destroyed);Mn.length?FDe(this,te,Mn):this.processLeaveNode(te)}return _.length=0,zl.forEach(q=>{this.players.push(q),q.onDone(()=>{q.destroy();const te=this.players.indexOf(q);this.players.splice(te,1)}),q.play()}),zl}elementContainsData(e,t){let i=!1;const r=t[hr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==im;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=Ki(i,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Hl(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;u.add(g);const _=g[hr];if(_&&_.removedBeforeQueried)return new _p(p.duration,p.delay);const v=g!==l,x=function LDe(n){const e=[];return RG(n,e),e}((i.get(g)||MDe).map(ze=>ze.getRealPlayer())).filter(ze=>!!ze.element&&ze.element===g),b=s.get(g),O=o.get(g),Q=rG(0,this._normalizer,0,p.keyframes,b,O),G=this._buildPlayer(p,Q,x);if(p.subTimeline&&r&&d.add(g),v){const ze=new uR(e,a,g);ze.setRealPlayer(G),c.push(ze)}return G});c.forEach(p=>{Ki(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function NDe(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>fr(p,fG));const f=ua(h);return f.onDestroy(()=>{u.forEach(p=>sd(p,fG)),us(l,t.toStyles)}),d.forEach(p=>{Ki(r,p,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new _p(e.duration,e.delay)}}class uR{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new _p,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>zk(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ki(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Wb(n){return n&&1===n.nodeType}function MG(n,e){const t=n.style.display;return n.style.display=e??"none",t}function AG(n,e,t,i,r){const s=[];t.forEach(l=>s.push(MG(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[hr]=ADe,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>MG(l,s[a++])),o}function kG(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?i:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);l!==i&&t.get(l).push(a)}),t}function fr(n,e){n.classList?.add(e)}function sd(n,e){n.classList?.remove(e)}function FDe(n,e,t){ua(t).onDone(()=>n.processLeaveNode(e))}function RG(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof z4?RG(i.players,e):e.push(i)}}function NG(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class Gb{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new RDe(e,t,i),this._timelineEngine=new xDe(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const o=e+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],c=[],u=eR(this._driver,s,l,c);if(l.length)throw function Cxe(n,e){return new D(3404,!1)}();a=function bDe(n,e,t){return new wDe(n,e,t)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,o]=sG(i);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[o,a]=sG(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let UDe=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&us(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(us(this._element,this._initialStyles),this._endStyles&&(us(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Hl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hl(this._element,this._endStyles),this._endStyles=null),us(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function dR(n){let e=null;return n.forEach((t,i)=>{(function HDe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class OG{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:vG(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class jDe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return cG(e,t)}getParentElement(e){return Gk(e)}query(e,t,i){return uG(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof OG);(function Wxe(n,e){return 0===n||0===e})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=function jxe(n){return n.length?n[0]instanceof Map?n:n.map(e=>pG(e)):[]}(t).map(f=>da(f));d=function Gxe(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,vG(n,a)))}}return e}(e,d,c);const h=function BDe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=dR(e[0]),e.length>1&&(i=dR(e[e.length-1]))):e instanceof Map&&(t=dR(e)),t||i?new UDe(n,t,i):null}(e,d);return new OG(e,d,l,h)}}let zDe=(()=>{class n extends U4{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:gr.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?H4(t):t;return PG(this._renderer,null,i,"register",[r]),new $De(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(C(Rd),C(we))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class $De extends Jge{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new qDe(this._id,e,t||{},this._renderer)}}class qDe{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return PG(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function PG(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const FG="@.disabled";let WDe=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new LG("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return i.data.animation.forEach(l),new GDe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(C(Rd),C(Gb),C(ne))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();class LG{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==FG?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class GDe extends LG{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==FG?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function KDe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function YDe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let QDe=(()=>{class n extends Gb{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(C(we),C(Kk),C(sR),C(Rc))},n.\u0275prov=P({token:n,factory:n.\u0275fac}),n})();const VG=[{provide:U4,useClass:zDe},{provide:sR,useFactory:function XDe(){return new gDe}},{provide:Gb,useClass:QDe},{provide:Rd,useFactory:function ZDe(n,e,t){return new WDe(n,e,t)},deps:[Bg,Gb,ne]}],hR=[{provide:Kk,useFactory:()=>new jDe},{provide:uo,useValue:"BrowserAnimations"},...VG],BG=[{provide:Kk,useClass:dG},{provide:uo,useValue:"NoopAnimations"},...VG];let JDe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?BG:hR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n}),n.\u0275inj=je({providers:hR,imports:[dV]}),n})(),eSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=We({type:n,bootstrap:[exe]}),n.\u0275inj=je({providers:[eh],imports:[dV,Twe,JDe,Lre,Vre,j_e,bye,awe,tA,xve,Nve,Uve,Xq,gwe]}),n})();ete().bootstrapModule(eSe).catch(n=>console.error(n))}},Qb=>{Qb(Qb.s=985)}]);